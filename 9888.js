"use strict";(self.webpackChunkangular_moneystats=self.webpackChunkangular_moneystats||[]).push([[9888],{641:(A,w,i)=>{i.d(w,{o:()=>n});var t=i(467),e=i(8359),a=i(7456),T=i(6880),f=i(5312),p=i(6693),u=i(4438),I=i(2509),E=i(4779),v=i(9914),m=i(6185);let n=(()=>{class l{router;authService;userService;updates;environment=f.c;isUserLoggedSubscribe=new e.yU;constructor(r,d,_,b){this.router=r,this.authService=d,this.userService=_,this.updates=b,this.checkUpdates()}canActivate(r,d){let _=JSON.parse(localStorage.getItem(a.M2.AUTHTOKEN)),b=JSON.parse(localStorage.getItem(a.M2.USERACCOUNT));return!(T.A.isNullOrEmpty(b)||!b.mockedUser)||(null!=_&&null!=b?(this.validateAccessToken(b,_),!0):(this.router.navigate(["auth/login"]),!1))}checkUpdates(){p.$.info("Looking for updates...","RouteGuardService"),this.updates.versionUpdates.subscribe(r=>{"VERSION_READY"===r.type&&(p.$.info("New version available, preparing to update...","AppComponent"),this.doAppUpdate())})}doAppUpdate(){var r=this;return(0,t.A)(function*(){try{yield r.updates.activateUpdate(),p.$.info("Update activated. Reloading the page...","RouteGuardService"),window.location.reload()}catch{p.$.info("Error activating update","RouteGuardService")}})()}validateAccessToken(r,d){if(!T.A.isNullOrEmpty(d.access_token)){const _=Date.now();if(d.expirationThreshold||this.calculateExpirationThreshold(_,d),d.expires_at-_<3e5)return this.tryRefreshToken();if(_<d.expirationThreshold)return p.$.info("Token is valid, Next Validation: "+new Date(d.expirationThreshold).toLocaleTimeString()+" Expires At: "+new Date(d.expires_at).toLocaleTimeString()+", skipping authorize","RouteGuardService"),!0;this.authService.authorizeCheck(d.access_token).subscribe(D=>200===D.status&&(this.calculateExpirationThreshold(_,d),!0))}return!1}tryRefreshToken(){return this.authService.refreshToken().subscribe({next:r=>(p.$.info(r.message,"RouteGuardService"),this.userService.setUserGlobally(r.data),200==r.status),error:r=>(this.authService.logout(),!1)})}calculateExpirationThreshold(r,d){const _=d.expires_at-r;let b=JSON.parse(localStorage.getItem(a.M2.AUTHTOKEN));b.expirationThreshold=r+_/3,localStorage.setItem(a.M2.AUTHTOKEN,JSON.stringify(b))}unsubscribe(){this.isUserLoggedSubscribe.unsubscribe()}static \u0275fac=function(d){return new(d||l)(u.KVO(I.Ix),u.KVO(E.u),u.KVO(v.D),u.KVO(m.EI))};static \u0275prov=u.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},4460:(A,w,i)=>{i.d(w,{s:()=>e});var t=i(4438);let e=(()=>{class a{header;body;footer="MoneyStats";constructor(){}ngOnInit(){}static \u0275fac=function(p){return new(p||a)};static \u0275cmp=t.VBU({type:a,selectors:[["app-content-box"]],inputs:{header:"header",body:"body",footer:"footer"},standalone:!1,decls:11,vars:5,consts:[[1,"section","mt-2","inset","loading-hidden"],[1,"wide-block","pt-2","pb-2"],[1,"content-header","mb-05"],[1,"content-footer","mt-05"],["hidden","","role","alert",1,"alert","alert-outline-secondary","m-3"]],template:function(p,u){1&p&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.EFF(4),t.j41(5,"div",3),t.EFF(6),t.k0s()()(),t.j41(7,"div",4),t.EFF(8),t.nrm(9,"br"),t.EFF(10),t.k0s()),2&p&&(t.R7$(3),t.JRh(u.header),t.R7$(),t.SpI(" ",u.body," "),t.R7$(2),t.JRh(u.footer),t.R7$(2),t.SpI(" ",u.body," "),t.R7$(2),t.SpI(" ",u.footer,"\n"))},styles:[".wide-block[_ngcontent-%COMP%]{border-radius:20px!important}"]})}return a})()},458:(A,w,i)=>{i.d(w,{H:()=>e});var t=i(4438);let e=(()=>{class a{title="Title";class="";value="Value";constructor(){}ngOnInit(){}static \u0275fac=function(p){return new(p||a)};static \u0275cmp=t.VBU({type:a,selectors:[["app-stats-card"]],inputs:{title:"title",class:"class",value:"value"},standalone:!1,decls:4,vars:5,consts:[[1,"stat-box"],[1,"title",3,"innerHTML"],[1,"load-text",2,"margin-bottom","0px"],[3,"innerHTML"]],template:function(p,u){1&p&&(t.j41(0,"div",0),t.nrm(1,"div",1)(2,"p",2)(3,"div",3),t.k0s()),2&p&&(t.R7$(),t.Y8G("innerHTML",u.title,t.npT),t.R7$(2),t.ZvI("value loading-hidden ",u.class,""),t.Y8G("innerHTML",u.value,t.npT))},styles:["@media screen and (max-width: 780px){.date[_ngcontent-%COMP%]{font-size:larger}}.stat-box[_ngcontent-%COMP%]{border-radius:20px}"]})}return a})()},9757:(A,w,i)=>{i.d(w,{G:()=>I});var t=i(7456),e=i(5312),a=i(4438),T=i(4909),f=i(177);function p(E,v){if(1&E&&(a.j41(0,"div",10)(1,"h2",11)(2,"button",12),a.EFF(3),a.nI1(4,"date"),a.k0s()(),a.j41(5,"div",13)(6,"div",14)(7,"strong",15),a.EFF(8),a.k0s(),a.nrm(9,"br")(10,"div",16),a.k0s()()()),2&E){const m=v.$implicit,n=v.index;a.R7$(2),a.ZvI("accordion-button ",0==n?"":"collapsed",""),a.x72("data-bs-target","#",m.modalId,""),a.R7$(),a.Lme(" ",a.i5U(4,13,m.version_date,"dd MMM y")," - ",m.version_title," "),a.R7$(2),a.ZvI("accordion-collapse collapse ",0==n?"show":"",""),a.FS9("id",m.modalId),a.R7$(3),a.JRh(m.version),a.R7$(2),a.Y8G("innerHTML",m.changelog,a.npT)}}let u=(()=>{class E{translate;modalId="";environment=e.c;changelogs=[];constructor(m){this.translate=m}ngOnInit(){this.translate.get("version.changelog.data").subscribe(m=>{this.changelogs=m.slice().reverse()})}static \u0275fac=function(n){return new(n||E)(a.rXU(T.c$))};static \u0275cmp=a.VBU({type:E,selectors:[["app-changelog"]],inputs:{modalId:"modalId"},standalone:!1,decls:16,vars:12,consts:[["tabindex","-1","role","dialog",1,"modal","fade","modalbox",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["href","javascript:;","data-bs-dismiss","modal"],[1,"modal-body"],[1,"section-title"],["id","accordionChangelog",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse"],["data-bs-parent","#accordionChangelog",3,"id"],[1,"accordion-body"],[1,"fs-3"],[3,"innerHTML"]],template:function(n,l){1&n&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),a.EFF(5),a.nI1(6,"translate"),a.k0s(),a.j41(7,"a",5),a.EFF(8),a.nI1(9,"translate"),a.k0s()(),a.j41(10,"div",6)(11,"div",7),a.EFF(12),a.nI1(13,"translate"),a.k0s(),a.j41(14,"div",8),a.DNE(15,p,11,16,"div",9),a.k0s()()()()()),2&n&&(a.FS9("id",l.modalId),a.R7$(5),a.Lme(" ",a.bMT(6,6,"version.moneystats")," ",l.environment.version," "),a.R7$(3),a.JRh(a.bMT(9,8,"version.close")),a.R7$(4),a.SpI(" ",a.bMT(13,10,"version.changelog.title")," "),a.R7$(3),a.Y8G("ngForOf",l.changelogs))},dependencies:[f.Sq,f.vh,T.D9],encapsulation:2})}return E})(),I=(()=>{class E{modalId="";environment=e.c;constructor(){}get modalConstant(){return t.mX}ngOnInit(){}static \u0275fac=function(n){return new(n||E)};static \u0275cmp=a.VBU({type:E,selectors:[["app-version"]],inputs:{modalId:"modalId"},standalone:!1,decls:23,vars:19,consts:[["tabindex","-1","aria-hidden","true",1,"modal","fade","modalbox",2,"display","none",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["href","javascript:;","data-bs-dismiss","modal"],[1,"modal-body"],[1,"section","mt-2","mb-2"],[1,"captionCenter"],[1,"card",2,"max-width","400px"],["alt","logo_transparent",1,"responsive",3,"src"],[1,"text-center"],["type","button","data-bs-toggle","modal",1,"btn","btn-text-primary","rounded","shadowed","me-1","mb-1"],[3,"modalId"]],template:function(n,l){1&n&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),a.EFF(5),a.nI1(6,"translate"),a.k0s(),a.j41(7,"a",5),a.EFF(8),a.nI1(9,"translate"),a.k0s()(),a.j41(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),a.nrm(14,"img",10)(15,"hr"),a.j41(16,"p",11),a.EFF(17),a.nI1(18,"translate"),a.k0s(),a.j41(19,"button",12),a.EFF(20),a.nI1(21,"translate"),a.k0s()()()()()()()(),a.nrm(22,"app-changelog",13)),2&n&&(a.FS9("id",l.modalId),a.R7$(5),a.JRh(a.bMT(6,11,"version.title")),a.R7$(3),a.JRh(a.bMT(9,13,"version.close")),a.R7$(6),a.Mz_("src","",l.environment.baseUrlVersion,"assets/images/logos/logo_transparent.png",a.B4B),a.R7$(3),a.Lme(" ",a.bMT(18,15,"version.moneystats")," ",l.environment.version," "),a.R7$(2),a.x72("data-bs-target","#",l.modalConstant.CHANGELOG,""),a.R7$(),a.SpI(" ",a.bMT(21,17,"version.changelog.title")," "),a.R7$(2),a.Y8G("modalId",l.modalConstant.CHANGELOG))},dependencies:[u,T.D9],styles:[".captionCenter[_ngcontent-%COMP%]{position:absolute;margin:0 -50% 0 0;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return E})()},2362:(A,w,i)=>{i.d(w,{a:()=>m});var t=i(4438),e=i(5954),a=i(2509),T=i(177),f=i(7086),p=i(4909);const u=(n,l)=>["/transaction/details",n,l],I=n=>["/crypto/asset/details",n];function E(n,l){if(1&n){const s=t.RV6();t.j41(0,"a",2),t.bIt("click",function(){t.eBV(s);const d=t.XpG();return t.Njj(d.parsingWallet())}),t.j41(1,"div",3),t.nrm(2,"img",4),t.j41(3,"div")(4,"strong"),t.EFF(5),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s()()(),t.j41(8,"div",5)(9,"div"),t.EFF(10),t.k0s(),t.j41(11,"p",6),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()}if(2&n){const s=t.XpG();t.Y8G("routerLink",t.l_i(11,u,s.wallet.id,s.wallet.name)),t.R7$(2),t.FS9("src",s.wallet.img,t.B4B),t.R7$(3),t.JRh(s.wallet.name),t.R7$(2),t.JRh(s.wallet.category),t.R7$(2),t.ZvI("text-end price ",s.class,""),t.R7$(),t.SpI(" ",s.hiddenAmount?s.amount:s.differenceLastStats," "),t.R7$(2),t.JRh(t.bMT(13,9,"transactions_page.difference"))}}function v(n,l){if(1&n&&(t.j41(0,"a",7)(1,"div",3),t.nrm(2,"img",4),t.j41(3,"div")(4,"strong"),t.EFF(5),t.k0s(),t.j41(6,"div",8)(7,"small"),t.EFF(8),t.k0s()()()(),t.j41(9,"div",6)(10,"p",9)(11,"strong"),t.EFF(12),t.k0s()(),t.j41(13,"div",10)(14,"span"),t.nrm(15,"ion-icon",11),t.EFF(16),t.k0s()()()()),2&n){const s=t.XpG();t.Y8G("routerLink",t.eq3(12,I,s.asset.identifier)),t.R7$(2),t.FS9("src",s.asset.icon,t.B4B),t.R7$(3),t.JRh(s.asset.name),t.R7$(3),t.Lme("",s.hiddenAmount?s.amount:s.asset.balance," ",s.asset.symbol,""),t.R7$(4),t.Lme("",s.currency," ",s.hiddenAmount?s.amount:s.asset.value,""),t.R7$(2),t.ZvI("badge ",0==s.asset.performance?"badge-warning":s.asset.performance>0?"badge-success":"badge-danger",""),t.R7$(),t.FS9("name",0==s.asset.performance?"arrow-down-outline":s.asset.performance>0?"arrow-up-outline":"arrow-down-outline"),t.R7$(),t.SpI(" ",s.asset.performance,"% ")}}let m=(()=>{class n{shared;amount="******";hiddenAmount=!1;asset;currency;wallet;differenceLastStats;class;constructor(s){this.shared=s}ngOnInit(){}parsingWallet(){this.shared.setWallet(this.wallet)}static \u0275fac=function(r){return new(r||n)(t.rXU(e.d))};static \u0275cmp=t.VBU({type:n,selectors:[["app-transaction-card"]],inputs:{hiddenAmount:"hiddenAmount",asset:[0,"assets","asset"],currency:"currency",wallet:"wallet",differenceLastStats:"differenceLastStats",class:"class"},standalone:!1,decls:2,vars:2,consts:[["href","#","class","item zoom",3,"routerLink","click",4,"ngIf"],["class","item crypto clickable zoom",3,"routerLink",4,"ngIf"],["href","#",1,"item","zoom",3,"click","routerLink"],[1,"detail"],["alt","img",1,"image-block","imaged","w48",3,"src"],[1,"right"],[1,"text-end"],[1,"item","crypto","clickable","zoom",3,"routerLink"],[1,"text-small","text-secondary"],[1,"fs-6","text-white"],[1,"text-small"],[3,"name"]],template:function(r,d){1&r&&t.DNE(0,E,14,14,"a",0)(1,v,17,14,"a",1),2&r&&(t.Y8G("ngIf",d.wallet),t.R7$(),t.Y8G("ngIf",d.asset))},dependencies:[a.Wk,T.bT,f.iq,f.oY,p.D9],styles:[".item[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px;border-radius:20px}.price[_ngcontent-%COMP%]{margin-bottom:-5px}.imaged[_ngcontent-%COMP%]{width:48px!important;height:48px!important;object-position:center center!important;object-fit:cover!important}.crypto[_ngcontent-%COMP%]{height:85px}.item[_ngcontent-%COMP%]:hover, .item[_ngcontent-%COMP%]:active{background-color:#161129b7!important;transition:background-color .3s}"]})}return n})()},4715:(A,w,i)=>{i.d(w,{G:()=>T});var t=i(4438),e=i(177);function a(f,p){1&f&&(t.j41(0,"p",3),t.EFF(1," This is some text within a card body. "),t.k0s())}let T=(()=>{class f{isThreeValue=!1;constructor(){}ngOnInit(){}static \u0275fac=function(I){return new(I||f)};static \u0275cmp=t.VBU({type:f,selectors:[["app-loading-card"]],inputs:{isThreeValue:"isThreeValue"},standalone:!1,decls:8,vars:1,consts:[[1,"section","mt-2","loading-card","border_round"],[1,"card"],[1,"card-body"],[1,"load-text"],["class","load-text",4,"ngIf"],[1,"load-text",2,"margin-bottom","0px"]],template:function(I,E){1&I&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),t.EFF(4,"This is some text within a card body."),t.k0s(),t.DNE(5,a,2,0,"p",4),t.j41(6,"p",5),t.EFF(7," This is some text within a card body. "),t.k0s()()()()),2&I&&(t.R7$(5),t.Y8G("ngIf",E.isThreeValue))},dependencies:[e.bT],encapsulation:2})}return f})()},3445:(A,w,i)=>{i.d(w,{k:()=>Q});var t=i(4438),e=i(8359),a=i(9496),T=i(7456),f=i(6693),p=i(5312),u=i(5974),I=i(4909),E=i(88),v=i(6296),m=i(177),n=i(7086),l=i(9417);const s=()=>({standalone:!0});function r(c,M){1&c&&(t.j41(0,"h5",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"modal_component.add_wallet.title")," "))}function d(c,M){1&c&&(t.j41(0,"h5",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"modal_component.add_wallet.editWallet.title")," "))}function _(c,M){if(1&c&&(t.j41(0,"div",15),t.DNE(1,r,3,3,"h5",16)(2,d,3,3,"h5",16),t.k0s()),2&c){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.wallet.id),t.R7$(),t.Y8G("ngIf",o.wallet.id)}}function b(c,M){1&c&&(t.j41(0,"h5",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"modal_component.add_wallet.crypto_title")," "))}function y(c,M){1&c&&(t.j41(0,"h5",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"modal_component.add_wallet.editWallet.crypto_title")," "))}function D(c,M){if(1&c&&(t.j41(0,"div",15),t.DNE(1,b,3,3,"h5",16)(2,y,3,3,"h5",16),t.k0s()),2&c){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.wallet.id),t.R7$(),t.Y8G("ngIf",o.wallet.id)}}function C(c,M){1&c&&(t.j41(0,"p")(1,"small"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&c&&(t.R7$(2),t.JRh(t.bMT(3,1,"modal_component.add_wallet.crypto.subTitle")))}function U(c,M){1&c&&(t.j41(0,"p")(1,"small"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&c&&(t.R7$(2),t.JRh(t.bMT(3,1,"modal_component.add_wallet.crypto.subTitle2")))}function O(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",23)(1,"button",24),t.bIt("click",function(){t.eBV(o);const g=t.XpG(2);return t.Njj(g.isNewWallet=!0)}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",24),t.bIt("click",function(){t.eBV(o);const g=t.XpG(2);return t.Njj(g.isImportWallet=!0)}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}2&c&&(t.R7$(2),t.SpI(" ",t.bMT(3,2,"modal_component.add_wallet.crypto.new")," "),t.R7$(3),t.SpI(" ",t.bMT(6,4,"modal_component.add_wallet.crypto.import")," "))}function W(c,M){if(1&c&&(t.j41(0,"option",34),t.EFF(1),t.k0s()),2&c){const o=M.$implicit,h=t.XpG(3);t.Y8G("selected",h.walletName===o.name)("value",o.name),t.R7$(),t.SpI(" ",o.name," ")}}function F(c,M){if(1&c){const o=t.RV6();t.j41(0,"div")(1,"div",25)(2,"div",26)(3,"label",27),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"select",28,1),t.mxI("ngModelChange",function(g){t.eBV(o);const R=t.XpG(2);return t.DH7(R.walletName,g)||(R.walletName=g),t.Njj(g)}),t.j41(8,"option",29),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.DNE(11,W,2,3,"option",30),t.k0s()()(),t.j41(12,"div",23)(13,"button",31),t.bIt("click",function(){t.eBV(o);const g=t.XpG(2);return t.Njj(g.importWallet())}),t.EFF(14),t.nI1(15,"translate"),t.k0s()(),t.j41(16,"div",32)(17,"button",33),t.bIt("click",function(){t.eBV(o);const g=t.XpG(2);return t.Njj(g.importWallet())}),t.EFF(18),t.nI1(19,"translate"),t.k0s()()()}if(2&c){const o=t.XpG(2),h=t.sdS(7);t.R7$(4),t.JRh(t.bMT(5,8,"modal_component.add_wallet.select_wallet")),t.R7$(2),t.R50("ngModel",o.walletName),t.R7$(2),t.Y8G("value",o.walletName),t.R7$(),t.SpI(" ",t.bMT(10,10,"modal_component.add_wallet.select_wallet")," "),t.R7$(2),t.Y8G("ngForOf",o.notCryptoWallets),t.R7$(2),t.Y8G("disabled",h.invalid),t.R7$(),t.SpI(" ",t.bMT(15,12,"modal_component.add_wallet.crypto.import")," "),t.R7$(4),t.SpI(" ",t.bMT(19,14,"modal_component.add_wallet.crypto.import")," ")}}function S(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"button",33),t.bIt("click",function(){t.eBV(o);const g=t.XpG(2);return t.Njj(g.isNewWallet=!0)}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"div",37)(8,"div",38)(9,"button",33),t.bIt("click",function(){t.eBV(o);const g=t.XpG(2);return t.Njj(g.isImportWallet=!0)}),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()()}2&c&&(t.R7$(5),t.SpI(" ",t.bMT(6,2,"modal_component.add_wallet.crypto.new")," "),t.R7$(5),t.SpI(" ",t.bMT(11,4,"modal_component.add_wallet.crypto.import")," "))}function k(c,M){if(1&c&&(t.j41(0,"div",18)(1,"h2",19),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,C,4,3,"p",20)(5,U,4,3,"p",20)(6,O,7,6,"div",21)(7,F,20,16,"div",20)(8,S,12,6,"div",22),t.k0s()),2&c){const o=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,6,"modal_component.add_wallet.crypto.title")," "),t.R7$(2),t.Y8G("ngIf",!o.isImportWallet),t.R7$(),t.Y8G("ngIf",o.isImportWallet),t.R7$(),t.Y8G("ngIf",!o.isImportWallet),t.R7$(),t.Y8G("ngIf",o.isImportWallet),t.R7$(),t.Y8G("ngIf",!o.isImportWallet)}}function B(c,M){if(1&c&&(t.j41(0,"div",61),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c){const o=t.XpG(3);t.R7$(),t.Lme(" ",t.bMT(2,2,"modal_component.add_wallet.sizeToBig"),"",o.environment.imageSizeMax/1e3,"kb ")}}function x(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",53)(1,"div",54)(2,"a",55)(3,"img",56),t.bIt("click",function(){t.eBV(o);const g=t.sdS(5);return t.Njj(g.click())}),t.k0s(),t.j41(4,"input",57,4),t.bIt("change",function(g){t.eBV(o);const R=t.XpG(2);return t.Njj(R.onFileSelected(g))}),t.k0s(),t.j41(6,"span",58),t.nrm(7,"ion-icon",59),t.k0s()()(),t.DNE(8,B,3,4,"div",60),t.k0s()}if(2&c){const o=t.XpG(2);t.R7$(3),t.FS9("src",o.walletImg,t.B4B),t.R7$(5),t.Y8G("ngIf",o.warning)}}function L(c,M){if(1&c&&(t.j41(0,"option",29),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c){const o=t.XpG(3);t.Y8G("value",o.wallet.category),t.R7$(),t.SpI(" ",t.bMT(2,2,"modal_component.add_wallet.categoryText")," ")}}function j(c,M){if(1&c&&(t.j41(0,"option",34),t.EFF(1),t.k0s()),2&c){const o=M.$implicit,h=t.XpG(3);t.FS9("value",o.name),t.Y8G("selected",o.name===h.wallet.category),t.R7$(),t.SpI(" ",o.name," ")}}function G(c,M){if(1&c){const o=t.RV6();t.j41(0,"select",62,5),t.mxI("ngModelChange",function(g){t.eBV(o);const R=t.XpG(2);return t.DH7(R.wallet.category,g)||(R.wallet.category=g),t.Njj(g)}),t.DNE(2,L,3,4,"option",63)(3,j,2,3,"option",30),t.k0s()}if(2&c){const o=t.XpG(2);t.R50("ngModel",o.wallet.category),t.R7$(2),t.Y8G("ngIf",!o.wallet.id),t.R7$(),t.Y8G("ngForOf",o.categories)}}function P(c,M){if(1&c){const o=t.RV6();t.j41(0,"select",64,5),t.mxI("ngModelChange",function(g){t.eBV(o);const R=t.XpG(2);return t.DH7(R.wallet.category,g)||(R.wallet.category=g),t.Njj(g)}),t.j41(2,"option",65),t.EFF(3),t.k0s()()}if(2&c){const o=t.XpG(2);t.R50("ngModel",o.wallet.category),t.R7$(2),t.Y8G("value",o.wallet.category)("selected",o.wallet.category),t.R7$(),t.SpI(" ",o.wallet.category," ")}}function N(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",41)(1,"div",25)(2,"div",26)(3,"label",42),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"input",66,6),t.nI1(8,"translate"),t.mxI("ngModelChange",function(g){t.eBV(o);const R=t.XpG(2);return t.DH7(R.wallet.balance,g)||(R.wallet.balance=g),t.Njj(g)}),t.k0s(),t.j41(9,"i",44),t.nrm(10,"ion-icon",45),t.k0s()()()()}if(2&c){const o=t.XpG(2);t.R7$(4),t.JRh(t.bMT(5,4,"modal_component.add_wallet.balance")),t.R7$(2),t.FS9("placeholder",t.bMT(8,6,"modal_component.add_wallet.balanceText")),t.FS9("value",o.wallet.balance),t.R50("ngModel",o.wallet.balance)}}function K(c,M){if(1&c&&(t.j41(0,"option",34),t.EFF(1),t.k0s()),2&c){const o=M.$implicit,h=t.XpG(3);t.Y8G("selected",h.wallet.type==o)("value",o),t.R7$(),t.SpI(" ",o," ")}}function Y(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",41)(1,"div",25)(2,"div",26)(3,"label",67),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"select",68,7),t.mxI("ngModelChange",function(g){t.eBV(o);const R=t.XpG(2);return t.DH7(R.wallet.type,g)||(R.wallet.type=g),t.Njj(g)}),t.j41(8,"option",69),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.DNE(11,K,2,3,"option",30),t.k0s()()()()}if(2&c){const o=t.XpG(2);t.R7$(4),t.JRh(t.bMT(5,6,"modal_component.add_wallet.type")),t.R7$(2),t.R50("ngModel",o.wallet.type),t.R7$(2),t.Y8G("selected",!o.wallet.type)("value",void 0),t.R7$(),t.SpI(" ",t.bMT(10,8,"modal_component.add_wallet.typeText")," "),t.R7$(2),t.Y8G("ngForOf",o.cryptoTypes)}}function V(c,M){if(1&c&&(t.j41(0,"div",76),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c){const o=t.XpG(3);t.R7$(),t.Lme(" ",t.bMT(2,2,"modal_component.add_wallet.sizeToBig")," ",o.environment.imageSizeMax/1e3,"kb ")}}function X(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",38)(1,"div",26)(2,"label",42),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",70)(6,"input",71),t.bIt("change",function(g){t.eBV(o);const R=t.XpG(2);return t.Njj(R.onFileSelected(g))}),t.k0s(),t.j41(7,"label",72)(8,"span")(9,"strong"),t.nrm(10,"ion-icon",73),t.j41(11,"i"),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()()(),t.j41(14,"span",74),t.bIt("click",function(){t.eBV(o);const g=t.XpG(2);return t.Njj(g.importimage())}),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"i",44),t.nrm(18,"ion-icon",45),t.k0s()(),t.DNE(19,V,3,4,"div",75),t.k0s()}if(2&c){const o=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,4,"modal_component.add_wallet.img")),t.R7$(9),t.JRh(t.bMT(13,6,"modal_component.add_wallet.imgContent")),t.R7$(3),t.JRh(t.bMT(16,8,"modal_component.add_wallet.imgFromURL")),t.R7$(4),t.Y8G("ngIf",o.warning)}}function H(c,M){1&c&&(t.j41(0,"label",81),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c&&(t.R7$(),t.JRh(t.bMT(2,1,"modal_component.add_wallet.default")))}function z(c,M){1&c&&(t.j41(0,"label",82),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c&&(t.R7$(),t.JRh(t.bMT(2,1,"modal_component.add_wallet.editWallet.default")))}function J(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",77)(1,"input",78),t.mxI("ngModelChange",function(g){t.eBV(o);const R=t.XpG(2);return t.DH7(R.defaultImg,g)||(R.defaultImg=g),t.Njj(g)}),t.k0s(),t.DNE(2,H,3,3,"label",79)(3,z,3,3,"label",80),t.k0s()}if(2&c){const o=t.XpG(2);t.R7$(),t.R50("ngModel",o.defaultImg),t.Y8G("ngModelOptions",t.lJ4(4,s)),t.R7$(),t.Y8G("ngIf",!o.wallet.id),t.R7$(),t.Y8G("ngIf",o.wallet.id)}}function Z(c,M){if(1&c){const o=t.RV6();t.j41(0,"div",18)(1,"form",39,2),t.DNE(3,x,9,2,"div",40),t.j41(4,"div",36)(5,"div",41)(6,"div",25)(7,"div",26)(8,"label",42),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"input",43,3),t.nI1(13,"translate"),t.mxI("ngModelChange",function(g){t.eBV(o);const R=t.XpG();return t.DH7(R.wallet.name,g)||(R.wallet.name=g),t.Njj(g)}),t.k0s(),t.j41(14,"i",44),t.nrm(15,"ion-icon",45),t.k0s()()()(),t.j41(16,"div",41)(17,"div",25)(18,"div",26)(19,"label",46),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.DNE(22,G,4,3,"select",47)(23,P,4,4,"select",48),t.k0s()()(),t.DNE(24,N,11,8,"div",49)(25,Y,12,10,"div",49),t.k0s(),t.DNE(26,X,20,10,"div",50)(27,J,4,5,"div",51),t.j41(28,"div",38)(29,"button",52),t.bIt("click",function(){t.eBV(o);const g=t.XpG();return t.Njj(g.addUpdateWallet())}),t.EFF(30),t.nI1(31,"translate"),t.k0s()()()()}if(2&c){const o=t.sdS(2),h=t.XpG();t.R7$(3),t.Y8G("ngIf",""!=h.walletImg),t.R7$(6),t.JRh(t.bMT(10,14,"modal_component.add_wallet.name")),t.R7$(2),t.FS9("placeholder",t.bMT(13,16,"modal_component.add_wallet.sub_name")),t.FS9("value",h.wallet.name),t.R50("ngModel",h.wallet.name),t.R7$(9),t.JRh(t.bMT(21,18,"modal_component.add_wallet.category")),t.R7$(2),t.Y8G("ngIf",!h.isCrypto),t.R7$(),t.Y8G("ngIf",h.isCrypto),t.R7$(),t.Y8G("ngIf",h.isCrypto),t.R7$(),t.Y8G("ngIf",h.isCrypto),t.R7$(),t.Y8G("ngIf",!h.defaultImg&&""===h.walletImg),t.R7$(),t.Y8G("ngIf",h.checkbox),t.R7$(2),t.Y8G("disabled",o.invalid||!h.validateBtn()),t.R7$(),t.SpI(" ",t.bMT(31,20,"shared_text.save")," ")}}let Q=(()=>{class c{swalService;translate;walletService;appService;emitAddWallet=new t.bkB;addWalletSub=new e.yU;updateuserSub=new e.yU;environment=p.c;categories=a.LZ;cryptoTypes=["Holding","Trading"];categorySelect="Select Category";modalId="";wallet=new a.uW;isCrypto=!1;defaultImg=!1;checkbox=!0;walletImg="";warning=!1;isImportWallet=!1;isNewWallet=!1;wallets=[];walletName="";notCryptoWallets=[];constructor(o,h,g,R){this.swalService=o,this.translate=h,this.walletService=g,this.appService=R}get modalConstant(){return T.mX}ngOnDestroy(){this.addWalletSub.unsubscribe(),this.updateuserSub.unsubscribe()}ngOnInit(){this.modalId==T.mX.EDITWALLET&&"Crypto"==this.wallet.category&&(this.isNewWallet=!0,this.isCrypto=!0),this.filterWallet()}ngOnChanges(o){""==this.walletImg&&this.wallet.img!=p.c.baseUrlHeader+T.HR.DEFAULT_WALLET_IMG&&(this.walletImg=this.wallet.img),this.isCrypto&&(this.wallet.category="Crypto"),this.filterWallet()}filterWallet(){this.wallets&&(this.notCryptoWallets=this.wallets.filter(o=>"Crypto"!=o.category&&null==o.deletedDate))}importimage(){this.swalService.addImageSwal(this.translate.instant("modal_component.add_wallet.imageModal.title"),this.translate.instant("modal_component.add_wallet.imageModal.subTitle"),this.translate.instant("modal_component.add_wallet.imageModal.continue"),this.translate.instant("modal_component.add_wallet.imageModal.cancel")),this.updateImageData()}updateImageData(){void 0===this.swalService.walletImg?setTimeout(()=>{this.updateImageData()},1e3):(this.walletImg=this.swalService.walletImg,""===this.walletImg&&(this.walletImg=p.c.baseUrlHeader+T.HR.DEFAULT_WALLET_IMG),this.checkbox=!1)}addUpdateWallet(){let o=this.wallet;this.defaultImg||(o.img=this.walletImg),this.defaultImg&&o.id&&(this.walletImg=o.img),""===this.walletImg&&(o.img=p.c.baseUrlHeader+T.HR.DEFAULT_WALLET_IMG),o.history&&o.history.find(h=>void 0===h.id)&&o?.history.splice(0,1),null!=o.fileImage&&o.fileImage.name?(o.imgName=o.fileImage.name,this.updateuserSub=this.appService.uploadImage(o.fileImage).subscribe(h=>{f.$.info(h.message,"AddWalletComponent"),this.addWalletSub=this.walletService.addOrUpdateWalletsData(o).subscribe(g=>{f.$.info(g.message,"AddWalletComponent"),this.wallet.img=g.data.img,this.emitAddWallet.emit(g.data)})})):this.addWalletSub=this.walletService.addOrUpdateWalletsData(o).subscribe(h=>{f.$.info(h.message,"AddWalletComponent"),this.emitAddWallet.emit(h.data)}),o.id||(this.wallet=new a.uW),this.resetForm()}validateBtn(){let o=!!this.wallet.category;return this.modalId==T.mX.EDITWALLET||this.isImportWallet?o:!(!o||!(this.checkbox&&this.defaultImg||!this.checkbox&&!this.defaultImg))}onFileSelected(o){this.warning=!1;let h=o.target.files[0];if(o.target.files&&o.target.files[0]&&h.size<p.c.imageSizeMax){this.wallet.fileImage=h;var g=new FileReader;g.onload=R=>{this.walletImg=R.target.result},g.readAsDataURL(o.target.files[0]),this.checkbox=!1}else h.size>p.c.imageSizeMax&&(this.warning=!0)}importWallet(){this.wallet=this.wallets.find(o=>o.name==this.walletName),this.wallet.category="Crypto",this.walletImg=this.wallet.img,this.isNewWallet=!0}resetForm(){this.walletName="",this.isNewWallet=!1,this.isImportWallet=!1,this.warning=!1,this.walletImg="",this.checkbox=!0,this.defaultImg=!1,this.swalService.walletImg=void 0,this.wallet=new a.uW,this.wallets=[]}static \u0275fac=function(h){return new(h||c)(t.rXU(u.X),t.rXU(I.c$),t.rXU(E.F),t.rXU(v.d))};static \u0275cmp=t.VBU({type:c,selectors:[["app-add-wallet"]],inputs:{modalId:"modalId",wallet:"wallet",isCrypto:"isCrypto",wallets:"wallets"},outputs:{emitAddWallet:"emitAddWallet"},standalone:!1,features:[t.OA$],decls:10,vars:5,consts:[["fo","ngForm"],["walletName1","ngModel"],["f","ngForm"],["name","ngModel"],["file",""],["category","ngModel"],["balance","ngModel"],["type","ngModel"],["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],["class","modal-header",4,"ngIf"],[1,"modal-body"],["type","submit","enctype","multipart/form-data"],["class","action-sheet-content",4,"ngIf"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-title"],[1,"action-sheet-content"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[4,"ngIf"],["class","addWallet text-end hidden_mobile",4,"ngIf"],["class","hidden_desktop",4,"ngIf"],[1,"addWallet","text-end","hidden_mobile"],["type","button",1,"btn","btn-primary","me-1","mb-1",3,"click"],[1,"form-group","boxed"],[1,"input-wrapper"],["for","walletName",1,"label"],["id","walletName","name","walletName","rows","5","required","",1,"form-control","custom-select",3,"ngModelChange","ngModel"],["selected","","disabled","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","me-1","mb-1",3,"click","disabled"],[1,"form-group","basic","hidden_desktop"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click"],[3,"selected","value"],[1,"hidden_desktop"],[1,"row"],[1,"col-6"],[1,"form-group","basic"],["type","submit"],["class","section mt-3 text-center",4,"ngIf"],[1,"col-md-6"],["for","text11",1,"label"],["name","name","rows","5","required","","type","text","id","text11",1,"form-control",3,"ngModelChange","ngModel","placeholder","value"],[1,"clear-input"],["name","close-circle"],["for","category",1,"label"],["id","category","name","category","class","form-control","rows","5",3,"ngModel","ngModelChange",4,"ngIf"],["disabled","","id","category","name","category","class","form-control","rows","5",3,"ngModel","ngModelChange",4,"ngIf"],["class","col-md-6",4,"ngIf"],["class","form-group basic",4,"ngIf"],["class","form-check mb-1",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"],[1,"section","mt-3","text-center"],[1,"avatar-section","mb-2"],[1,"clickable"],["alt","avatar",1,"imaged","w100","rounded",3,"click","src"],["type","file","accept",".png, .jpg, .jpeg",2,"display","none",3,"change"],[1,"button"],["name","camera-outline"],["class","mx-auto alert alert-danger mb-1 mt-2","role","alert",4,"ngIf"],["role","alert",1,"mx-auto","alert","alert-danger","mb-1","mt-2"],["id","category","name","category","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["selected","","disabled","",3,"value",4,"ngIf"],["disabled","","id","category","name","category","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",3,"value","selected"],["name","balance","rows","5","disabled","","type","text","id","balance",1,"form-control",3,"ngModelChange","ngModel","placeholder","value"],["for","type",1,"label"],["id","type","required","","name","type","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",3,"selected","value"],["id","fileUpload1",1,"custom-file-upload","mt-1"],["type","file","id","fileuploadInput","accept",".png, .jpg, .jpeg",3,"change"],["for","fileuploadInput",1,"fileuploadInput","clickable"],["name","arrow-up-circle-outline"],[1,"float-end","clickable",3,"click"],["class","alert alert-danger mb-1 mt-3","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","mb-1","mt-3"],[1,"form-check","mb-1"],["type","checkbox","id","defaultImg",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["class","form-check-label","for","defaultImg",4,"ngIf"],["hidden","","class","form-check-label","for","defaultImg",4,"ngIf"],["for","defaultImg",1,"form-check-label"],["hidden","","for","defaultImg",1,"form-check-label"]],template:function(h,g){1&h&&(t.j41(0,"div",8)(1,"div",9)(2,"div",10),t.DNE(3,_,3,2,"div",11)(4,D,3,2,"div",11),t.j41(5,"div",12)(6,"form",13,0),t.DNE(8,k,9,8,"div",14),t.k0s(),t.DNE(9,Z,32,22,"div",14),t.k0s()()()()),2&h&&(t.FS9("id",g.modalId),t.R7$(3),t.Y8G("ngIf",!g.isCrypto),t.R7$(),t.Y8G("ngIf",g.isCrypto),t.R7$(4),t.Y8G("ngIf",!g.isNewWallet&&g.isCrypto),t.R7$(),t.Y8G("ngIf",!g.isCrypto||g.isCrypto&&g.isNewWallet))},dependencies:[m.Sq,m.bT,n.iq,l.qT,l.xH,l.y7,l.me,l.Zm,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,I.D9],styles:[".fileuploadInput[_ngcontent-%COMP%], #fileUpload1[_ngcontent-%COMP%]{height:150px}  .swal2-container{z-index:1000000}"]})}return c})()},5707:(A,w,i)=>{i.d(w,{Z:()=>d});var t=i(7456),e=i(4438),a=i(177),T=i(7086),f=i(4909);function p(_,b){1&_&&(e.j41(0,"div",9)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.info.operation_title")," "),e.R7$(3),e.SpI(" ",e.bMT(6,4,"modal_component.info.operation_details")," "))}function u(_,b){1&_&&(e.j41(0,"div",9)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"p",10),e.nI1(5,"translate"),e.k0s()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.info.investment_title")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(5,4,"modal_component.info.investment_details"),e.npT))}function I(_,b){1&_&&(e.j41(0,"div",9)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"p",10),e.nI1(5,"translate"),e.k0s()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.info.holding_title")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(5,4,"modal_component.info.holding_details"),e.npT))}function E(_,b){1&_&&(e.j41(0,"div",9)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"p",10),e.nI1(5,"translate"),e.k0s()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.info.trading_title")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(5,4,"modal_component.info.trading_details"),e.npT))}function v(_,b){1&_&&(e.j41(0,"div",9)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"p",10),e.nI1(5,"translate"),e.k0s()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.info.close_operation_title")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(5,4,"modal_component.info.close_operation_details"),e.npT))}function m(_,b){1&_&&(e.j41(0,"div",9)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"p",10),e.nI1(5,"translate"),e.k0s()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.info.transfer_title")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(5,4,"modal_component.info.transfer_details"),e.npT))}function n(_,b){1&_&&(e.j41(0,"div",9)(1,"h3"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"p",10),e.nI1(5,"translate"),e.k0s()),2&_&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.info.app_category_title")," "),e.R7$(2),e.Y8G("innerHTML",e.bMT(5,4,"modal_component.info.app_category_details"),e.npT))}function l(_,b){if(1&_&&(e.j41(0,"a",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&_){const y=e.XpG();e.x72("data-bs-target","#",y.modalConstant.ADDOPERATIONS,""),e.R7$(),e.JRh(e.bMT(2,3,"modal_component.info.close"))}}function s(_,b){if(1&_&&(e.j41(0,"a",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&_){const y=e.XpG();e.x72("data-bs-target","#",y.modalConstant.CLOSEOPERATION,""),e.R7$(),e.JRh(e.bMT(2,3,"modal_component.info.close"))}}function r(_,b){1&_&&(e.j41(0,"a",11),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&_&&(e.R7$(),e.JRh(e.bMT(2,1,"modal_component.info.close")))}let d=(()=>{class _{modalId="";isOperation=!1;isClosingOperation=!1;operationType="";operation=t.Pg;constructor(){}get modalConstant(){return t.mX}get operationTypeConstant(){return t.fW}ngOnInit(){}static \u0275fac=function(D){return new(D||_)};static \u0275cmp=e.VBU({type:_,selectors:[["app-info-modal"]],inputs:{modalId:"modalId",isOperation:"isOperation",isClosingOperation:"isClosingOperation",operationType:"operationType"},standalone:!1,decls:17,vars:11,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-body"],[1,"action-sheet-content"],[1,"iconbox","text-warning"],["name","alert-circle"],["class","text-center",4,"ngIf"],["class","btn btn-primary btn-lg btn-block","data-bs-toggle","modal",4,"ngIf"],[1,"text-center"],[3,"innerHTML"],["data-bs-toggle","modal",1,"btn","btn-primary","btn-lg","btn-block"]],template:function(D,C){1&D&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"ion-icon",6),e.k0s(),e.DNE(7,p,7,6,"div",7)(8,u,6,6,"div",7)(9,I,6,6,"div",7)(10,E,6,6,"div",7)(11,v,6,6,"div",7)(12,m,6,6,"div",7)(13,n,6,6,"div",7)(14,l,3,5,"a",8)(15,s,3,5,"a",8)(16,r,3,3,"a",8),e.k0s()()()()()),2&D&&(e.FS9("id",C.modalId),e.R7$(7),e.Y8G("ngIf",C.isOperation),e.R7$(),e.Y8G("ngIf",C.operationType==C.operationTypeConstant.NEWINVESTMENT),e.R7$(),e.Y8G("ngIf",C.operationType==C.operationTypeConstant.HOLDING),e.R7$(),e.Y8G("ngIf",C.operationType==C.operationTypeConstant.TRADING),e.R7$(),e.Y8G("ngIf",C.operationType==C.operationTypeConstant.CLOSEOPERATION),e.R7$(),e.Y8G("ngIf",C.operationType==C.operationTypeConstant.TRANSFER),e.R7$(),e.Y8G("ngIf",C.operationType==C.operationTypeConstant.CATEGORY),e.R7$(),e.Y8G("ngIf",C.isOperation&&!C.isClosingOperation),e.R7$(),e.Y8G("ngIf",C.isClosingOperation&&!C.isOperation),e.R7$(),e.Y8G("ngIf",!C.isOperation&&!C.isClosingOperation))},dependencies:[a.bT,T.iq,f.D9],encapsulation:2})}return _})()},7720:(A,w,i)=>{i.d(w,{b:()=>E});var t=i(1626),e=i(7673),a=i(5312),T=i(6789),f=i(7456),p=i(9914),u=i(4438),I=i(8234);let E=(()=>{class v{http;cache;environment=a.c;constructor(n,l){this.http=n,this.cache=l}getResumeData(n){if(this.cache.getResumeCache(n))return(0,e.of)(this.cache.getResumeCache(n));if(p.D.getUserData().mockedUser){const l=a.c.getResumeDataUrlMock.replace("#YEAR#",n.toString());return this.http.get(l)}{const l=localStorage.getItem(f.M2.ACCESSTOKEN),s=new t.Lr({Authorization:l}),r=a.c.getResumeDataUrl.replace(":year",n.toString());return this.http.get(r,{headers:s})}}getHistoryData(){if(this.cache.getHistoryCache())return(0,e.of)(this.cache.getHistoryCache());if(p.D.getUserData().mockedUser)return this.http.get(a.c.getHistoryDataUrlMock);{const n=localStorage.getItem(f.M2.ACCESSTOKEN),l=new t.Lr({Authorization:n});return this.http.get(a.c.getHistoryDataUrl,{headers:l})}}addStatsData(n){this.cache.clearCache();const l=localStorage.getItem(f.M2.ACCESSTOKEN),s=new t.Lr({Authorization:l});if(p.D.getUserData().mockedUser){let r=new T.v;return r.data=n,(0,e.of)(r)}return this.http.post(a.c.postStatsDataUrl,n,{headers:s})}static \u0275fac=function(l){return new(l||v)(u.KVO(t.Qq),u.KVO(I._))};static \u0275prov=u.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},88:(A,w,i)=>{i.d(w,{F:()=>E});var t=i(1626),e=i(7673),a=i(5312),T=i(6789),f=i(7456),p=i(9914),u=i(4438),I=i(8234);let E=(()=>{class v{http;cache;environment=a.c;constructor(n,l){this.http=n,this.cache=l}getWalletsData(){if(this.cache.getWalletsCache())return(0,e.of)(this.cache.getWalletsCache());if(p.D.getUserData().mockedUser)return this.http.get(a.c.mockedGetWalletsDataUrl);{const n=localStorage.getItem(f.M2.ACCESSTOKEN),l=new t.Lr({Authorization:n});return this.http.get(a.c.getWalletsDataUrl,{headers:l})}}getWalletByID(n){if(this.cache.getWalletByIdCache(n))return(0,e.of)(this.cache.getWalletByIdCache(n));if(p.D.getUserData().mockedUser)return this.http.get(a.c.mockedGetWalletByIdDataUrl.replace("#ID#",n.toString()));{const l=localStorage.getItem(f.M2.ACCESSTOKEN),s=new t.Lr({Authorization:l}),r=a.c.getWalletByIdUrl.replace(":id",n.toString());return this.http.get(r,{headers:s})}}addOrUpdateWalletsData(n){if(this.cache.clearCache(),p.D.getUserData().mockedUser){let l=new T.v;return l.data=n,(0,e.of)(l)}{const l=localStorage.getItem(f.M2.ACCESSTOKEN),s=new t.Lr({Authorization:l});return n.id?this.http.put(a.c.postWalletsDataUrl,n,{headers:s}):this.http.post(a.c.postWalletsDataUrl,n,{headers:s})}}deleteWalletsData(n){if(this.cache.clearCache(),p.D.getUserData().mockedUser)return this.http.get(a.c.mockedGetWalletByIdDataUrl);{const l=localStorage.getItem(f.M2.ACCESSTOKEN),s=new t.Lr({Authorization:l}),r=a.c.deleteWalletsDataUrl.replace(":id",n.toString());return this.http.delete(r,{headers:s})}}static \u0275fac=function(l){return new(l||v)(u.KVO(t.Qq),u.KVO(I._))};static \u0275prov=u.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},5635:(A,w,i)=>{i.d(w,{u:()=>I});var t=i(467),e=i(5312),a=i(9496),T=i(1473),f=i(6880),p=i(4229),u=i(4438);let I=(()=>{class E{environment=e.c;static appRenderWalletPerformance(m){var n=this;return(0,t.A)(function*(){let r,l=[],s=new a.Uz,d=[];1===m.statsWalletDays.length&&(r=parseInt(m.statsWalletDays[m.statsWalletDays.length-1].split("-")[0])-1,m.statsWalletDays.splice(0,0,r.toString())),m.wallets.forEach((y,D)=>{T.M.getColors();let O=[],W=0;y.history&&(1===y.history.length&&(s.balance=0!=y.differenceLastStats?y.balance-y.differenceLastStats:0,s.date=r,y.history.splice(0,0,s)),y.history.forEach(S=>{if(null==S.date)return;let k=m.statsWalletDays.indexOf(S.date.toString());k!=W&&(Array.from(Array(k-W)).forEach(B=>O.push(0)),W=k),O.push(f.A.roundToTwoDecimalPlaces(S.balance)),W++}),l.push({name:y.name,data:O})),O=[]}),d=yield Promise.all([]);let b=[];return m.statsWalletDays.forEach(y=>b.push(f.A.formatDateIntl(new Date(y).toLocaleDateString()))),n.createChartLine(d,l,b,380,p.i.isMobileDevice())})()}static renderChartLineCategory(m){let n=[],l=[],s=0;return m.forEach((r,d)=>{let _=[];if(1===r.length){let y=new a.Uz,D=parseInt(r[r.length-1].date.split("-")[0])-1;y.balance=0,y.date=D.toString(),r.splice(0,0,y)}r.forEach(y=>{_.push(y.balance),0===s&&n.push(4===y.date.length?y.date:f.A.formatDateIntl(new Date(y.date).toLocaleDateString()))}),l.push({name:d,data:_}),_=[],s++}),this.createChartLine([],l,n,"400",p.i.isMobileDevice()??!1)}static renderChartWallet(m,n){let l=[],s=[],r=[],d=new a.Uz;1===n.length&&(d.balance=0!=n[0].trend?n[0].balance-n[0].trend:0,d.date=parseInt(n[0].date.toString().split("-")[0])-1,n.splice(0,0,d)),n.forEach(D=>{s.push(D.balance),r.push(f.A.formatDateIntl(new Date(D.date).toLocaleDateString()))}),l.push({name:m,data:s}),s=[];let b=[];return r.forEach(D=>b.push(new Date(D).toDateString())),{series:l,chart:{type:"area",width:"100%",height:140,sparkline:{enabled:!0}},stroke:{width:2},colors:["#1DCC70"],tooltip:{theme:"dark"},labels:r}}static appRenderChartPie(m){let n=[],l=[],s=!1,r=!1;m.forEach(_=>{l.push(_.name),n.push(_.value??_.balance),_.value?r=!0:s=!0});let d={series:n,chart:{width:"100%",height:r?410:345,type:"pie"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"right"}}}],labels:l};return n=[],d}static appRenderChartBar(m,n,l){let s=[],r=m;return s=[],{series:[{name:"Total "+n,data:l}],chart:{width:"100%",height:400,type:"bar",sparkline:{enabled:p.i.isMobileDevice()}},plotOptions:{bar:{borderRadius:20,borderRadiusApplication:"end",horizontal:!1}},grid:{show:!1,borderColor:"#555",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},tooltip:{theme:"dark"},colors:["#6236FF"],labels:r}}static renderCryptoDatas(m,n=!0,...l){let s=[],r=m.statsAssetsDays.slice(),d=[],_=l[0],b=new Date;m.assets.forEach((C,U)=>{d.push(T.M.getColor(C.icon,U));let O=[];if(null==r||0==r.length){O.push(0);let F=new Date;F.setDate(b.getDate()-1),r=[F.toDateString()]}else r.forEach(F=>{if(C.history&&C.history.length>0){let S=C.history.find(k=>k.date.toString()==F);if(S)return O.push(f.A.roundToTwoDecimalPlaces(S?.balance))}return O.push(0)});null!=_&&null!=_[1]&&!_[1]&&new Date(r[r.length-1])<b&&O.push(f.A.roundToTwoDecimalPlaces(C.value)),s.push({name:C.name,data:O})}),null!=_&&null!=_[1]&&!_[1]&&new Date(r[r.length-1])<b&&r.push(b.toDateString());let y=350;null!=_&&null!=_[0]&&_[0]&&(y=_[0]);let D=[];return r.forEach(C=>{D.push("Invalid Date"==new Date(C).toDateString()?C:new Date(C).toDateString())}),this.createChartLine(d,s,D,y,n)}static renderTradingOperations(m,n){let l=f.A.copyObject(m),s=[];l=l.sort((x,L)=>new Date(x.exitDate).getTime()-new Date(L.exitDate).getTime()),l=l.filter(x=>"CLOSED"==x.status);let r=[];l.forEach(x=>{let L=x.exitDate?.toString().split("T")[0];s.find(j=>j==L)||s.push(L),r.find(j=>j.id==x?.wallet.id)||r.push(x?.wallet)});let d=0;r.forEach(x=>{x.assets.forEach(L=>d+=L.invested)});let _=d,b=0,y=[],D=[],C=[];y.push(parseFloat(d.toFixed(2))),D.push(0),C.push(0),s.forEach(x=>{let L=l.filter(P=>P.exitDate?.toString().split("T")[0]==x),j=0,G="";L.forEach(P=>{_+=P.trend,b+=P.trend,j+=P.trend,G+=P.entryCoin+"/"+P.exitCoin+"</br>"}),y.push(parseFloat(_.toFixed(2))),D.push(parseFloat(b.toFixed(2))),C.push(parseFloat(j.toFixed(2)))}),s.splice(0,0,"2023-01-01");let F=[{name:"Balance",data:y},{name:"Trend",data:D},{name:"Operation Performace",data:C}],S=n[0],k=350;null!=S&&null!=S[0]&&S[0]&&(k=S[0]);let B=[];return s.forEach(x=>B.push(new Date(x).toDateString())),this.createChartLine(["#6236FF","#1DCC70","#FF781F"],F,B,k,p.i.isMobileDevice())}static createChartLine(m,n,l,s,r=!0){return{series:n,chart:{type:"area",width:"100%",height:s,sparkline:{enabled:r}},dataLabels:{enabled:!1,background:{borderRadius:20}},grid:{show:!1,borderColor:"#555",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},tooltip:{theme:"dark"},colors:0!=m.length?m:T.M.getColors(),labels:l,legend:{show:!0,position:"top",horizontalAlign:"center",floating:!1,fontFamily:"Helvetica, Arial"}}}static \u0275fac=function(n){return new(n||E)};static \u0275prov=u.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},9204:(A,w,i)=>{i.d(w,{i:()=>e});var t=i(4438);let e=(()=>{class a{static setDatatablesStyle(f,p){const u="#284bff",I="#1d3d9f",v=document.querySelector('.dt-search input[type="search"]');v&&(v.style.borderRadius="12px",v.style.padding="8px 12px",v.style.fontSize="14px",v.placeholder=p,v.style.borderColor=u,v.style.width="300px",v.addEventListener("focus",()=>{v.style.borderColor=I}),v.addEventListener("active",()=>{v.style.borderColor=I}),v.addEventListener("blur",()=>{v.style.borderColor=u}),v.addEventListener("mouseover",()=>{v.style.borderColor=I}),v.addEventListener("mouseout",()=>{v.style.borderColor=u}));const m=document.querySelector(`.dt-input[name="${f}_length"]`);m&&(m.style.borderRadius="12px",m.style.padding="8px 12px",m.style.fontSize="14px",m.style.borderColor=u,m.addEventListener("focus",()=>{m.style.borderColor=I}),m.addEventListener("blur",()=>{m.style.borderColor=u}),m.addEventListener("mouseover",()=>{m.style.borderColor=I}),m.addEventListener("mouseout",()=>{m.style.borderColor=u}));const n=()=>{const r=document.querySelectorAll(".dt-paging-button");r&&r.forEach(d=>{d.style.borderRadius="12px",d.style.padding="8px 12px",d.style.fontSize="14px",d.classList.contains("current")&&(d.style.backgroundColor=u,d.style.color="#ffffff"),d.addEventListener("mouseover",()=>{!d.classList.contains("disabled")&&!d.classList.contains("current")&&(d.style.background=I,d.style.color="#ffffff")}),d.addEventListener("mouseout",()=>{!d.classList.contains("disabled")&&!d.classList.contains("current")&&(d.style.backgroundColor="",d.style.color="")}),d.addEventListener("focus",()=>{!d.classList.contains("disabled")&&!d.classList.contains("current")&&(d.style.backgroundColor=I,d.style.color="#ffffff")}),d.addEventListener("blur",()=>{!d.classList.contains("disabled")&&!d.classList.contains("current")&&(d.style.backgroundColor="",d.style.color="")})})},l=()=>{const r=document.querySelectorAll(".dt-buttons button");r&&r.forEach(d=>{d.style.width="100px",d.style.marginBottom="10px",d.classList.add("btn"),d.classList.add("btn-primary")})};l(),n(),(()=>{const r=document.querySelector(".dt-paging");r&&new MutationObserver(()=>{n()}).observe(r,{childList:!0,subtree:!0})})(),typeof $<"u"&&$.fn.dataTable&&$(`#${f}`).on("draw.dt",()=>{l(),n()})}static customizeExportPDF(f){let p=$("#"+$(".dataTable").attr("id")).DataTable().columns().count();if(f.pageOrientation=p>8?"landscape":"portrait",p>15){f.defaultStyle.fontSize=7;let u=p>10?Array(p).fill("auto"):"auto";f.content[1].table.widths=u,f.pageMargins=[10,10,10,10],f.styles.tableHeader={fontSize:9,bold:!0}}}static \u0275fac=function(p){return new(p||a)};static \u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},1473:(A,w,i)=>{i.d(w,{M:()=>T});var t=i(467),e=i(5312),a=i(4438);let T=(()=>{class f{environment=e.c;static BACKGROUND=["rgba(98, 54, 255, 0.3)","rgba(209, 25, 208, 0.3)","rgba(187, 157, 247, 0.3)","rgba(222, 52, 84, 0.3)","rgba(64, 115, 6, 0.3)","rgba(156, 65, 60, 0.3)","rgba(242, 237, 10, 0.3)","rgba(250, 92, 66, 0.3)","rgba(87, 203, 84, 0.3)","rgba(80, 2, 149, 0.3)","rgba(247, 238, 220, 0.3)"];static colors=["#6236FF","#3c3c3d","#bb9df7","#d119d0","#407306","#de3454","#9c413c","#f2ed0a","#fa5c42","#57cb54","#500295","#f7eedc"];static getColors(){return this.colors}static getDefaultColor(u){return this.colors[u]}static getColor(u,I){if(u&&!u.includes("data:image"))return this.colors[I]||this.getRandomColor();let v=document.createElement("canvas").getContext("2d"),m=new Image;m.crossOrigin="anonymous",m.src=u;try{v?.drawImage(m,0,0);const n=v?.getImageData(60,60,60,60)?.data??[],s=this.rgbaToHex(`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]})`);return"#000000"!==s?s:this.colors[I]||this.getRandomColor()}catch(n){return console.error("Error processing image data, getting random color:",n),this.getRandomColor()}}static getColorFromImage(u,I,E=!0){var v=this;return(0,t.A)(function*(){const m=(r,d,_)=>(299*r+587*d+114*_)/1e3>200;let n=document.createElement("canvas"),l=n.getContext("2d"),s=new Image;return s.crossOrigin="anonymous",s.src=u,new Promise(r=>{s.onload=()=>{try{n.width=s.width,n.height=s.height,l?.drawImage(s,0,0);const d=Math.floor(s.width/2),_=Math.floor(s.height/2),b=l?.getImageData(d,_,1,1)?.data??[];if(4===b.length){let[y,D,C,U]=b;if(m(y,D,C)&&E){console.log("Colore troppo chiaro, cercando un altro punto...");const O=l?.getImageData(10,10,1,1)?.data??[];4===O.length&&([y,D,C,U]=O)}if(m(y,D,C)&&E)console.log("Colore fallback troppo chiaro, impostando un colore scuro predefinito."),r("#333333");else{const W=v.rgbaToHex(`rgba(${y}, ${D}, ${C}, ${U})`),F="#000000"!==W?W:(I.includes("#")?I:"#"+I)||v.getRandomColor();r(F)}}else console.warn("Dati immagine non validi, usando un colore casuale."),r(v.getRandomColor())}catch(d){console.error("Errore durante l\u2019elaborazione dell\u2019immagine:",d),r(I??v.getRandomColor())}},s.onerror=()=>{console.error("Errore durante il caricamento dell\u2019immagine:",u),r(I??v.getRandomColor())}})})()}static rgbaToHex(u){if(/^rgb/.test(u)){const I=u.replace(/^rgba?\(|\s+|\)$/g,"").split(",");let E=`#${((1<<24)+(parseInt(I[0],10)<<16)+(parseInt(I[1],10)<<8)+parseInt(I[2],10)).toString(16).slice(1)}`;return I[4]&&(E+=(Math.round(255)+65536).toString(16).substr(-2).toUpperCase()),E}return u}static getRandomColor(){let I="#";for(let E=0;E<6;E++)I+="0123456789ABCDEF"[Math.floor(16*Math.random())];return I}static \u0275fac=function(I){return new(I||f)};static \u0275prov=a.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},6368:(A,w,i)=>{i.d(w,{A:()=>m});const e={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a;const T=new Uint8Array(16),p=[];for(let n=0;n<256;++n)p.push((n+256).toString(16).slice(1));const m=function v(n,l,s){if(e.randomUUID&&!l&&!n)return e.randomUUID();const r=(n=n||{}).random??n.rng?.()??function f(){if(!a){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(T)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,l){if((s=s||0)<0||s+16>l.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let d=0;d<16;++d)l[s+d]=r[d];return l}return function u(n,l=0){return(p[n[l+0]]+p[n[l+1]]+p[n[l+2]]+p[n[l+3]]+"-"+p[n[l+4]]+p[n[l+5]]+"-"+p[n[l+6]]+p[n[l+7]]+"-"+p[n[l+8]]+p[n[l+9]]+"-"+p[n[l+10]]+p[n[l+11]]+p[n[l+12]]+p[n[l+13]]+p[n[l+14]]+p[n[l+15]]).toLowerCase()}(r)}}}]);