"use strict";(self.webpackChunkangular_moneystats=self.webpackChunkangular_moneystats||[]).push([[7430],{7430:(ri,K,u)=>{u.r(K),u.d(K,{CryptoModule:()=>si});var _=u(177),T=u(7086),m=u(9417),f=u(4909),j=u(1626),le=u(6185),F=u(5312),ce=u(9666),de=u(8693),pe=u(5163),me=u(8596),he=u(1616),C=u(2509),g=u(8359),P=u(6165),x=u(522),d=u(7456),c=u(6880),z=u(4779),I=u(9914),e=u(4438),ue=u(6296),_e=u(369);const ge=s=>["/crypto/market-data",s];function be(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",1)(1,"a",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.vibrate())}),e.j41(2,"div",3),e.nrm(3,"ion-icon",4),e.j41(4,"strong"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"a",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.vibrate())}),e.j41(8,"div",3)(9,"div",6),e.nrm(10,"img",7),e.k0s()()(),e.j41(11,"a",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.vibrate())}),e.j41(12,"div",3),e.nrm(13,"ion-icon",9),e.j41(14,"strong"),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.j41(17,"a",10)(18,"div",3),e.nrm(19,"ion-icon",11),e.j41(20,"strong"),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(),e.Y8G("routerLink",e.eq3(14,ge,null==t.user?null:t.user.attributes.money_stats_settings.cryptoCurrency)),e.R7$(4),e.JRh(e.bMT(6,8,"core_header_footer.crypto_tab5")),e.R7$(5),e.Mz_("src","",t.environment.baseUrlSettings,"assets/images/logos/favicon_trasparent.png",e.B4B),e.R7$(5),e.JRh(e.bMT(16,10,"core_header_footer.crypto_tab1")),e.R7$(2),e.x72("data-bs-target","#",t.modalConstant.ADDOPERATIONS,""),e.R7$(4),e.JRh(e.bMT(22,12,"core_header_footer.crypto_tab3"))}}let ye=(()=>{class s{router;appService;contexts;cryptoDashboardSub=new g.yU;environment=F.c;isFooterActive=!1;user;constructor(t,a,n){this.router=t,this.appService=a,this.contexts=n,t.events.subscribe(i=>{let r=i.url;this.isFooterActive=!r||"/crypto/requirements"!=r&&!r.includes("/crypto/asset/details")})}get modalConstant(){return d.mX}ngOnDestroy(){this.cryptoDashboardSub.unsubscribe()}ngOnInit(){this.user=I.D.getUserData(),"DEFAULT_NAME"===this.user.name&&(this.user=z.u.getUserFromStorage()),this.user.attributes.money_stats_settings.completeRequirement?.match(x.nW.COMPLETED)||this.onBoard()}onBoard(){this.appService.isOnboardingCrypto?this.router.navigate(["crypto/requirements"]):(this.appService.isOnboardingCrypto=!0,this.router.navigate(["on-boarding/crypto"]))}vibrate(){this.user=I.D.getUserData(),c.A.vibrate()}getRouteAnimationData(){return this.contexts.getContext("primary")?.route?.snapshot?.data?.animation}static \u0275fac=function(a){return new(a||s)(e.rXU(C.Ix),e.rXU(ue.d),e.rXU(C.Zp))};static \u0275cmp=e.VBU({type:s,selectors:[["app-crypto"]],standalone:!1,decls:4,vars:2,consts:[["id","footer","class","appBottomMenu mx-auto",4,"ngIf"],["id","footer",1,"appBottomMenu","mx-auto"],[1,"item",3,"click","routerLink"],[1,"col"],["name","trending-up"],["routerLink","",1,"item",3,"click"],[1,"action-button","large"],["alt","","width","60","height","60",3,"src"],["routerLink","/wallet",1,"item",3,"click"],["name","wallet"],["hidden","","data-bs-toggle","modal",1,"item"],["name","swap-horizontal"]],template:function(a,n){1&a&&(e.nrm(0,"app-loading"),e.j41(1,"div"),e.nrm(2,"router-outlet"),e.k0s(),e.DNE(3,be,23,16,"div",0)),2&a&&(e.R7$(),e.Y8G("@routeAnimations",n.getRouteAnimationData()),e.R7$(2),e.Y8G("ngIf",n.isFooterActive))},dependencies:[C.n3,C.Wk,_.bT,T.iq,T.oY,_e.q,f.D9],styles:[".appBottomMenu[_ngcontent-%COMP%]{max-width:250px;border-radius:20px;height:45px;bottom:10px}"],data:{animation:[P.I_]}})}return s})();var W=u(6789);class E{balance=0;currency="USD";btcBalance=0;lastUpdate=new Date;statsAssetsDays=[];yearsWalletStats=[];holdingLong=new ee;trading=new ee;assets=[];wallets=[]}class ee{balance=0;performance=0;trend=0;lastUpdate=new Date}class B extends W.R{identifier;name;symbol;rank;value;category;newValue;current_price;icon;balance=0;invested=0;lastUpdate=new Date;performance=0;trend=0;history=[];operations=[]}class U extends W.R{identifier;type;status;entryDate;entryCoin;entryPrice;entryPriceValue;entryQuantity;exitDate;exitCoin;exitPrice;exitPriceValue;exitQuantity;performance;trend;fees;asset;wallet;walletSell;assetSell;trendSum;balance}var v=u(6693),S=u(4229),te=u(88),A=u(7673),w=u(9496),H=u(5974),fe=u(8234);let M=(()=>{class s{http;swalService;cache;environment=F.c;operationsMap=new Map;constructor(t,a,n){this.http=t,this.swalService=a,this.cache=n}getCryptoDashboardData(){if(this.cache.getCryptoDashboardCache())return(0,A.of)(this.cache.getCryptoDashboardCache());const t=localStorage.getItem(d.M2.ACCESSTOKEN),a=new j.Lr({"Content-Type":"application/json",Authorization:t});return I.D.getUserData().mockedUser?this.http.get(F.c.getCryptoDashboardMock):this.http.get(F.c.getCryptoDashboardDataUrl,{headers:a})}getWalletsCryptoData(){if(this.cache.getWalletsCryptoCache())return(0,A.of)(this.cache.getWalletsCryptoCache());if(I.D.getUserData().mockedUser)return this.http.get(F.c.mockedGetWalletsCryptoDataUrl);{const t=localStorage.getItem(d.M2.ACCESSTOKEN),a=new j.Lr({Authorization:t});return this.http.get(F.c.getWalletsCryptoDataUrl,{headers:a})}}getCryptoPriceData(t){if(this.cache.getMarketDataByCurrencyCache())return(0,A.of)(this.cache.getMarketDataByCurrencyCache());const a=localStorage.getItem(d.M2.ACCESSTOKEN),n=new j.Lr({"Content-Type":"application/json",Authorization:a});if(I.D.getUserData().mockedUser)return this.http.get(F.c.getCryptoPriceMock);{const i=F.c.getMarketDataUrl.replace(":currency",t);return this.http.get(i,{headers:n})}}getCryptoResumeData(t){if(this.cache.getCryptoResumeCache(t))return(0,A.of)(this.cache.getCryptoResumeCache(t));const a=localStorage.getItem(d.M2.ACCESSTOKEN),n=new j.Lr({"Content-Type":"application/json",Authorization:a});if(I.D.getUserData().mockedUser){const i=F.c.getCryptoResumeMock.replace("#YEAR#",t.toString());return this.http.get(i)}{const i=F.c.getCryptoResumeDataUrl.replace(":year",t.toString());return this.http.get(i,{headers:n})}}getCryptoHistoryData(){if(this.cache.getCryptoHistoryCache())return(0,A.of)(this.cache.getCryptoHistoryCache());if(I.D.getUserData().mockedUser)return this.http.get(F.c.getCryptoHistoryDataUrlMock);{const t=localStorage.getItem(d.M2.ACCESSTOKEN),a=new j.Lr({Authorization:t});return this.http.get(F.c.getCryptoHistoryDataUrl,{headers:a})}}getCryptoAssetsData(){if(this.cache.getAssetsCache())return(0,A.of)(this.cache.getAssetsCache());const t=localStorage.getItem(d.M2.ACCESSTOKEN),a=new j.Lr({"Content-Type":"application/json",Authorization:t});return I.D.getUserData().mockedUser?this.http.get(F.c.getCryptoAssetsMock):this.http.get(F.c.getCryptoAssetsDataUrl,{headers:a})}getCryptoDetails(t){if(this.cache.getAssetsByIdentifierCache(t))return(0,A.of)(this.cache.getAssetsByIdentifierCache(t));const a=localStorage.getItem(d.M2.ACCESSTOKEN),n=new j.Lr({"Content-Type":"application/json",Authorization:a});if(I.D.getUserData().mockedUser){const i=F.c.getCryptoAssetsDetailsMock.replace("#IDENTIFIER#",t);return this.http.get(i)}{const i=F.c.getCryptoAssetsDetailsDataUrl.replace(":identifier",t);return this.http.get(i,{headers:n})}}addCryptoAsset(t){this.cache.clearCache();const a=localStorage.getItem(d.M2.ACCESSTOKEN),n=new j.Lr({"Content-Type":"application/json",Authorization:a});if(I.D.getUserData().mockedUser){let i=new W.v;return i.data=t,(0,A.of)(i)}return this.http.post(F.c.postCryptoAssetDataUrl,t,{headers:n})}updateCryptoAsset(t){this.cache.clearCache();const a=localStorage.getItem(d.M2.ACCESSTOKEN),n=new j.Lr({"Content-Type":"application/json",Authorization:a});if(I.D.getUserData().mockedUser){let i=new W.v;return i.data=t,(0,A.of)(i)}return this.http.put(F.c.putCryptoAssetDataUrl,t,{headers:n})}addOrUpdateCryptoAssets(t){this.cache.clearCache();const a=localStorage.getItem(d.M2.ACCESSTOKEN),n=new j.Lr({"Content-Type":"application/json",Authorization:a});if(I.D.getUserData().mockedUser){let i=new W.v;return i.data=t,(0,A.of)(i)}return this.http.post(F.c.postCryptoAssetsDataUrl,t,{headers:n})}getAssetList(t){const a=[],n=c.A.copyObject(t);return n&&n.forEach(i=>{c.A.isNullOrEmpty(i.assets)||i.assets.forEach(r=>{if(a.find(l=>l.name==r.name)){const l=a.indexOf(a.find(p=>p.name==r.name));c.A.isNullOrEmpty(a[l].balance)||(a[l].balance+=r.balance),a[l].value+=r.value,a[l].performance=parseFloat(((a[l].performance+r.performance)/2).toFixed(2)),a[l].trend=a[l].trend+r.trend,r.history?.forEach(p=>{let h=new w.Uz;c.A.isNullOrEmpty(a[l].history)||(h=a[l].history.find(y=>y.date==p.date)),c.A.isNullOrEmpty(h)||(c.A.isNullOrEmpty(h.balance)||(h.balance+=p.balance),c.A.isNullOrEmpty(h.trend)||(h.trend+=p.trend),c.A.isNullOrEmpty(h.percentage)||(h.percentage=parseFloat(((h.percentage+p.percentage)/2).toFixed(2))))}),c.A.isNullOrEmpty(r.operations)||r.operations.forEach(p=>{c.A.isNullOrEmpty(a[l].operations)||a[l].operations.push(p)}),c.A.isNullOrEmpty(a[l].operations)||a[l].operations.sort(p=>null!=p.exitDate?p.exitDate:p.entryDate)}else a.push(r)})}),a}static \u0275fac=function(a){return new(a||s)(e.KVO(j.Qq),e.KVO(H.X),e.KVO(fe._))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var O=u(5954),ve=u(9757);const Ce=s=>["/crypto/market-data",s];function Ie(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",7)(1,"a",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToInfo())}),e.nrm(2,"ion-icon",8),e.k0s()()}}function Te(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",7)(1,"div",9)(2,"div",10)(3,"a",11),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",12)(7,"h6",13),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"a",14),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"a",15),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"div",16),e.j41(17,"a",17),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"a",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.clickOperation())}),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"a",19),e.EFF(24),e.nI1(25,"translate"),e.k0s()(),e.j41(26,"div",20)(27,"a",21),e.nrm(28,"img",22)(29,"span",23),e.k0s(),e.j41(30,"div",12)(31,"h6",13),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"a",24),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"a",25),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.nrm(40,"div",16),e.j41(41,"a",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.logout())}),e.EFF(42),e.nI1(43,"translate"),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,17,"core_header_footer.crypto_tabOpt")," "),e.R7$(4),e.SpI(" ",e.bMT(9,19,"core_header_footer.dropdown_menu.options")," "),e.R7$(2),e.Y8G("routerLink",e.eq3(39,Ce,t.cryptoCurrency)),e.R7$(),e.JRh(e.bMT(12,21,"core_header_footer.crypto_tab5")),e.R7$(3),e.JRh(e.bMT(15,23,"core_header_footer.crypto_tab2")),e.R7$(4),e.JRh(e.bMT(19,25,"core_header_footer.crypto_tab1")),e.R7$(2),e.x72("data-bs-target","#",t.modalConstant.ADDOPERATIONS,""),e.R7$(),e.SpI(" ",e.bMT(22,27,"core_header_footer.crypto_tab3")," "),e.R7$(3),e.JRh(e.bMT(25,29,"core_header_footer.crypto_tab4")),e.R7$(4),e.FS9("src",t.user.profilePhoto,e.B4B),e.R7$(4),e.SpI(" ",e.bMT(33,31,"core_header_footer.dropdown_menu.options")," "),e.R7$(3),e.SpI(" ",e.bMT(36,33,"settings_page.title"),""),e.R7$(2),e.x72("data-bs-target","#",t.modalConstant.VERSION,""),e.R7$(),e.SpI(" ",e.bMT(39,35,"core_header_footer.dropdown_menu.version"),""),e.R7$(4),e.JRh(e.bMT(43,37,"shared_text.logout"))}}let G=(()=>{class s{location;router;userService;emitOperationClick=new e.bkB;routerLinks;title="Crypto";isMenuActive=!0;isInfoActive=!1;emitInfo=new e.bkB;cryptoCurrency=I.D.getUserData().attributes.money_stats_settings.cryptoCurrency;user=I.D.getUserData();constructor(t,a,n){this.location=t,this.router=a,this.userService=n}get modalConstant(){return d.mX}clickOperation(){this.emitOperationClick.emit(!0)}goBack(){this.vibrate(),null!=this.routerLinks?this.router.navigate([this.routerLinks]):this.location.back()}logout(){this.userService.logout()}goToInfo(){this.emitInfo.emit("go")}vibrate(){c.A.vibrate()}static \u0275fac=function(a){return new(a||s)(e.rXU(_.aZ),e.rXU(C.Ix),e.rXU(z.u))};static \u0275cmp=e.VBU({type:s,selectors:[["app-crypto-header"]],inputs:{routerLinks:"routerLinks",title:"title",isMenuActive:"isMenuActive",isInfoActive:"isInfoActive"},outputs:{emitOperationClick:"emitOperationClick",emitInfo:"emitInfo"},standalone:!1,decls:9,vars:5,consts:[["id","cryptoHeader",1,"appHeader","no-border","mx-auto"],[1,"left"],[1,"headerButton","goBack","clickable",3,"click"],["name","arrow-back-outline"],[1,"pageTitle","clickable",3,"click","routerLink"],["class","right",4,"ngIf"],[3,"modalId"],[1,"right"],["name","alert-circle-outline"],[1,"menu","hidden_mobile"],[1,"dropdown","d-inline"],["href","#","data-bs-toggle","dropdown",1,"d-inline","me-2","title-page"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"dropdown-item",3,"routerLink"],["routerLink","/crypto/asset",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/wallet",1,"dropdown-item"],["data-bs-toggle","modal","aria-disabled","true",1,"d-inline","me-2","title-page","clickable","effect-underline",3,"click"],["routerLink","/crypto/resume",1,"d-inline","me-2","title-page"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown",1,"headerButton"],["alt","image",1,"imaged","w32",3,"src"],[1,"badge","badge-danger"],["routerLink","/settings",1,"dropdown-item"],["href","#","data-bs-toggle","modal",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return n.goBack()}),e.nrm(3,"ion-icon",3),e.k0s()(),e.j41(4,"div",4),e.bIt("click",function(){return n.vibrate()}),e.EFF(5),e.k0s(),e.DNE(6,Ie,3,0,"div",5)(7,Te,44,41,"div",5),e.k0s(),e.nrm(8,"app-version",6)),2&a&&(e.R7$(4),e.FS9("routerLink",n.isMenuActive?"/crypto/dashboard":""),e.R7$(),e.SpI(" ",n.title," "),e.R7$(),e.Y8G("ngIf",n.isInfoActive&&!n.isMenuActive),e.R7$(),e.Y8G("ngIf",n.isMenuActive),e.R7$(),e.Y8G("modalId",n.modalConstant.VERSION))},dependencies:[C.Wk,_.bT,T.iq,T.N7,T.oY,ve.G,f.D9],styles:[".imaged[_ngcontent-%COMP%]{width:32px!important;height:32px!important;object-position:center center!important;object-fit:cover!important}.headerButton[_ngcontent-%COMP%]{max-width:200px}.dropdown-header[_ngcontent-%COMP%]{margin-top:0}.menu[_ngcontent-%COMP%]{margin-top:15px}.appHeader[_ngcontent-%COMP%]{background-color:#121212!important;max-width:2500px}"]})}return s})();function Fe(s,o){if(1&s&&(e.j41(0,"span"),e.nrm(1,"img",12),e.EFF(2),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.FS9("src",null==t.assetSelected?null:t.assetSelected.icon,e.B4B),e.R7$(),e.Lme(" ",null==t.assetSelected?null:t.assetSelected.name," - ",null==t.assetSelected?null:t.assetSelected.symbol,"")}}function ke(s,o){if(1&s&&(e.j41(0,"span",13),e.nrm(1,"img",14),e.EFF(2),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.FS9("src",null==t.assetSelected?null:t.assetSelected.icon,e.B4B),e.R7$(),e.SpI(" ",null==t.assetSelected?null:t.assetSelected.symbol,"")}}function Re(s,o){if(1&s){const t=e.RV6();e.j41(0,"li",2),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.selectAssetInput(n.name))}),e.nrm(1,"img",12),e.EFF(2),e.k0s()}if(2&s){const t=o.$implicit;e.R7$(),e.FS9("src",t.icon,e.B4B),e.R7$(),e.Lme(" ",t.name," - ",t.symbol," ")}}let ne=(()=>{class s{wrapperID="";cryptoCurrency="";isOperation=!1;emitSelectAsset=new e.bkB;filterCryptoPrices=[];cryptoPrices=[];search="";assetSelected;isFilterActive=!1;constructor(){}ngOnChanges(t){this.getCryptoPrices()}ngOnInit(){this.getCryptoPrices()}selectAssetInput(t){this.search="",this.isFilterActive=!1,this.assetSelected=this.filterCryptoPrices.slice().find(a=>a.name==t),this.emitSelectAsset.emit(this.assetSelected),this.openCloseSelect()}onKeySearch(t){setTimeout(()=>{this.filterCryptoPrice(this.search)},10)}filterCryptoPrice(t){this.filterCryptoPrices=this.cryptoPrices.filter(a=>a.name?.toLocaleLowerCase().includes(t.toLocaleLowerCase())||a.symbol?.toLocaleLowerCase().includes(t.toLocaleLowerCase()))}getCryptoPrices(){this.cryptoPrices&&this.cryptoPrices.length>0&&(this.filterCryptoPrices=this.cryptoPrices.slice(),this.assetSelected=c.A.copyObject(this.cryptoPrices[0]),this.emitSelectAsset.emit(this.assetSelected)),this.wrapperID==d.Zl.TRANSFER&&(this.filterCryptoPrices=this.filterCryptoPrices.filter(t=>t.balance>0))}openCloseSelect(){let t=document.getElementById(this.wrapperID);t?.classList.contains("active")?t.classList.remove("active"):t?.classList.add("active")}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=e.VBU({type:s,selectors:[["app-asset-select"]],inputs:{wrapperID:"wrapperID",cryptoCurrency:[0,"fiat","cryptoCurrency"],isOperation:"isOperation",cryptoPrices:"cryptoPrices"},outputs:{emitSelectAsset:"emitSelectAsset"},standalone:!1,features:[e.OA$],decls:12,vars:9,consts:[["name","ngModel"],[1,"wrapper","selectCryptoAsset",3,"id"],[3,"click"],[4,"ngIf"],["style","color: aliceblue",4,"ngIf"],["name","chevron-down-outline"],[1,"content"],[1,"search"],["name","search-outline"],["spellcheck","false","type","text","placeholder","Search",3,"ngModelChange","keyup","ngModel"],[1,"options"],[3,"click",4,"ngFor","ngForOf"],["alt","avatar",1,"imaged","d-inline","w30","rounded","me-1",3,"src"],[2,"color","aliceblue"],["alt","avatar",1,"imaged","d-inline","w30s","rounded","me-1",3,"src"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2),e.bIt("click",function(){return e.eBV(i),e.Njj(n.openCloseSelect())}),e.DNE(2,Fe,3,3,"span",3)(3,ke,3,2,"span",4),e.nrm(4,"ion-icon",5),e.k0s(),e.j41(5,"div",6)(6,"div",7),e.nrm(7,"ion-icon",8),e.j41(8,"input",9,0),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.search,l)||(n.search=l),e.Njj(l)}),e.bIt("keyup",function(l){return e.eBV(i),e.Njj(n.onKeySearch(l))}),e.k0s()(),e.j41(10,"ul",10),e.DNE(11,Re,3,3,"li",11),e.k0s()()()}2&a&&(e.FS9("id",n.wrapperID),e.R7$(),e.HbH(n.isOperation?"select-btn-op float-end":"select-btn"),e.R7$(),e.Y8G("ngIf",!n.isOperation),e.R7$(),e.Y8G("ngIf",n.isOperation),e.R7$(2),e.BMQ("style",n.isOperation?"position: absolute; z-index: 1":"",e.$dS),e.R7$(3),e.R50("ngModel",n.search),e.R7$(3),e.Y8G("ngForOf",n.filterCryptoPrices))},dependencies:[_.Sq,_.bT,T.iq,m.me,m.BC,m.vS],styles:[".w30[_ngcontent-%COMP%], .w30s[_ngcontent-%COMP%]{width:30px;height:30px}[_ngcontent-%COMP%]::selection{color:#fff;background:#4285f4}.wrapper[_ngcontent-%COMP%]{width:100%}.select-btn[_ngcontent-%COMP%], .select-btn-op[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.select-btn[_ngcontent-%COMP%]{height:55px;padding:0 20px;font-size:16px;background:#141025;border:1px solid #372648;border-radius:10px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}@media screen and (max-width: 780px){.select-btn-op[_ngcontent-%COMP%]{margin-left:0!important;padding:0!important}.w30s[_ngcontent-%COMP%]{width:20px;height:20px}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{left:0}}.select-btn-op[_ngcontent-%COMP%]{max-width:180px!important;margin-left:50%;height:55px;font-size:18px;font-weight:700;background:#141025;border-radius:10px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}.select-btn[_ngcontent-%COMP%], .select-btn-op[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;transition:transform .3s linear}.wrapper.active[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(-180deg)}.content[_ngcontent-%COMP%]{display:none;padding:15px;margin-top:15px;background:#141025;border-radius:10px;box-shadow:0 10px 25px #0000001a}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{top:50%;left:15px;color:#999;font-size:20px;pointer-events:none;transform:translateY(-50%);position:absolute}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;width:100%;outline:none;font-size:16px;border-radius:5px;padding:0 20px 0 43px;background:#141025;border:1px solid #372648}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{padding-left:42px;border:2px solid #4285f4}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bfbfbf}.content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{margin-top:10px;max-height:250px;overflow-y:auto;padding-right:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#372648;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#27173e}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;font-size:16px;margin-left:-20px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, li.selected[_ngcontent-%COMP%]{border-radius:5px;background:#27173e}"]})}return s})();function Se(s,o){1&s&&(e.j41(0,"h5",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"modal_component.asset.title")," "))}function De(s,o){1&s&&(e.j41(0,"h5",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"modal_component.asset.edit_title")," "))}function xe(s,o){if(1&s&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&s){const t=o.$implicit,a=e.XpG(2);e.Y8G("selected",a.modelWallet===t.name)("value",t.name),e.R7$(),e.SpI(" ",t.name," ")}}function Ee(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"div",18)(3,"h2",19),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p")(7,"small"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()(),e.j41(10,"div",17)(11,"div",20)(12,"div",21)(13,"select",22,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.modelWallet,n)||(i.modelWallet=n),e.Njj(n)}),e.j41(15,"option",23),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.DNE(18,xe,2,3,"option",24),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,6,"modal_component.asset.selectWalletTitle")," "),e.R7$(4),e.JRh(e.bMT(9,8,"modal_component.asset.selectWalletSubTitle")),e.R7$(5),e.R50("ngModel",t.modelWallet),e.R7$(2),e.Y8G("value",t.modelWallet),e.R7$(),e.SpI(" ",e.bMT(17,10,"modal_component.asset.selectWalletTitle")," "),e.R7$(2),e.Y8G("ngForOf",t.wallets)}}function Me(s,o){if(1&s&&(e.j41(0,"div",26)(1,"div",27),e.nrm(2,"img",28),e.j41(3,"h2",19),e.EFF(4),e.k0s(),e.j41(5,"p")(6,"small"),e.EFF(7),e.k0s()()(),e.j41(8,"div",29)(9,"span",30),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(2),e.FS9("src",null==t.asset?null:t.asset.icon,e.B4B),e.R7$(2),e.SpI(" ",null==t.asset?null:t.asset.name," "),e.R7$(3),e.SpI("USD ",null==t.asset?null:t.asset.current_price,""),e.R7$(3),e.JRh(e.bMT(11,4,"modal_component.asset.selectedAsset"))}}function we(s,o){1&s&&(e.j41(0,"div",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"modal_component.asset.warning")," "))}function je(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",34)(1,"app-asset-select",35),e.bIt("emitSelectAsset",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.emitSelectAsset(n))}),e.k0s(),e.DNE(2,we,3,3,"div",36),e.k0s()}if(2&s){const t=e.XpG(2);e.R7$(),e.Y8G("wrapperID",t.assetConstant.ADDASSET)("fiat",t.cryptoCurrency)("isOperation",!1)("cryptoPrices",t.marketData),e.R7$(),e.Y8G("ngIf",t.warning)}}function Ae(s,o){if(1&s&&(e.j41(0,"div",16)(1,"div",17)(2,"div",26)(3,"div",27),e.nrm(4,"img",28),e.j41(5,"h2",19),e.EFF(6),e.k0s(),e.j41(7,"p")(8,"small"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()(),e.j41(11,"div",29)(12,"span",30),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()(),e.j41(15,"div",17),e.nrm(16,"hr",31),e.DNE(17,Me,12,6,"div",32)(18,je,3,5,"div",33),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.FS9("src",null==t.wallet?null:t.wallet.img,e.B4B),e.R7$(2),e.SpI(" ",null==t.wallet?null:t.wallet.name," "),e.R7$(3),e.E5c("",e.bMT(10,8,"modal_component.asset.currentBalance")," ",t.coinSymbol," ",null==t.wallet?null:t.wallet.balance,""),e.R7$(4),e.JRh(e.bMT(14,10,"modal_component.asset.selectedWallet")),e.R7$(4),e.Y8G("ngIf",t.isAssetSelected),e.R7$(),e.Y8G("ngIf",!t.isAssetSelected)}}function Oe(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",16)(1,"div",17)(2,"div",20)(3,"div",21)(4,"label",38),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",39,2),e.nI1(9,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.balance,n)||(i.balance=n),e.Njj(n)}),e.k0s(),e.j41(10,"p",40)(11,"small"),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()(),e.j41(14,"div",17)(15,"div",20)(16,"div",21)(17,"label",41),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",42,3),e.nI1(22,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.invested,n)||(i.invested=n),e.Njj(n)}),e.k0s(),e.j41(23,"p",40)(24,"small"),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()()()}if(2&s){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,15,"modal_component.asset.balance")),e.R7$(2),e.FCK("placeholder","",e.bMT(9,17,"modal_component.asset.balancePla"),"",null==t.asset?null:t.asset.symbol,""),e.R50("ngModel",t.balance),e.R7$(5),e.Lme("",e.bMT(13,19,"modal_component.asset.balancePla"),"",null==t.asset?null:t.asset.symbol,""),e.R7$(6),e.Lme("",e.bMT(19,21,"modal_component.asset.invested")," (",t.cryptoCurrency,")"),e.R7$(2),e.FCK("placeholder","",e.bMT(22,23,"modal_component.asset.investedPla"),"",t.cryptoCurrency,""),e.R50("ngModel",t.invested),e.R7$(5),e.Lme("",e.bMT(26,25,"modal_component.asset.investedPla"),"",t.cryptoCurrency,"")}}function $e(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectWallet())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(),e.Y8G("disabled",""==t.modelWallet),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.asset.selectWalletTitle")," ")}}function Ge(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectAsset())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(),e.Y8G("disabled",""==t.modelAsset),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.asset.selectAsset")," ")}}function Ne(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",43)(1,"button",45),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAsset())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG(),a=e.sdS(8);e.R7$(),e.Y8G("disabled",a.invalid||t.warning),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.asset.add")," ")}}function Pe(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",46)(1,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectWallet())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(),e.Y8G("disabled",""==t.modelWallet),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.asset.selectWalletTitle")," ")}}function Be(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",46)(1,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectAsset())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(),e.Y8G("disabled",""==t.modelAsset),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.asset.selectAsset")," ")}}function Ye(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",46)(1,"button",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAsset())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG(),a=e.sdS(8);e.R7$(),e.Y8G("disabled",a.invalid||t.warning),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.asset.add")," ")}}let ae=(()=>{class s{cryptoService;getMarketDataSubscribe=new g.yU;saveAssetSubscription=new g.yU;environment=F.c;modalId="";cryptoCurrency="";coinSymbol=I.D.getUserData().attributes.money_stats_settings.currencySymbol;emitAddAsset=new e.bkB;asset;modelAsset="";isAssetSelected=!1;warning=!1;balance;invested;marketData=[];wallets=[];wallet;modelWallet="";isWalletSelected=!1;cryptoTypes=["Holding","Trading"];cryptoPrices=[];search="";categories=[];falseIf=!1;constructor(t){this.cryptoService=t}get modalConstant(){return d.mX}get assetConstant(){return d.Zl}ngOnInit(){c.A.isNullOrEmpty(this.wallets)||(this.wallets=this.wallets.filter(t=>"Crypto"==t.category))}selectWallet(){this.wallet=this.wallets.find(t=>t.name==this.modelWallet),this.isWalletSelected=!0}selectAsset(){!this.wallet?.assets||this.wallet?.assets.length>0&&!this.wallet?.assets.find(t=>t.name==this.modelAsset)?(this.warning=!1,this.asset=this.cryptoPrices.find(t=>t.name==this.modelAsset),this.isAssetSelected=!0):this.warning=!0}saveAsset(){!this.wallet?.assets||this.wallet?.assets.length>0&&!this.wallet?.assets.find(t=>t.name==this.asset?.name)?(this.warning=!1,null==this.wallet?.assets&&(this.wallet.assets=[]),this.asset.id=void 0,this.asset.balance=this.balance,this.asset.invested=this.invested,this.asset.performance=0,this.asset.trend=0,this.asset.lastUpdate=new Date,this.wallet.assets=[this.asset],this.saveAssetSubscription=this.cryptoService.addCryptoAsset(this.wallet).subscribe(t=>{v.$.info(t.message,"AddAssetModalComponent"),this.emitAddAsset.emit(t.data),this.resetModal()})):(this.isAssetSelected=!1,this.modelAsset="",this.warning=!0)}resetModal(){this.warning=!1,this.isAssetSelected=!1,this.isWalletSelected=!1,this.modelAsset="",this.modelWallet=""}emitSelectAsset(t){this.warning=!1,this.cryptoPrices=[t],this.modelAsset=t.name}ngOnDestroy(){this.getMarketDataSubscribe.unsubscribe(),this.saveAssetSubscription.unsubscribe()}static \u0275fac=function(a){return new(a||s)(e.rXU(M))};static \u0275cmp=e.VBU({type:s,selectors:[["app-add-asset-modal"]],inputs:{modalId:"modalId",cryptoCurrency:"cryptoCurrency",marketData:"marketData",wallets:"wallets"},outputs:{emitAddAsset:"emitAddAsset"},standalone:!1,decls:19,vars:12,consts:[["f","ngForm"],["wallet1","ngModel"],["balance1","ngModel"],["invested1","ngModel"],["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["type","submit"],[1,"action-sheet-content"],["class","row",4,"ngIf"],["class","addWallet text-end hidden_mobile",4,"ngIf"],["class","mt-1 form-group basic hidden_desktop",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-6"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed"],[1,"input-wrapper"],["id","wallet","name","wallet","required","","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["selected","","disabled","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],[1,"card-title","row"],[1,"col-8"],["alt","avatar",1,"imaged","d-inline","w30","rounded",3,"src"],[1,"col-4"],[1,"mt-2","badge","badge-info","float-end"],[1,"hidden_desktop","hr"],["class","card-title row",4,"ngIf"],["class","col-md-8 col-12 float-end",4,"ngIf"],[1,"col-md-8","col-12","float-end"],[3,"emitSelectAsset","wrapperID","fiat","isOperation","cryptoPrices"],["class","mx-auto alert alert-danger mb-1 mt-2","role","alert",4,"ngIf"],["role","alert",1,"mx-auto","alert","alert-danger","mb-1","mt-2"],["for","balance",1,"label",2,"margin-left","5px"],["type","text","name","balance","id","balance",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[2,"margin-left","5px"],["for","invested",1,"label",2,"margin-left","5px"],["type","text","required","","name","invested","id","invested",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"addWallet","text-end","hidden_mobile"],["type","button",1,"btn","btn-primary","me-1","mb-1",3,"click","disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mb-1",3,"click","disabled"],[1,"mt-1","form-group","basic","hidden_desktop"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"]],template:function(a,n){1&a&&(e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e.DNE(4,Se,3,3,"h5",8)(5,De,3,3,"h5",8),e.k0s(),e.j41(6,"div",9)(7,"form",10,0)(9,"div",11),e.DNE(10,Ee,19,12,"div",12)(11,Ae,19,12,"div",12)(12,Oe,27,27,"div",12)(13,$e,4,4,"div",13)(14,Ge,4,4,"div",13)(15,Ne,4,4,"div",13)(16,Pe,4,4,"div",14)(17,Be,4,4,"div",14)(18,Ye,4,4,"div",14),e.k0s()()()()()()),2&a&&(e.FS9("id",n.modalId),e.R7$(4),e.Y8G("ngIf",!(null!=n.asset&&n.asset.id)),e.R7$(),e.Y8G("ngIf",null==n.asset?null:n.asset.id),e.R7$(5),e.Y8G("ngIf",!n.isWalletSelected),e.R7$(),e.Y8G("ngIf",n.isWalletSelected),e.R7$(),e.Y8G("ngIf",n.isAssetSelected),e.R7$(),e.Y8G("ngIf",!n.isWalletSelected),e.R7$(),e.Y8G("ngIf",n.isWalletSelected&&!n.isAssetSelected),e.R7$(),e.Y8G("ngIf",n.isAssetSelected),e.R7$(),e.Y8G("ngIf",!n.isWalletSelected),e.R7$(),e.Y8G("ngIf",n.isWalletSelected&&!n.isAssetSelected),e.R7$(),e.Y8G("ngIf",n.isAssetSelected))},dependencies:[_.Sq,_.bT,m.qT,m.xH,m.y7,m.me,m.wz,m.BC,m.cb,m.YS,m.vS,m.cV,ne,f.D9],styles:['.w30[_ngcontent-%COMP%]{width:30px;height:30px}@media screen and (max-width: 780px){.addWallet[_ngcontent-%COMP%]{display:none}.hr[_ngcontent-%COMP%]{margin-top:-10px}}.addWallet[_ngcontent-%COMP%]{margin-top:5px;padding-right:20px}.select[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:100%;height:55px}.select[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{padding:0 30px 0 10px;min-height:55px;display:flex;align-items:center;background:#27173e;position:absolute;top:0;width:100%;height:50px;pointer-events:none;order:2;z-index:1;transition:background .4s ease-in-out;box-sizing:border-box;overflow:hidden;white-space:nowrap;border-radius:10px}.select[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background:#284bff}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;left:-99999px}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:1;z-index:2;background:#141025;border:1px solid #372648;position:relative}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid white;position:absolute;right:10px;top:calc(50% - 2.5px);pointer-events:none;z-index:3}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{position:absolute;right:0;height:0px;width:0px;content:"";background:#141025}.select[_ngcontent-%COMP%]:focus   .option[_ngcontent-%COMP%]{position:relative;pointer-events:all}']})}return s})();var J=u(5707),Ve=u(2138),Le=u(7720);function We(s,o){1&s&&(e.j41(0,"div",17),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"modal_component.operations.add_stats.data_select")," "))}function Xe(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"input",15,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.dateStats,n)||(i.dateStats=n),e.Njj(n)}),e.k0s(),e.DNE(4,We,3,3,"div",16),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(2),e.R50("ngModel",t.dateStats),e.Y8G("disabled",t.currentIndex>0),e.R7$(2),e.Y8G("ngIf",t.dateValidation)}}function Ue(s,o){if(1&s&&(e.j41(0,"div",9)(1,"div",10)(2,"div",11)(3,"h2",12),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p")(7,"small"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.j41(10,"div",11),e.DNE(11,Xe,5,3,"div",13),e.k0s()()()),2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,3,"modal_component.operations.add_stats.title")," "),e.R7$(4),e.JRh(e.bMT(9,5,"modal_component.operations.add_stats.sub_title")),e.R7$(3),e.vxM(t.isGraphEmptyOrZero?-1:11)}}function He(s,o){1&s&&(e.j41(0,"div",9)(1,"h2",12),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p")(5,"small"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.operations.add_stats.resumeTitle")," "),e.R7$(4),e.JRh(e.bMT(7,4,"modal_component.operations.add_stats.resumeSubTitle")))}function qe(s,o){1&s&&(e.j41(0,"div",19)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"modal_component.operations.add_stats.empty_data_body")," "))}function ze(s,o){if(1&s&&(e.j41(0,"p",30)(1,"span",33)(2,"span"),e.nrm(3,"i"),e.EFF(4),e.k0s()(),e.j41(5,"span",34),e.EFF(6),e.nI1(7,"translate"),e.nI1(8,"date"),e.k0s()()),2&s){const t=e.XpG(2).$implicit;e.R7$(2),e.ZvI("",t.history&&0==t.history[t.history.length-1].percentage?"text-warning":t.history&&t.history[t.history.length-1].percentage>0?"text-success":"text-danger"," mr-2"),e.R7$(),e.ZvI("fa ",t.history&&t.history[t.history.length-1].percentage>0?"fa-arrow-up":"fa-arrow-down",""),e.R7$(),e.Lme("",t.history&&1e3==t.history[t.history.length-1].percentage?" +":""," ",t.history&&t.history[t.history.length-1].percentage,"%"),e.R7$(2),e.Lme("",e.bMT(7,10,"resume_page.since")," ",e.i5U(8,12,t.history&&t.history[t.history.length-1].date,"dd MMM y"),"")}}function Je(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",35)(1,"div",10)(2,"div",24)(3,"h5",25),e.EFF(4),e.k0s(),e.j41(5,"div",36)(6,"div",14)(7,"input",37,2),e.nI1(9,"translate"),e.mxI("ngModelChange",function(n){const i=e.eBV(t).$implicit,r=e.XpG(2).$implicit,l=e.XpG(2);return e.DH7(l.filterAsset(i,r.name).newValue,n)||(l.filterAsset(i,r.name).newValue=n),e.Njj(n)}),e.k0s(),e.j41(10,"i",38),e.nrm(11,"ion-icon",39),e.k0s()(),e.j41(12,"div",27),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.j41(15,"div",28),e.nrm(16,"img",29),e.k0s()()()}if(2&s){const t=o.$implicit,a=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(4),e.Lme(" ",t.name," (",t.category,") "),e.R7$(3),e.Mz_("name","balance",t.name,""),e.FS9("placeholder",e.bMT(9,11,"modal_component.operations.add_stats.new_balance")),e.R50("ngModel",n.filterAsset(t,a.name).newValue),e.R7$(6),e.LHq(" ",e.bMT(14,13,"shared_text.amount")," ",a.name," ",n.filterAsset(t,a.name).value," ",n.currency," "),e.R7$(3),e.FS9("src",null==t?null:t.img,e.B4B)}}function Ze(s,o){if(1&s&&(e.j41(0,"div")(1,"div",23)(2,"div",10)(3,"div",24)(4,"h5",25),e.EFF(5),e.k0s(),e.j41(6,"span",26),e.EFF(7),e.k0s(),e.j41(8,"div",27)(9,"small"),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"div",28),e.nrm(13,"img",29),e.k0s()(),e.DNE(14,ze,9,15,"p",30),e.nrm(15,"hr"),e.k0s(),e.j41(16,"div",31),e.DNE(17,Je,17,15,"div",32),e.k0s()()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(5),e.Lme(" ",t.name," (",t.symbol,") "),e.R7$(2),e.Lme("",a.currency," ",t.value,""),e.R7$(3),e.LHq(" ",e.bMT(11,11,"shared_text.amount")," ",t.name," ",t.balance," ",t.symbol,""),e.R7$(3),e.FS9("src",null==t?null:t.icon,e.B4B),e.R7$(),e.vxM(t.history?14:-1),e.R7$(3),e.Y8G("ngForOf",a.filterWallets(a.wallets,t.name))}}function Qe(s,o){if(1&s&&(e.j41(0,"div"),e.DNE(1,Ze,18,13,"div",22),e.k0s()),2&s){const t=o.$implicit,a=o.index,n=e.XpG(2);e.R7$(),e.Y8G("ngIf",a==n.currentIndex&&!n.isResumeAddAssets&&t.balance>0)}}function Ke(s,o){if(1&s&&(e.j41(0,"li")(1,"a",48)(2,"div",49),e.nrm(3,"img",50),e.k0s(),e.j41(4,"div",51)(5,"div")(6,"strong"),e.EFF(7),e.k0s(),e.j41(8,"div",52)(9,"strong")(10,"span"),e.nrm(11,"ion-icon",53),e.EFF(12),e.k0s()(),e.j41(13,"strong"),e.EFF(14),e.k0s()()(),e.j41(15,"div",54)(16,"strong"),e.EFF(17),e.k0s(),e.j41(18,"div",55),e.EFF(19),e.nI1(20,"date"),e.k0s()()()()()),2&s){const t=o.$implicit,a=e.XpG(2).$implicit,n=e.XpG(3);e.R7$(3),e.FS9("src",t.img,e.B4B),e.R7$(4),e.JRh(t.name),e.R7$(3),e.ZvI("badge me-1 ",0==n.filterAsset(t,a.name).history[n.filterAsset(t,a.name).history.length-1].percentage?"badge-warning":n.filterAsset(t,a.name).history[n.filterAsset(t,a.name).history.length-1].percentage>0?"badge-success":"badge-danger",""),e.R7$(),e.FS9("name",n.filterAsset(t,a.name).history[n.filterAsset(t,a.name).history.length-1].percentage>0?"arrow-up-outline":"arrow-down-outline"),e.R7$(),e.SpI(" ",n.filterAsset(t,a.name).history[n.filterAsset(t,a.name).history.length-1].percentage.toFixed(2),"% "),e.R7$(),e.HbH(0==n.filterAsset(t,a.name).history[n.filterAsset(t,a.name).history.length-1].trend?"text-warning":n.filterAsset(t,a.name).history[n.filterAsset(t,a.name).history.length-1].trend>0?"text-success":"text-danger"),e.R7$(),e.Lme("",n.currency," ",n.filterAsset(t,a.name).history[n.filterAsset(t,a.name).history.length-1].trend,""),e.R7$(3),e.Lme("",n.currency," ",n.filterAsset(t,a.name).value,""),e.R7$(2),e.SpI(" ",e.i5U(20,15,n.filterAsset(t,a.name).lastUpdate,"d MMM y")," ")}}function et(s,o){1&s&&e.nrm(0,"hr",56)}function tt(s,o){if(1&s&&(e.j41(0,"div")(1,"h5",42),e.nrm(2,"img",43),e.EFF(3),e.k0s(),e.j41(4,"div",44)(5,"small"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",45)(9,"ul",46),e.DNE(10,Ke,21,18,"li",20),e.k0s()(),e.DNE(11,et,1,0,"hr",47),e.k0s()),2&s){const t=e.XpG(),a=t.$implicit,n=t.index,i=e.XpG(3);e.R7$(2),e.FS9("src",null==a?null:a.icon,e.B4B),e.R7$(),e.Lme(" ",a.name," (",a.symbol,") "),e.R7$(3),e.LHq(" ",e.bMT(7,9,"shared_text.amount")," ",a.name," ",a.balance," ",a.symbol,""),e.R7$(4),e.Y8G("ngForOf",i.filterWallets(i.wallets,a.name)),e.R7$(),e.Y8G("ngIf",n<i.assets.length-1)}}function nt(s,o){if(1&s&&(e.j41(0,"div",40),e.DNE(1,tt,12,11,"div",22),e.k0s()),2&s){const t=o.$implicit;e.R7$(),e.Y8G("ngIf",t.balance>0)}}function at(s,o){if(1&s&&(e.j41(0,"div",40),e.DNE(1,nt,2,1,"div",41),e.k0s()),2&s){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.assets)}}function st(s,o){if(1&s&&(e.j41(0,"div",18),e.nrm(1,"hr"),e.DNE(2,qe,4,3,"div",19)(3,Qe,2,1,"div",20)(4,at,2,1,"div",21),e.k0s()),2&s){const t=e.XpG();e.R7$(2),e.vxM(t.isGraphEmptyOrZero?2:-1),e.R7$(),e.Y8G("ngForOf",t.assets),e.R7$(),e.Y8G("ngIf",t.isResumeAddAssets)}}function it(s,o){if(1&s){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.changeAsset())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const t=e.XpG(2),a=e.sdS(1);e.Y8G("disabled",a.invalid&&!t.validateDate()),e.R7$(),e.SpI(" ",e.bMT(2,2,"modal_component.operations.add_stats.next")," ")}}function ot(s,o){if(1&s){const t=e.RV6();e.j41(0,"button",61),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"modal_component.operations.add_stats.save")," "))}function rt(s,o){if(1&s&&(e.j41(0,"div",57),e.DNE(1,it,3,4,"button",58)(2,ot,3,3,"button",59),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isGraphEmptyOrZero||t.currentIndex!=t.assets.length),e.R7$(),e.Y8G("ngIf",t.isResumeAddAssets)}}function lt(s,o){if(1&s){const t=e.RV6();e.j41(0,"button",65),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.changeAsset())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const t=e.XpG(2),a=e.sdS(1);e.Y8G("disabled",a.invalid&&!t.validateDate()),e.R7$(),e.SpI(" ",e.bMT(2,2,"modal_component.operations.add_stats.next")," ")}}function ct(s,o){if(1&s){const t=e.RV6();e.j41(0,"button",66),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"modal_component.operations.add_stats.save")," "))}function dt(s,o){if(1&s&&(e.j41(0,"div",62),e.DNE(1,lt,3,4,"button",63)(2,ct,3,3,"button",64),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isGraphEmptyOrZero||t.currentIndex!=t.assets.length),e.R7$(),e.Y8G("ngIf",t.isResumeAddAssets)}}let pt=(()=>{class s{errorService;router;statsService;cryptoService;addStats=new g.yU;assets=[];currency="";allWallets=[];isAddStatsSelected=!1;isResumeAddAssets=!1;statsAssetsDays=[];currentIndex=0;emitAddStats=new e.bkB;saveValidation=!1;dateValidation=!1;dateStats="";wallets=[];constructor(t,a,n,i){this.errorService=t,this.router=a,this.statsService=n,this.cryptoService=i}ngOnInit(){this.wallets=c.A.copyObject(this.allWallets),this.deleteTradingWallet()}ngOnChanges(t){this.wallets=c.A.copyObject(this.allWallets),this.deleteTradingWallet()}deleteTradingWallet(){this.getTodayAsString(),this.wallets&&this.wallets.length>0&&(this.wallets=this.wallets.filter(a=>a.type&&"Holding"==a.type));let t=[];c.A.isNullOrEmpty(this.wallets)||(this.wallets.forEach(a=>{a.assets&&a.assets.forEach(n=>{t.includes(n.symbol)||t.push(n.symbol)})}),this.assets=this.cryptoService.getAssetList(this.wallets),this.assets=this.assets.filter(a=>a.balance>0),this.assets=this.assets.filter(a=>t.includes(a.symbol)))}filterWallets(t,a){return t.filter(i=>null!=i.assets&&i.assets.length>0?i.assets.find(r=>r.name==a&&r.balance>0):null)}filterAsset(t,a){return t.assets.find(n=>n.name==a&&n.balance>0)}changeAsset(){if(this.currentIndex+=1,document.getElementById("action-scheet")?.scrollTo(0,0),this.currentIndex==this.assets.length)return this.confirm(),void(this.isResumeAddAssets=!0);(null==this.assets[this.currentIndex]||0==this.assets[this.currentIndex].balance)&&this.changeAsset()}validateDate(){this.dateValidation=!1;let t=!1,a=this.statsAssetsDays;return a&&a.find(n=>n===this.dateStats)&&(this.dateValidation=!0,t=!0),a&&a.length&&parseInt(a[0].split("-")[0])>parseInt(this.dateStats.split("-")[0])&&(this.dateValidation=!0,t=!0),t}confirm(){const t=this.statsAssetsDays;this.wallets.forEach(a=>{a.assets?.forEach(n=>{if(n.balance>0){const i=new w.Uz;this.setDataForNewStats(n,t,i),c.A.isNullOrEmpty(n.operations)||n.operations.forEach(r=>{r.asset=void 0,r.assetSell=void 0,r.wallet=void 0}),n.newValue=0}})}),this.saveValidation=!0}setDataForNewStats(t,a,n){const i=[...a||[],this.dateStats].sort(),r=i.indexOf(this.dateStats);if(-1===r)return this.errorService.handleWalletStatsError(),void this.router.navigate(["error"]);const l=D=>D?t.history?.find(N=>N.date?.toString()===D):void 0,p=l(i[r-1])||new w.Uz;p.balance||=.001;const h=l(i[r+1]);if(!h&&t.history?.some(D=>void 0===D.date))return this.errorService.handleWalletStatsError(),void this.router.navigate(["error"]);const y=(D,N)=>0!==N?parseFloat(((D-N)/D*100).toFixed(2)):0,b=(D,N)=>parseFloat((D-N).toFixed(2)),k=t.newValue||.001;h&&(h.percentage=Math.min(y(h.balance,k),1e3),h.trend=b(h.balance,k)),n.balance=k,n.date=new Date(this.dateStats),n.percentage=Math.min(y(k,p.balance),1e3),n.trend=i.length>1?b(k,.001!==p.balance?p.balance:0):0,h?t.history=[h,n]:(p.date||(n.percentage=0),t.lastUpdate=n.date,t.value=n.balance,t.history=[n])}setDataForNewStatsOld(t,a,n){const i=[...a||[],this.dateStats].sort(),r=i.indexOf(this.dateStats);if(-1===r)return this.errorService.handleWalletStatsError(),void this.router.navigate(["error"]);const l=(()=>{const y=i[r-1];if(y){const k=t.history?.find(D=>D.date?.toString()===y);if(k)return k}const b=new w.Uz;return b.balance=.001,b})(),p=(()=>{const y=i[r+1];if(y)return t.history?.find(b=>b.date?.toString()===y)})();if(!p&&t.history?.some(y=>void 0===y.date))return this.errorService.handleWalletStatsError(),void this.router.navigate(["error"]);if(p){const y=t.newValue||.001,b=((p.balance-y)/y*100).toFixed(2);p.percentage=Math.min(parseFloat(b),1e3),p.trend=parseFloat((p.balance-y).toFixed(2))}const h=0!==l.balance?((t.newValue-l.balance)/l.balance*100).toFixed(2):"0";n.balance=t.newValue||0,n.date=new Date(this.dateStats),n.percentage=Math.min(parseFloat(h),1e3),n.trend=i.length>1?parseFloat((n.balance-(.001!==l.balance?l.balance:0)).toFixed(2)):0,p?t.history=[p,n]:(l.date||(n.percentage=0),t.lastUpdate=n.date,t.value=n.balance,t.history=[n])}setDataForNewStatsOldOld(t,a,n){const i=[];a&&a.length>0&&a.forEach(y=>{i.push(y)}),i.push(this.dateStats),i.sort();let r=i.indexOf(this.dateStats),l=new w.Uz,p=new w.Uz;if(p.balance=.001,i[r+1]){(null==l||t.history?.find(b=>null==b.date))&&(this.errorService.handleWalletStatsError(),this.router.navigate(["error"])),l=t.history?.find(b=>b.date.toString()===i[r+1]);let y=((l.balance-(0!=t.newValue?t.newValue:.001))/(0!=t.newValue?t.newValue:.001)*100).toFixed(2);l.percentage=parseFloat(y)>1e4?1e3:parseFloat(y),l.trend=parseFloat((l.balance-t.newValue).toFixed(2))}i[r-1]&&(p=t.history?.find(y=>null!=y.date&&y.date.toString()===i[r-1]),null==p&&(p=new w.Uz,p.balance=.001));let h=0!=p.balance?((t.newValue-p.balance)/p.balance*100).toFixed(2):"0";n.balance=t.newValue,n.date=new Date(this.dateStats),n.percentage=parseFloat(h)>1e4?1e3:parseFloat(h),n.trend=i.length>1?parseFloat((n.balance-(.001!=p.balance?p.balance:0)).toFixed(2)):0,l.balance?t.history=[l,n]:(p.date||(n.percentage=0),t.lastUpdate=n.date,t.value=n.balance,t.history=[n])}save(){this.saveValidation=!1,this.addStats=this.statsService.addStatsData(this.wallets).subscribe(t=>{v.$.info(t.message,"AddCryptoStatsComponent"),this.wallets=t.data,this.emitAddStats.emit(this.wallets)}),this.getTodayAsString(),this.resetForm()}getTodayAsString(){let t=(new Date).toISOString().split("T")[0];this.dateStats=t}resetForm(){this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateValidation=!1,this.dateStats="",this.currentIndex=0}ngOnDestroy(){this.addStats.unsubscribe()}get isGraphEmptyOrZero(){return!this.assets?.length||this.assets.every(t=>0===t.balance)}static \u0275fac=function(a){return new(a||s)(e.rXU(Ve.I),e.rXU(C.Ix),e.rXU(Le.b),e.rXU(M))};static \u0275cmp=e.VBU({type:s,selectors:[["app-add-crypto-stats"]],inputs:{assets:"assets",currency:"currency",allWallets:"allWallets",isAddStatsSelected:"isAddStatsSelected",isResumeAddAssets:"isResumeAddAssets",statsAssetsDays:"statsAssetsDays",currentIndex:"currentIndex"},outputs:{emitAddStats:"emitAddStats"},standalone:!1,features:[e.OA$],decls:8,vars:5,consts:[["f","ngForm"],["date1","ngModel"],["balance1","ngModel"],["type","submit"],["class","card-title",4,"ngIf"],["class","transactions row",4,"ngIf"],["class","addWallet text-end hidden_mobile",4,"ngIf"],[1,"hidden_desktop"],["class","form-group basic",4,"ngIf"],[1,"card-title"],[1,"row"],[1,"col-md-6"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed","float-end","ms-1","me-1","date-form"],[1,"input-wrapper"],["name","date","type","date","id","text4b","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","alert alert-danger mb-1","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","mb-1"],[1,"transactions","row"],["role","alert",1,"alert","alert-danger","text-center"],[4,"ngFor","ngForOf"],["style","margin-top: -20px",4,"ngIf"],[4,"ngIf"],[1,"card-body",2,"margin-top","-30px","margin-bottom","-20px"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],["id","tot1",1,"h2","font-weight-bold","mb-0"],[1,"input-info"],[1,"col-auto"],["alt","img",1,"image-block","imaged","round-img",3,"src"],[1,"mt-3","mb-0","text-muted","text-sm"],[1,"row",2,"margin-top","-45px"],["class","card-body col-md-4",4,"ngFor","ngForOf"],[1,"performancesingle0","float-end"],[1,"text-nowrap","sincetot"],[1,"card-body","col-md-4"],[1,"form-group","boxed"],["required","","type","number","id","text4b",1,"form-control",3,"ngModelChange","name","ngModel","placeholder"],[1,"clear-input"],["name","close-circle","role","img","aria-label","close circle",1,"md","hydrated"],[2,"margin-top","-20px"],["style","margin-top: -20px",4,"ngFor","ngForOf"],[1,"card-title","text-uppercase","text-muted","mb-0","ms-2"],["alt","img",1,"image-block","imaged","round-img","me-1",2,"width","30px !important","height","30px !important","vertical-align","-11px",3,"src"],[1,"input-info","ms-2"],[1,"card"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","mt-1","mb-1"],["style","margin-top: -10px",4,"ngIf"],[1,"item"],[1,"icon-box"],["alt","",2,"border-radius","50%",3,"src"],[1,"in"],[1,"text-small","text-secondary"],[3,"name"],[1,"text-end"],[1,"text-small"],[2,"margin-top","-10px"],[1,"addWallet","text-end","hidden_mobile"],["type","button","class","btn btn-primary me-1",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary me-1 mt-3","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","me-1",3,"click","disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mt-3",3,"click"],[1,"form-group","basic"],["type","button","class","btn btn-primary btn-block btn-lg",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-block btn-lg","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"click"]],template:function(a,n){1&a&&(e.j41(0,"form",3,0),e.DNE(2,Ue,12,7,"div",4)(3,He,8,6,"div",4)(4,st,5,3,"div",5)(5,rt,3,2,"div",6),e.j41(6,"div",7),e.DNE(7,dt,3,2,"div",8),e.k0s()()),2&a&&(e.R7$(2),e.Y8G("ngIf",n.isAddStatsSelected&&!n.isResumeAddAssets),e.R7$(),e.Y8G("ngIf",n.isResumeAddAssets),e.R7$(),e.Y8G("ngIf",n.isAddStatsSelected),e.R7$(),e.Y8G("ngIf",n.isAddStatsSelected),e.R7$(2),e.Y8G("ngIf",n.isAddStatsSelected))},dependencies:[_.Sq,_.bT,T.iq,m.qT,m.me,m.Q0,m.BC,m.cb,m.YS,m.vS,m.cV,_.vh,f.D9],styles:[".round-img[_ngcontent-%COMP%]{margin-top:20px;width:70px;height:70px}.action-sheet-content[_ngcontent-%COMP%]{overflow-x:hidden!important}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}@media screen and (max-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:auto!important}.date-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:7px}}@media screen and (min-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:200px}}"]})}return s})();function mt(s,o){if(1&s&&(e.j41(0,"option",18),e.EFF(1),e.k0s()),2&s){const t=o.$implicit,a=e.XpG();e.FS9("value",t),e.Y8G("selected",t==a.operationSelect),e.R7$(),e.SpI(" ",t," ")}}function ht(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",19)(1,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOperationSel=!0)}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){e.XpG();const t=e.sdS(4);e.R7$(),e.Y8G("disabled",t.invalid),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.operations.operation.selectType")," ")}}function ut(s,o){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"div",21)(2,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOperationSel=!0)}),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()}if(2&s){e.XpG();const t=e.sdS(4);e.R7$(2),e.Y8G("disabled",t.invalid),e.R7$(),e.SpI(" ",e.bMT(4,2,"modal_component.operations.operation.selectType")," ")}}function _t(s,o){if(1&s&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&s){const t=o.$implicit,a=e.XpG(2);e.FS9("selected",t.name==a.walletSelect),e.FS9("value",t.name),e.R7$(),e.SpI(" ",t.name," ")}}function gt(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"label",8),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"select",23,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.walletSelect,n)||(i.walletSelect=n),e.Njj(n)}),e.j41(7,"option",10),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.DNE(10,_t,2,3,"option",24),e.k0s()(),e.j41(11,"div",12),e.EFF(12),e.nI1(13,"translate"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,6,"modal_component.operations.operation.selectWallet")),e.R7$(2),e.R50("ngModel",t.walletSelect),e.R7$(2),e.Y8G("value",t.walletSelect),e.R7$(),e.SpI(" ",e.bMT(9,8,"modal_component.operations.operation.selectWallet")," "),e.R7$(2),e.Y8G("ngForOf",t.filterWallets),e.R7$(2),e.SpI(" ",e.bMT(13,10,"modal_component.operations.operation.selectWalletDesc")," ")}}function bt(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",19)(1,"button",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectWallet())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(),e.Y8G("disabled",!t.isWalletPresent()),e.R7$(),e.SpI(" ",e.bMT(3,2,"modal_component.operations.operation.selectWallet")," ")}}function yt(s,o){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"div",21)(2,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectWallet())}),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()}if(2&s){const t=e.XpG();e.R7$(2),e.Y8G("disabled",!t.isWalletPresent()),e.R7$(),e.SpI(" ",e.bMT(4,2,"modal_component.operations.operation.selectWallet")," ")}}let ft=(()=>{class s{router;wallets=[];assets=[];fiat;operations=d.Pg;operationSelect="";walletSelect;isOperationSel=!1;filterWallets=[];constructor(t){this.router=t}isWalletPresent(){return null!=this.walletSelect}selectOperation(t){let a=t.target.value,n=c.A.copyObject(this.wallets);this.filterWallets=a==d.fW.NEWINVESTMENT||a==d.fW.TRANSFER||c.A.isNullOrEmpty(n)?n:n.filter(i=>i.type==t.target.value)}selectWallet(){this.router.navigate(["crypto/operation/"+this.operationSelect+"/"+this.walletSelect+"/"+this.fiat])}static \u0275fac=function(a){return new(a||s)(e.rXU(C.Ix))};static \u0275cmp=e.VBU({type:s,selectors:[["app-add-crypto-operation"]],inputs:{wallets:"wallets",assets:"assets",fiat:"fiat"},standalone:!1,decls:30,vars:18,consts:[["f","ngForm"],["operationSelect1","ngModel"],["g","ngForm"],[1,"transactions","row"],[1,"section","mb-2"],["type","submit"],[1,"form-group","boxed"],[1,"input-wrapper"],["for","select4b",1,"label"],["id","operationSelect","name","operationSelect","required","",1,"form-control","custom-select",3,"ngModelChange","change","ngModel","disabled"],["selected","","disabled","",3,"value"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"input-info"],[1,"text-end","hidden_mobile"],["class","addWallet d-inline",4,"ngIf"],[1,"hidden_desktop"],[4,"ngIf"],["class","form-group boxed",4,"ngIf"],[3,"value","selected"],[1,"addWallet","d-inline"],["type","button",1,"btn","btn-primary","me-1",3,"click","disabled"],[1,"form-group","basic",2,"margin-bottom","-20px"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"],["id","operationSelect","name","operationSelect","required","",1,"form-control","custom-select",3,"ngModelChange","ngModel"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","me-1",3,"click","disabled"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",3),e.nrm(1,"hr"),e.j41(2,"div",4)(3,"form",5,0)(5,"div",6)(6,"div",7)(7,"label",8),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"select",9,1),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.operationSelect,l)||(n.operationSelect=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(i),e.Njj(n.selectOperation(l))}),e.j41(12,"option",10),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.DNE(15,mt,2,3,"option",11),e.k0s()(),e.j41(16,"div",12),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"div",13),e.DNE(20,ht,4,4,"div",14),e.k0s(),e.j41(21,"div",15),e.DNE(22,ut,5,4,"div",16),e.k0s()(),e.j41(23,"form",5,2),e.DNE(25,gt,14,12,"div",17),e.j41(26,"div",13),e.DNE(27,bt,4,4,"div",14),e.k0s(),e.j41(28,"div",15),e.DNE(29,yt,5,4,"div",16),e.k0s()()()()}2&a&&(e.R7$(8),e.JRh(e.bMT(9,12,"modal_component.operations.operation.selectOperation")),e.R7$(2),e.R50("ngModel",n.operationSelect),e.Y8G("disabled",n.isOperationSel&&""!=n.operationSelect),e.R7$(2),e.Y8G("value",n.operationSelect),e.R7$(),e.SpI(" ",e.bMT(14,14,"modal_component.operations.operation.selectOperation")," "),e.R7$(2),e.Y8G("ngForOf",n.operations),e.R7$(2),e.SpI(" ",e.bMT(18,16,"modal_component.operations.operation.selectDescription")," "),e.R7$(3),e.Y8G("ngIf",!n.isOperationSel),e.R7$(2),e.Y8G("ngIf",!n.isOperationSel),e.R7$(3),e.Y8G("ngIf",n.isOperationSel),e.R7$(2),e.Y8G("ngIf",n.isOperationSel),e.R7$(2),e.Y8G("ngIf",n.isOperationSel))},dependencies:[_.Sq,_.bT,m.qT,m.xH,m.y7,m.wz,m.BC,m.cb,m.YS,m.vS,m.cV,f.D9],encapsulation:2})}return s})();function vt(s,o){1&s&&(e.j41(0,"div",16)(1,"h2",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p")(5,"small"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"modal_component.operations.title")," "),e.R7$(4),e.JRh(e.bMT(7,4,"modal_component.operations.sub_title")))}function Ct(s,o){if(1&s&&(e.j41(0,"div",16)(1,"div",18)(2,"div",19)(3,"h2",17),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"ion-icon",20),e.j41(7,"p")(8,"small"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()),2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,4,"modal_component.operations.operation.title")," "),e.R7$(2),e.x72("data-bs-target","#",t.modalConstant.INFO,""),e.R7$(3),e.JRh(e.bMT(10,6,"modal_component.operations.operation.subTitle"))}}function It(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addStatsClick())}),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",22)(6,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addOperationClick())}),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()}2&s&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"modal_component.operations.add_stats.title")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"modal_component.operations.operation.title")," "))}function Tt(s,o){if(1&s&&e.nrm(0,"app-add-crypto-operation",24),2&s){const t=e.XpG();e.Y8G("wallets",t.wallets)("fiat",t.currency)("assets",t.assets)}}function Ft(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",18)(1,"div",25)(2,"div",26)(3,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addStatsClick())}),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"div",25)(7,"div",26)(8,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addOperationClick())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()}2&s&&(e.R7$(4),e.SpI(" ",e.bMT(5,2,"modal_component.operations.add_stats.title")," "),e.R7$(5),e.SpI(" ",e.bMT(10,4,"modal_component.operations.operation.title")," "))}let X=(()=>{class s{modalId="";wallets=[];assets=[];currency="";statsAssetsDays=[];emitAddStats=new e.bkB;isAddStatsSelected=!1;isResumeAddAssets=!1;saveValidation=!1;dateStats="";currentIndex=0;isOperationSelected=!1;constructor(){}get modalConstant(){return d.mX}addStatsClick(){this.isAddStatsSelected=!0;let t=new w.Uz;t.balance=0,t.date=new Date,t.percentage=0,t.trend=0,this.assets.forEach(a=>{(null==a.history||0==a.history.length)&&(a.history=[t])})}addOperationClick(){this.isOperationSelected=!0}addStats(t){this.resetForm(),this.emitAddStats.emit(t)}resetForm(){this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateStats="",this.currentIndex=0}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=e.VBU({type:s,selectors:[["app-operations-modal"]],inputs:{modalId:"modalId",wallets:"wallets",assets:"assets",currency:"currency",statsAssetsDays:"statsAssetsDays"},outputs:{emitAddStats:"emitAddStats"},standalone:!1,decls:19,vars:18,consts:[["f","ngForm"],["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["type","submit"],["id","action-scheet",1,"action-sheet-content"],["class","card-title",4,"ngIf"],["class","text-end hidden_mobile",4,"ngIf"],[3,"emitAddStats","statsAssetsDays","assets","currency","currentIndex","isAddStatsSelected","isResumeAddAssets","allWallets"],[3,"wallets","fiat","assets",4,"ngIf"],[1,"hidden_desktop"],["class","row",4,"ngIf"],[3,"isOperation","modalId"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"row"],[1,"col-md-12"],["name","alert-circle","data-bs-toggle","modal",2,"width","20px","height","20px","vertical-align","-5px"],[1,"text-end","hidden_mobile"],[1,"addWallet","d-inline"],["type","button",1,"btn","btn-primary","me-1","mb-1","hover-btn",3,"click"],[3,"wallets","fiat","assets"],[1,"col-6"],[1,"form-group","basic"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",6)(8,"form",7,0)(10,"div",8),e.DNE(11,vt,8,6,"div",9)(12,Ct,11,8,"div",9)(13,It,9,6,"div",10),e.j41(14,"app-add-crypto-stats",11),e.bIt("emitAddStats",function(l){return e.eBV(i),e.Njj(n.addStats(l))}),e.k0s(),e.DNE(15,Tt,1,3,"app-add-crypto-operation",12),e.j41(16,"div",13),e.DNE(17,Ft,11,6,"div",14),e.k0s()()()()()()(),e.nrm(18,"app-info-modal",15)}2&a&&(e.FS9("id",n.modalId),e.R7$(5),e.SpI(" ",e.bMT(6,16,"modal_component.operations.title")," "),e.R7$(6),e.Y8G("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),e.R7$(),e.Y8G("ngIf",n.isOperationSelected),e.R7$(),e.Y8G("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),e.R7$(),e.Y8G("statsAssetsDays",n.statsAssetsDays)("assets",n.assets)("currency",n.currency)("currentIndex",n.currentIndex)("isAddStatsSelected",n.isAddStatsSelected)("isResumeAddAssets",n.isResumeAddAssets)("allWallets",n.wallets),e.R7$(),e.Y8G("ngIf",n.isOperationSelected),e.R7$(2),e.Y8G("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),e.R7$(),e.Y8G("isOperation",!0)("modalId",n.modalConstant.INFO))},dependencies:[_.bT,T.iq,m.qT,m.cb,m.cV,J.Z,pt,ft,f.D9],styles:[".round-img[_ngcontent-%COMP%]{margin-top:20px;width:70px;height:70px}.action-sheet-content[_ngcontent-%COMP%]{overflow-x:hidden!important}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}@media screen and (max-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:auto!important}.date-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:7px}}@media screen and (min-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:200px}}"]})}return s})();var Z=u(9204);function kt(s,o){if(1&s&&(e.j41(0,"tr")(1,"th",7),e.EFF(2),e.k0s(),e.j41(3,"td"),e.nrm(4,"img",8),e.EFF(5),e.k0s(),e.j41(6,"td",9),e.EFF(7),e.k0s(),e.j41(8,"td",10)(9,"div",11)(10,"span"),e.nrm(11,"ion-icon",12),e.EFF(12),e.k0s()()(),e.j41(13,"td",10),e.EFF(14),e.k0s(),e.j41(15,"td",10),e.EFF(16),e.k0s(),e.j41(17,"td",10),e.EFF(18),e.k0s()()),2&s){const t=o.$implicit;e.R7$(2),e.SpI("#",t.rank,""),e.R7$(2),e.FS9("src",t.icon,e.B4B),e.R7$(),e.SpI(" ",t.name," "),e.R7$(2),e.Lme(" ",t.currency," ",t.current_price," "),e.R7$(3),e.ZvI("badge ",0==t.price_change_percentage_24h?"badge-warning":t.price_change_percentage_24h>0?"badge-success":"badge-danger",""),e.R7$(),e.FS9("name",t.price_change_percentage_24h>0?"arrow-up-outline":"arrow-down-outline"),e.R7$(),e.Lme(" ",null!=t.price_change_24h?t.price_change_24h.toFixed(2):t.price_change_24h," (",null!=t.price_change_percentage_24h?t.price_change_percentage_24h.toFixed(2):t.price_change_percentage_24h,"%) "),e.R7$(2),e.Lme(" ",t.currency," ",t.high_24h," "),e.R7$(2),e.Lme(" ",t.currency," ",t.low_24h," "),e.R7$(2),e.Lme(" ",t.currency," ",t.market_cap," ")}}let se=(()=>{class s{translate;filterMarketData=[];limit=0;tableSize=15;tableId="market_data_table";dataTableInstance;constructor(t){this.translate=t}ngOnChanges(t){this.ngOnInit(),(t.filterMarketData&&!t.filterMarketData.firstChange||0!=this.filterMarketData.length)&&this.reinitializeDataTable()}ngOnInit(){0!=this.limit&&this.filterMarketData.splice(this.limit,this.filterMarketData.length)}initializeDataTable(){const t="market_data_table_full"===this.tableId?{bottom:{buttons:["csv","excel","pdf"]}}:{};$.fn.DataTable.isDataTable("#"+this.tableId)||setTimeout(()=>{this.dataTableInstance=$("#"+this.tableId).DataTable({pageLength:this.tableSize,lengthMenu:[10,15,25,50,100],layout:t,paging:!0,searching:!0,ordering:!0,info:!0,order:[],columnDefs:[{targets:[3,4,5,6],visible:!0,className:"hidden_mobile"}],language:{search:"",lengthMenu:this.translate.instant("core_header_footer.datatables_pagination"),info:this.translate.instant("core_header_footer.datatables_result")}}),Z.i.setDatatablesStyle(this.tableId,this.translate.instant("market_data_page.search"))},0)}reinitializeDataTable(){this.dataTableInstance&&(this.dataTableInstance.clear(),this.dataTableInstance.destroy(),this.dataTableInstance=null),this.initializeDataTable()}ngOnDestroy(){this.dataTableInstance&&(this.dataTableInstance.clear(),this.dataTableInstance.destroy(),this.dataTableInstance=null)}static \u0275fac=function(a){return new(a||s)(e.rXU(f.c$))};static \u0275cmp=e.VBU({type:s,selectors:[["app-market-data-table"]],inputs:{filterMarketData:"filterMarketData",limit:"limit",tableSize:"tableSize",tableId:"tableId"},standalone:!1,features:[e.OA$],decls:28,vars:23,consts:[[1,"card"],[1,"table-responsive","ms-2","me-2"],[1,"table",3,"id"],["scope","col"],["scope","col",1,"text-end"],["scope","col",1,"text-end","hidden_mobile"],[4,"ngFor","ngForOf"],["scope","row",1,"align-middle"],["alt","img",1,"image-block","imaged","me-2",3,"src"],[1,"align-middle","text-primary","text-end"],[1,"align-middle","text-end","hidden_mobile"],[1,"text-small"],[3,"name"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"th",3),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"th",4),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"th",5),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"th",5),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"th",5),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"th",5),e.EFF(24),e.nI1(25,"translate"),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,kt,19,17,"tr",6),e.k0s()()()()),2&a&&(e.R7$(2),e.FS9("id",n.tableId),e.R7$(4),e.SpI(" ",e.bMT(7,9,"market_data_page.table.tab1")," "),e.R7$(3),e.SpI(" ",e.bMT(10,11,"market_data_page.table.tab2")," "),e.R7$(3),e.SpI(" ",e.bMT(13,13,"market_data_page.table.tab3")," "),e.R7$(3),e.SpI(" ",e.bMT(16,15,"market_data_page.table.tab4")," "),e.R7$(3),e.SpI(" ",e.bMT(19,17,"market_data_page.table.tab5")," "),e.R7$(3),e.SpI(" ",e.bMT(22,19,"market_data_page.table.tab6")," "),e.R7$(3),e.SpI(" ",e.bMT(25,21,"market_data_page.table.tab7")," "),e.R7$(3),e.Y8G("ngForOf",n.filterMarketData))},dependencies:[_.Sq,T.iq,f.D9],styles:[".imaged[_ngcontent-%COMP%]{width:32px!important;height:32px!important;object-position:center center!important;object-fit:cover!important}"]})}return s})();var Rt=u(458),ie=u(2362),oe=u(3445),St=u(4715);const Dt=["tradingViewListCrypto"],xt=["tradingViewPrices"],Et=["tradingViewPricesScroll"],Mt=["selectGraph"],wt=["dayGraph"],jt=s=>["/crypto/market-data",s],re=()=>[1,2,3];function At(s,o){1&s&&e.nrm(0,"ion-icon",91)}function Ot(s,o){1&s&&e.nrm(0,"ion-icon",92)}function $t(s,o){1&s&&e.nrm(0,"app-loading-card")}function Gt(s,o){1&s&&(e.j41(0,"div"),e.DNE(1,$t,1,0,"app-loading-card",70),e.k0s()),2&s&&(e.R7$(),e.Y8G("ngForOf",e.lJ4(1,re)))}function Nt(s,o){if(1&s&&e.nrm(0,"app-transaction-card",94),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("assets",t)("currency",a.cryptoDashboard.currency)("hiddenAmount",a.hidden)}}function Pt(s,o){if(1&s&&(e.j41(0,"div"),e.DNE(1,Nt,1,3,"app-transaction-card",93),e.k0s()),2&s){const t=o.index;e.R7$(),e.Y8G("ngIf",t<4)}}function Bt(s,o){if(1&s&&(e.j41(0,"option",95),e.EFF(1),e.k0s()),2&s){const t=o.$implicit;e.FS9("value",t.split("-")[0]+t.split("-")[1]),e.R7$(),e.SpI(" ",t," ")}}function Yt(s,o){1&s&&e.nrm(0,"app-loading-card")}let Vt=(()=>{class s{screenService;walletService;_renderer2;cryptoService;shared;translate;getDashboardSubscribe=new g.yU;getCryptoWalletSubscribe=new g.yU;marketDataSubscribe=new g.yU;walletsSubscribe=new g.yU;filterMarketData=[];amount="******";hidden=!1;environment=F.c;tradingViewListCrypto;tradingViewPrices;tradingViewPricesScroll;selectGraph;dayGraph;selectedSymbol="BTCUSDT";symbolList=[];wallets=[];cryptoDashboard=new E;cryptoWallet;assets=[];constructor(t,a,n,i,r,l){this.screenService=t,this.walletService=a,this._renderer2=n,this.cryptoService=i,this.shared=r,this.translate=l}get modalConstant(){return d.mX}ngOnInit(){this.getCryptoDashboard(),S.i.showFooter()}ngAfterViewInit(){this.appendListGraph(),this.appendPrices(),this.appendSelectGraph(this.selectedSymbol),this.appendPricesScroll(),this.appendDayGraph()}getCryptoDashboard(){this.getDashboardSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(t=>{this.cryptoService.cache.cacheCryptoDashboardData(t),v.$.info(t.message,"CryptoDashboardComponent"),this.cryptoDashboard=t.data,this.shared.setCryptoDashboardData(t.data),this.assets=t.data.assets,this.getCoinForGraph(),this.getMarketData()}),this.isWalletBalanceHidden()}emitOperationClick(t){this.getWalletsCryptoData()}getWalletsCryptoData(){c.A.isNullOrEmpty(this.cryptoWallet)&&(this.getCryptoWalletSubscribe=this.cryptoService.getWalletsCryptoData().subscribe(t=>{this.cryptoService.cache.cacheWalletsCryptoData(t),v.$.info(t.message,"CryptoDashboardComponent");const a=t.data;this.cryptoWallet=c.A.isNullOrEmpty(a)?[]:a.filter(n=>"Crypto"==n.category),this.shared.setCryptoWallets(this.cryptoWallet)}))}getWalletsData(){c.A.isNullOrEmpty(this.shared.getWallets())?this.walletsSubscribe=this.walletService.getWalletsData().subscribe(t=>{this.walletService.cache.cacheWalletsData(t),v.$.info(t.message,"CryptoDashboardComponent"),this.wallets=this.shared.setWallets(t.data)}):this.wallets=this.shared.getWallets()}vibrate(){c.A.vibrate()}getCoinForGraph(){this.symbolList=[];let t=c.A.copyObject(this.assets);t=t.filter(a=>a.balance>0&&"USDT"!=a.symbol),t.forEach(a=>this.symbolList.push(a.symbol+"-USDT")),0==this.symbolList.length&&this.symbolList.push("BTC-USDT")}onChange(t){document.getElementById("selectSymbol")?.remove(),this.appendSelectGraph(t)}appendListGraph(){let t=this._renderer2.createElement("script");t.type="text/javascript",t.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",t.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "defaultColumn": "overview",\n      "screener_type": "crypto_mkt",\n      "displayCurrency": "USD",\n      "colorTheme": "dark",\n      "locale": "it",\n      "isTransparent": true\n    }',this.tradingViewListCrypto?.nativeElement.appendChild(t)}appendPrices(){let t=this._renderer2.createElement("script");t.type="text/javascript",t.src="https://s3.tradingview.com/external-embedding/embed-widget-tickers.js",t.text='\n    {\n      "symbols": [\n        {\n          "proName": "BINANCE:BTCUSDT",\n          "title": "Bitcoin"\n        },\n        {\n          "proName": "BINANCE:ETHUSDT",\n          "title": "Ethereum"\n        },\n        {\n          "proName": "BINANCE:BNBUSDT",\n          "title": "Binance Coin"\n        },\n        {\n          "proName": "CROUSDT",\n          "title": "Crypto.com"\n        },\n        {\n          "proName": "BINANCE:SANDUSDT",\n          "title": "Sandbox"\n        },\n        {\n          "proName": "FX_IDC:EURUSD",\n          "title": "EUR/USD"\n        }\n      ],\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "showSymbolLogo": true,\n      "locale": "it"\n    }',this.tradingViewPrices?.nativeElement.appendChild(t)}appendPricesScroll(){let t=this._renderer2.createElement("script");t.type="text/javascript",t.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",t.text='\n    {\n      "symbols": [\n        {\n          "proName": "FX_IDC:EURUSD",\n          "title": "EUR/USD"\n        },\n        {\n          "description": "Bitcoin",\n          "proName": "BINANCE:BTCUSD"\n        },\n        {\n          "description": "Ethereum",\n          "proName": "BINANCE:ETHUSD"\n        },\n        {\n          "description": "Crypto.com",\n          "proName": "COINBASE:CROUSD"\n        },\n        {\n          "description": "Binance Coin",\n          "proName": "BINANCE:BNBUSD"\n        },\n        {\n          "description": "Sandbox",\n          "proName": "COINBASE:SANDUSD"\n        }\n      ],\n      "showSymbolLogo": true,\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "displayMode": "compact",\n      "locale": "it"\n    }',this.tradingViewPricesScroll?.nativeElement.appendChild(t)}appendDayGraph(){let t=this._renderer2.createElement("div");t.style.height="100%",t.id="selectSymbol1";let a=this._renderer2.createElement("script");a.type="text/javascript",a.src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js",a.text='\n      {\n        "container_id": "test",\n        "symbol": "$SYMBOL$",\n        "width": "100%",\n        "height": "100%",\n        "locale": "it",\n        "dateRange": "1D",\n        "colorTheme": "dark",\n        "isTransparent": true,\n        "autosize": true,\n        "largeChartUrl": ""\n      }'.replace("$SYMBOL$","BTCUSDT"),this._renderer2.appendChild(t,a),this._renderer2.appendChild(this.dayGraph?.nativeElement,t)}appendSelectGraph(t){let a=this._renderer2.createElement("div");a.style.height="100%",a.id="selectSymbol";let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js",n.text='\n    {\n      "symbols": [\n        [\n          "$SYMBOL$|7D"\n        ]\n      ],\n      "chartOnly": false,\n      "width": "100%",\n      "height": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "autosize": true,\n      "showVolume": false,\n      "showMA": false,\n      "hideDateRanges": false,\n      "hideMarketStatus": false,\n      "hideSymbolLogo": false,\n      "scalePosition": "right",\n      "scaleMode": "Normal",\n      "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",\n      "fontSize": "10",\n      "noTimeScale": false,\n      "valuesTracking": "1",\n      "changeMode": "price-and-percent",\n      "chartType": "area",\n      "maLineColor": "#2962FF",\n      "maLineWidth": 1,\n      "maLength": 9,\n      "backgroundColor": "rgba(19, 23, 34, 0)",\n      "lineWidth": 2,\n      "lineType": 0,\n      "dateRanges": [\n        "1d|1",\n        "1w|15",\n        "1m|30",\n        "3m|60",\n        "12m|1D",\n        "60m|1W",\n        "all|1M"\n      ]\n    }'.replace("$SYMBOL$",t),this._renderer2.appendChild(a,n),this._renderer2.appendChild(this.selectGraph?.nativeElement,a)}saveWallet(t){this.getCryptoDashboard()}hiddenShowAmount(){this.hidden=!this.hidden,localStorage.setItem(d.M2.HIDDENAMOUNT,this.hidden.toString())}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(d.M2.HIDDENAMOUNT));null!=t&&(this.hidden=t)}getMarketData(){this.marketDataSubscribe=this.cryptoService.getCryptoPriceData(this.cryptoDashboard.currency).subscribe(t=>{v.$.info(t.message,"CryptoDashboardComponent"),this.cryptoService.cache.cacheMarketDataByCurrencyData(t),this.cryptoDashboard.lastUpdate=t.data[0].updateDate,this.filterMarketData=t.data})}calculateTrend(t,a){return parseFloat((t-t/(1+a/100)).toFixed(2))}ngOnDestroy(){this.getDashboardSubscribe.unsubscribe(),this.marketDataSubscribe.unsubscribe(),this.getCryptoWalletSubscribe.unsubscribe(),this.walletsSubscribe.unsubscribe()}getCopyright(){return this.translate.instant("copyright").replace("#YEAR#",(new Date).getFullYear())}static \u0275fac=function(a){return new(a||s)(e.rXU(S.i),e.rXU(te.F),e.rXU(e.sFG),e.rXU(M),e.rXU(O.d),e.rXU(f.c$))};static \u0275cmp=e.VBU({type:s,selectors:[["app-crypto-dashboard"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Dt,5),e.GBs(xt,5),e.GBs(Et,5),e.GBs(Mt,5),e.GBs(wt,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.tradingViewListCrypto=i.first),e.mGM(i=e.lsd())&&(n.tradingViewPrices=i.first),e.mGM(i=e.lsd())&&(n.tradingViewPricesScroll=i.first),e.mGM(i=e.lsd())&&(n.selectGraph=i.first),e.mGM(i=e.lsd())&&(n.dayGraph=i.first)}},outputs:{wallets:"wallets"},standalone:!1,decls:174,vars:138,consts:[["tradingViewPricesScroll",""],["dayGraph",""],["selectGraph",""],["tradingViewPrices",""],[1,"mx-auto","section-width"],[3,"emitOperationClick","routerLinks"],["id","appCapsule"],[1,"title-section"],[1,"title","hidden_mobile"],[1,"row","mx-auto"],[1,"col-xl-4","col-lg-6","col-md-12"],[1,"section","mt-2"],[1,"card","border_round","d-flex",2,"margin","-10px"],["alt","media",1,"cover","imgCover",3,"src"],[1,"card-body"],[1,"d-flex","float-end"],["width","100px","alt","","srcset","",3,"src"],[1,"clickable",3,"click"],[1,"card-title"],["name","eye-outline","style","\n                      height: 20px;\n                      width: 20px;\n                      align-self: center;\n                      position: absolute;\n                      top: 3px;\n                      color: aliceblue;\n                    ","class","ps-1",4,"ngIf"],["name","eye-off-outline","style","\n                      height: 20px;\n                      width: 20px;\n                      align-self: center;\n                      position: absolute;\n                      top: 3px;\n                      color: aliceblue;\n                    ","class","ps-1",4,"ngIf"],[1,"card-text","fs-3","balance","load-text"],[1,"hidden"],[1,"load-text",2,"margin-top","-15px"],[1,"card-text","load-text",2,"margin-top","-15px"],[1,"row","text-center",2,"height","25px"],["data-bs-toggle","modal",1,"col-6","zoomx2",2,"position","absolute","left","0px","z-index","99","pointer-events","visible","cursor","pointer"],["name","add-circle",1,"icon-size","icon-color"],[2,"vertical-align","-1px",3,"click"],["routerLink","/crypto/asset",1,"col-6","hidden_desktop",2,"position","absolute","right","0px","border-left","solid 1px","z-index","99","pointer-events","visible","cursor","pointer",3,"click"],[1,"zoomx2"],["name","albums-outline",1,"icon-size","icon-color"],[2,"vertical-align","-1px","color","#958d9e"],["data-bs-toggle","modal",1,"col-6","hidden_mobile",2,"position","absolute","right","0px","border-left","solid 1px","z-index","99","pointer-events","visible","cursor","pointer"],[2,"vertical-align","-1px","color","#958d9e",3,"click"],[1,"hidden_desktop","mt-3","text-center"],[1,"row"],[1,"col-3",2,"margin-left","-1px"],["data-bs-toggle","modal",1,"inline-block","quick-action","clickable"],[1,"user-card"],[1,"icon-wrapper","bg-danger"],["name","duplicate"],[1,"title_text"],["data-bs-toggle","modal",1,"inline-block","quick-action","clickable",3,"click"],[1,"icon-wrapper","bg-success"],["name","swap-horizontal"],["routerLink","/crypto/resume",1,"inline-block","quick-action"],[1,"icon-wrapper","bg-warning"],["name","bar-chart"],["routerLink","/settings",1,"inline-block","quick-action"],[1,"icon-wrapper",2,"background","#337ab7"],["name","settings",2,"color","aliceblue"],[1,"section","mt-1","mb-1","hidden_desktop"],[1,"card"],[1,"tradingview-widget-container"],[1,"tradingview-widget-container__widget"],[1,"section","stats-section","col-xl-5","col-lg-6","col-md-12"],[1,"row","mt-1"],[1,"col-6"],[3,"title","value"],[1,"row","mt-2"],[1,"section","col-12","col-xl-3","section-performance","mx-auto"],[1,"section-heading"],[1,"card","loading-hidden",2,"margin-top","-30px"],[1,"card-body","text-center","mx-auto"],[1,"section","mt-5","col-xl-6"],[1,"title","ms-2"],["routerLink","/crypto/asset",1,"link"],[1,"transactions"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-xl-6"],[1,"section","mt-4"],[1,"title"],[1,"form-group","boxed",2,"width","150px","margin-bottom","-10px","margin-top","-20px"],[1,"input-wrapper"],[1,"form-control","custom-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"card",2,"margin-left","-10px","margin-right","-10px"],[1,"card-body",2,"height","380px"],[2,"height","360px"],[1,"col-12"],[1,"section","mt-3","col-12"],[1,"link","me-2",3,"routerLink"],[1,"transactions","marketData"],[3,"filterMarketData","limit","tableSize"],[1,"appFooter","fixed"],[1,"footer-title"],[3,"emitAddWallet","wallets","modalId","isCrypto"],[3,"emitAddAsset","marketData","cryptoCurrency","modalId","wallets"],[3,"emitAddStats","modalId","wallets","assets","currency","statsAssetsDays"],["name","eye-outline",1,"ps-1",2,"height","20px","width","20px","align-self","center","position","absolute","top","3px","color","aliceblue"],["name","eye-off-outline",1,"ps-1",2,"height","20px","width","20px","align-self","center","position","absolute","top","3px","color","aliceblue"],[3,"assets","currency","hiddenAmount",4,"ngIf"],[3,"assets","currency","hiddenAmount"],[3,"value"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",4)(1,"app-crypto-header",5),e.bIt("emitOperationClick",function(l){return e.eBV(i),e.Njj(n.emitOperationClick(l))}),e.k0s(),e.j41(2,"div",6)(3,"div",7)(4,"h2",8),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",9)(8,"div",10)(9,"div",11)(10,"div",12),e.nrm(11,"img",13),e.j41(12,"div",14)(13,"div",15),e.nrm(14,"img",16),e.k0s(),e.j41(15,"div",17),e.bIt("click",function(){return e.eBV(i),e.Njj(n.hiddenShowAmount())}),e.j41(16,"p",18),e.EFF(17),e.nI1(18,"translate"),e.DNE(19,At,1,0,"ion-icon",19)(20,Ot,1,0,"ion-icon",20),e.k0s()(),e.j41(21,"h5",21),e.EFF(22),e.j41(23,"small",22),e.EFF(24),e.k0s()(),e.j41(25,"p",23),e.EFF(26),e.k0s(),e.j41(27,"p",24)(28,"small"),e.EFF(29),e.nI1(30,"translate"),e.nI1(31,"date"),e.k0s()(),e.nrm(32,"hr"),e.j41(33,"div",25)(34,"div",26),e.nrm(35,"ion-icon",27),e.j41(36,"a",28),e.bIt("click",function(){return e.eBV(i),e.Njj(n.vibrate())})("click",function(){return e.eBV(i),e.Njj(n.getWalletsCryptoData())}),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"div",29),e.bIt("click",function(){return e.eBV(i),e.Njj(n.vibrate())}),e.j41(40,"div",30),e.nrm(41,"ion-icon",31),e.j41(42,"a",32),e.EFF(43),e.nI1(44,"translate"),e.k0s()()(),e.j41(45,"div",33)(46,"div",30),e.nrm(47,"ion-icon",27),e.j41(48,"a",34),e.bIt("click",function(){return e.eBV(i),e.Njj(n.getWalletsData())}),e.EFF(49),e.nI1(50,"translate"),e.k0s()()()()()()()(),e.j41(51,"div",35)(52,"div",36)(53,"div",37)(54,"a",38)(55,"div",39)(56,"div",40),e.nrm(57,"ion-icon",41),e.k0s(),e.j41(58,"strong",42),e.EFF(59),e.nI1(60,"translate"),e.k0s()()()(),e.j41(61,"div",37)(62,"a",43),e.bIt("click",function(){return e.eBV(i),e.Njj(n.emitOperationClick(!0))}),e.j41(63,"div",39)(64,"div",44),e.nrm(65,"ion-icon",45),e.k0s(),e.j41(66,"strong",42),e.EFF(67),e.nI1(68,"translate"),e.k0s()()()(),e.j41(69,"div",37)(70,"a",46)(71,"div",39)(72,"div",47),e.nrm(73,"ion-icon",48),e.k0s(),e.j41(74,"strong"),e.EFF(75),e.nI1(76,"translate"),e.k0s()()()(),e.j41(77,"div",37)(78,"a",49)(79,"div",39)(80,"div",50),e.nrm(81,"ion-icon",51),e.k0s(),e.j41(82,"strong"),e.EFF(83),e.nI1(84,"translate"),e.k0s()()()()()(),e.j41(85,"div",52)(86,"div",53)(87,"div",14)(88,"div",54),e.nrm(89,"div",55)(90,"div",null,0),e.k0s()()()(),e.j41(92,"div",56)(93,"div",57)(94,"div",58),e.nrm(95,"app-stats-card",59),e.nI1(96,"translate"),e.k0s(),e.j41(97,"div",58),e.nrm(98,"app-stats-card",59),e.nI1(99,"translate"),e.k0s()(),e.j41(100,"div",60)(101,"div",58),e.nrm(102,"app-stats-card",59),e.nI1(103,"translate"),e.nI1(104,"date"),e.k0s(),e.j41(105,"div",58),e.nrm(106,"app-stats-card",59),e.nI1(107,"translate"),e.nI1(108,"date"),e.k0s()()(),e.j41(109,"div",61)(110,"div",62)(111,"p"),e.EFF(112),e.nI1(113,"translate"),e.k0s()(),e.j41(114,"div",63)(115,"div",64)(116,"div",54),e.nrm(117,"div",55)(118,"div",null,1),e.k0s()()()()(),e.j41(120,"div",36)(121,"div",65)(122,"div",62)(123,"h2",66),e.EFF(124),e.nI1(125,"translate"),e.k0s(),e.j41(126,"a",67),e.EFF(127),e.nI1(128,"translate"),e.k0s()(),e.j41(129,"div",68),e.DNE(130,Gt,2,2,"div",69)(131,Pt,2,1,"div",70),e.k0s()(),e.j41(132,"div",71)(133,"div",72)(134,"div",62)(135,"h2",73),e.EFF(136),e.nI1(137,"translate"),e.k0s(),e.j41(138,"div",74)(139,"div",75)(140,"select",76),e.bIt("ngModelChange",function(l){return e.eBV(i),e.Njj(n.onChange(l))}),e.DNE(141,Bt,2,2,"option",77),e.k0s()()()(),e.j41(142,"div",78)(143,"div",79)(144,"div",54),e.nrm(145,"div",55)(146,"div",80,2),e.k0s()()()()()(),e.j41(148,"div",36)(149,"div",81)(150,"div",72)(151,"div",78)(152,"div",14)(153,"div",54),e.nrm(154,"div",55)(155,"div",null,3),e.k0s()()()()()(),e.j41(157,"div",82)(158,"div",62)(159,"h2",66),e.EFF(160),e.nI1(161,"translate"),e.k0s(),e.j41(162,"a",83),e.EFF(163),e.nI1(164,"translate"),e.k0s()(),e.j41(165,"div",84),e.DNE(166,Yt,1,0,"app-loading-card",70),e.nrm(167,"app-market-data-table",85),e.k0s()()()(),e.j41(168,"div",86)(169,"div",87),e.EFF(170),e.k0s()(),e.j41(171,"app-add-wallet",88),e.bIt("emitAddWallet",function(l){return e.eBV(i),e.Njj(n.saveWallet(l))}),e.k0s(),e.j41(172,"app-add-asset-modal",89),e.bIt("emitAddAsset",function(l){return e.eBV(i),e.Njj(n.saveWallet(l))}),e.k0s(),e.j41(173,"app-operations-modal",90),e.bIt("emitAddStats",function(){return e.eBV(i),e.Njj(n.getCryptoDashboard())}),e.k0s()}2&a&&(e.R7$(),e.Y8G("routerLinks",""),e.R7$(4),e.SpI(" ",e.bMT(6,86,"crypto_dashboard_page.title")," "),e.R7$(6),e.Mz_("src","",n.environment.baseUrlHeader,"assets/images/crypto/card.svg",e.B4B),e.R7$(3),e.Mz_("src","",n.environment.baseUrlHeader,"assets/images/crypto/Bitcoin-icon.png",e.B4B),e.R7$(3),e.SpI(" ",e.bMT(18,88,"crypto_dashboard_page.card_resume.title")," "),e.R7$(2),e.Y8G("ngIf",!n.hidden),e.R7$(),e.Y8G("ngIf",n.hidden),e.R7$(2),e.SpI(" ",n.hidden?n.amount:n.cryptoDashboard.balance," "),e.R7$(2),e.JRh(n.cryptoDashboard.currency),e.R7$(2),e.SpI(" ",n.hidden?n.amount:n.cryptoDashboard.btcBalance," BTC "),e.R7$(3),e.Lme("",e.bMT(30,90,"crypto_dashboard_page.card_resume.lastUpdate")," ",e.i5U(31,92,n.cryptoDashboard.lastUpdate,"d MMM y HH:mm"),""),e.R7$(5),e.x72("data-bs-target","#",n.modalConstant.ADDASSET,""),e.R7$(3),e.JRh(e.bMT(38,95,"crypto_dashboard_page.card_resume.opt1")),e.R7$(6),e.JRh(e.bMT(44,97,"crypto_dashboard_page.card_resume.opt2")),e.R7$(2),e.x72("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.R7$(4),e.JRh(e.bMT(50,99,"crypto_dashboard_page.card_resume.opt3")),e.R7$(5),e.x72("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.R7$(5),e.JRh(e.bMT(60,101,"crypto_dashboard_page.card_resume.opt3")),e.R7$(3),e.x72("data-bs-target","#",n.modalConstant.ADDOPERATIONS,""),e.R7$(5),e.JRh(e.bMT(68,103,"core_header_footer.crypto_tab3")),e.R7$(8),e.JRh(e.bMT(76,105,"core_header_footer.crypto_tab4")),e.R7$(8),e.JRh(e.bMT(84,107,"settings_page.title")),e.R7$(12),e.Mz_("value","<h5 class='card-text fs-3 m-0'>",(n.hidden?n.amount:n.cryptoDashboard.holdingLong.balance).toString()+" <small>"+n.cryptoDashboard.currency.toString()+"</small></h5>","\n              "),e.Y8G("title",e.bMT(96,109,"crypto_dashboard_page.performance_card.holding")),e.R7$(3),e.HbH("date"),e.FS9("title",e.bMT(99,111,"crypto_dashboard_page.performance_card.trading")),e.FCK("value","<h5 class='card-text fs-3 m-0'>\n                ",n.hidden?n.amount:n.cryptoDashboard.trading.balance,"\n                <small>",n.cryptoDashboard.currency,"</small>\n              </h5>"),e.R7$(4),e.HbH(0==n.cryptoDashboard.holdingLong.performance?"text-warning":n.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger"),e.FCK("title","",e.bMT(103,113,"crypto_dashboard_page.performance_card.lastUpdate"),"\n                ",e.i5U(104,115,n.cryptoDashboard.holdingLong.lastUpdate,"d MMM y"),""),e.FRS("value","",n.hidden?n.amount:n.calculateTrend(n.cryptoDashboard.holdingLong.balance,n.cryptoDashboard.holdingLong.performance)+" "+n.cryptoDashboard.currency,"\n              <span class='badge align-top ",0==n.cryptoDashboard.holdingLong.performance?"badge-warning":n.cryptoDashboard.holdingLong.performance>0?"badge-success":"badge-danger","'\n            >\n              <ion-icon\n                name='",n.cryptoDashboard.holdingLong.performance>0?"arrow-up-outline":"arrow-down-outline","'\n              ></ion-icon>\n              ",n.cryptoDashboard.holdingLong.performance,"%\n            </span>"),e.R7$(4),e.HbH(0==n.cryptoDashboard.trading.performance?"text-warning":n.cryptoDashboard.trading.performance>0?"text-success":"text-danger"),e.FCK("title","",e.bMT(107,118,"crypto_dashboard_page.performance_card.lastUpdate"),"\n                ",e.i5U(108,120,n.cryptoDashboard.trading.lastUpdate,"d MMM y"),""),e.FRS("value","",n.hidden?n.amount:n.calculateTrend(n.cryptoDashboard.trading.balance,n.cryptoDashboard.trading.performance)+" "+n.cryptoDashboard.currency,"\n              <span class='badge align-top ",0==n.cryptoDashboard.trading.performance?"badge-warning":n.cryptoDashboard.trading.performance>0?"badge-success":"badge-danger","'\n            >\n              <ion-icon\n                name='",n.cryptoDashboard.trading.performance>0?"arrow-up-outline":"arrow-down-outline","'\n              ></ion-icon>\n              ",n.cryptoDashboard.trading.performance,"%\n            </span>"),e.R7$(6),e.SpI(" ",e.bMT(113,123,"crypto_dashboard_page.performance_card.title")," "),e.R7$(12),e.SpI(" ",e.bMT(125,125,"crypto_dashboard_page.asset_card_title")," "),e.R7$(3),e.JRh(e.bMT(128,127,"shared_text.view")),e.R7$(3),e.Y8G("ngIf",!n.assets||0==n.assets.length),e.R7$(),e.Y8G("ngForOf",n.assets),e.R7$(5),e.SpI(" ",e.bMT(137,129,"crypto_dashboard_page.asset_graph")," "),e.R7$(4),e.Y8G("ngModel",n.selectedSymbol),e.R7$(),e.Y8G("ngForOf",n.symbolList),e.R7$(19),e.SpI(" ",e.bMT(161,131,"crypto_dashboard_page.market_data_title")," "),e.R7$(2),e.Y8G("routerLink",e.eq3(135,jt,n.cryptoDashboard.currency)),e.R7$(),e.JRh(e.bMT(164,133,"shared_text.view")),e.R7$(3),e.Y8G("ngForOf",e.lJ4(137,re)),e.R7$(),e.Y8G("filterMarketData",n.filterMarketData)("limit",15)("tableSize",10),e.R7$(3),e.SpI(" ",n.getCopyright()," "),e.R7$(),e.Y8G("wallets",n.wallets)("modalId",n.modalConstant.ADDWALLET)("isCrypto",!0),e.R7$(),e.Y8G("marketData",n.filterMarketData)("cryptoCurrency",n.cryptoDashboard.currency)("modalId",n.modalConstant.ADDASSET)("wallets",n.cryptoWallet),e.R7$(),e.Y8G("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoWallet)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},dependencies:[C.Wk,_.Sq,_.bT,G,ae,X,se,Rt.H,ie.a,oe.k,St.G,T.iq,T.N7,T.oY,m.xH,m.y7,m.wz,m.BC,m.vS,_.vh,f.D9],styles:[".cover[_ngcontent-%COMP%]{height:100%;inset:0;position:absolute;border-radius:20px}.imgCover[_ngcontent-%COMP%]{display:block;object-fit:cover;width:100%}.icon-size[_ngcontent-%COMP%]{height:30px;width:30px;margin-top:-10px;margin-bottom:-10px;margin-right:10px}.icon-color[_ngcontent-%COMP%]{color:#5a75ff}.badge[_ngcontent-%COMP%]{margin-top:-10px}.w50[_ngcontent-%COMP%]{max-width:50%!important}@media screen and (max-width: 580px){.line[_ngcontent-%COMP%]{border-left:none!important}.line[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .line[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:0!important}}.statics[_ngcontent-%COMP%]{width:max-content;align-items:center;align-self:center;text-align:center}.card-body[_ngcontent-%COMP%]{width:100%}.line[_ngcontent-%COMP%]{border-left:solid 1px}.inline-block[_ngcontent-%COMP%]{display:inline-block}.title-section[_ngcontent-%COMP%]{margin-left:30px;margin-top:10px}@media screen and (max-width: 780px){.fixed[_ngcontent-%COMP%]{width:100%;bottom:0;height:120px;margin-top:-70px}.balance[_ngcontent-%COMP%]{font-size:xx-large!important}.section-performance[_ngcontent-%COMP%]{margin-top:30px;max-width:98%}.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px!important}.marketData[_ngcontent-%COMP%]{margin-bottom:30px!important;margin-left:5px!important;margin-right:5px!important}}@media screen and (min-width: 780px){.loading-hidden[_ngcontent-%COMP%]{margin-right:10px}}.row[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.quick-action[_ngcontent-%COMP%]{width:80px}.quick-action[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]{background-color:transparent}.quick-action[_ngcontent-%COMP%]   .title_text[_ngcontent-%COMP%]{width:70px;margin-left:calc(50% - 34px);text-align:center}.quick-action[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{border-radius:50px;width:60px;height:60px}.quick-action[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:30px!important;height:30px!important;margin-top:calc(50% - 15px)}.priority[_ngcontent-%COMP%]{position:absolute;z-index:999!important}@media screen and (min-width: 780px) and (max-width: 991px){.stats-section[_ngcontent-%COMP%]{margin-top:30px}}@media screen and (min-width: 780px) and (max-width: 1200px){.section-performance[_ngcontent-%COMP%]{margin-top:40px}}@media screen and (min-width: 580px) and (max-width: 770px){.line[_ngcontent-%COMP%]{border-left:solid 0px}}.card-title[_ngcontent-%COMP%]{position:relative;z-index:9!important}.marketData[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-bottom:-30px}.section-performance[_ngcontent-%COMP%]{max-width:98%!important}.title[_ngcontent-%COMP%]{margin-left:5px}"]})}return s})();function Lt(s,o){if(1&s&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&s){const t=o.$implicit,a=e.XpG();e.FS9("value",t),e.Y8G("selected",a.currency==t),e.R7$(),e.SpI(" ",t," ")}}let Wt=(()=>{class s{environment=F.c;modalId="";currency="";emitAddCurrency=new e.bkB;currencies=["EUR","USD","GBP"];constructor(){}selectCurrency(){let t=I.D.getUserData();t.attributes.money_stats_settings.cryptoCurrency=this.currency,this.emitAddCurrency.emit(t),this.currency=""}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=e.VBU({type:s,selectors:[["app-select-crypto-currency"]],inputs:{modalId:"modalId"},outputs:{emitAddCurrency:"emitAddCurrency"},standalone:!1,decls:38,vars:24,consts:[["f","ngForm"],["currency1","ngModel"],["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["type","submit"],[1,"action-sheet-content"],[1,"row"],[1,"col-md-6"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed"],[1,"input-wrapper"],["id","currency","name","wallet","required","","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["selected","","disabled","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"addWallet","text-end","hidden_mobile"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mb-1",3,"click","disabled"],[1,"mt-1","form-group","basic","hidden_desktop"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"],[3,"selected","value"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h5",6),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",7)(8,"form",8,0)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"h2",13),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p")(18,"small"),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()(),e.j41(21,"div",11)(22,"div",14)(23,"div",15)(24,"select",16,1),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.currency,l)||(n.currency=l),e.Njj(l)}),e.j41(26,"option",17),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.DNE(29,Lt,2,3,"option",18),e.k0s()()()()(),e.j41(30,"div",19)(31,"button",20),e.bIt("click",function(){return e.eBV(i),e.Njj(n.selectCurrency())}),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"div",21)(35,"button",22),e.bIt("click",function(){return e.eBV(i),e.Njj(n.selectCurrency())}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()()()()()}if(2&a){const i=e.sdS(9);e.FS9("id",n.modalId),e.R7$(5),e.SpI(" ",e.bMT(6,12,"modal_component.asset.currency_title")," "),e.R7$(10),e.SpI(" ",e.bMT(16,14,"modal_component.asset.currency_title")," "),e.R7$(4),e.JRh(e.bMT(20,16,"modal_component.asset.currency_subtitle")),e.R7$(5),e.R50("ngModel",n.currency),e.R7$(2),e.Y8G("value",n.currency),e.R7$(),e.SpI(" ",e.bMT(28,18,"modal_component.asset.currency_title")," "),e.R7$(2),e.Y8G("ngForOf",n.currencies),e.R7$(2),e.Y8G("disabled",i.invalid),e.R7$(),e.SpI(" ",e.bMT(33,20,"shared_text.save")," "),e.R7$(3),e.Y8G("disabled",i.invalid),e.R7$(),e.SpI(" ",e.bMT(37,22,"shared_text.save")," ")}},dependencies:[_.Sq,m.qT,m.xH,m.y7,m.wz,m.BC,m.cb,m.YS,m.vS,m.cV,f.D9],encapsulation:2})}return s})();function Xt(s,o){1&s&&e.nrm(0,"ion-icon",22)}function Ut(s,o){1&s&&e.nrm(0,"ion-icon",23)}function Ht(s,o){1&s&&e.nrm(0,"ion-icon",22)}function qt(s,o){1&s&&e.nrm(0,"ion-icon",23)}function zt(s,o){1&s&&e.nrm(0,"ion-icon",22)}function Jt(s,o){1&s&&e.nrm(0,"ion-icon",23)}function Zt(s,o){1&s&&e.nrm(0,"ion-icon",22)}function Qt(s,o){1&s&&e.nrm(0,"ion-icon",23)}let Kt=(()=>{class s{walletService;authService;router;userService;shared;cryptoService;walletsSubscribe=new g.yU;marketDataSubscribe=new g.yU;updateUserSub=new g.yU;isWalletCreated=!1;isCryptoWalletCreated=!1;isAssetCreated=!1;isCurrencyAdded=!1;wallets;cryptoWallet;currency="";CRYPTO="Crypto";enableModalCrypto=!1;marketData=[];constructor(t,a,n,i,r,l){this.walletService=t,this.authService=a,this.router=n,this.userService=i,this.shared=r,this.cryptoService=l}ngOnDestroy(){this.updateUserSub.unsubscribe(),this.walletsSubscribe.unsubscribe(),this.marketDataSubscribe.unsubscribe()}get modalConstant(){return d.mX}ngOnInit(){let t=I.D.getUserData(),a=t.attributes.money_stats_settings.completeRequirement?.split(";");!c.A.isNullOrEmpty(a)&&a.includes(x.nW.ASSET)&&(this.isAssetCreated=!0),!c.A.isNullOrEmpty(a)&&a.includes(x.nW.CRYPTO_WALLET)&&(this.isCryptoWalletCreated=!0),!c.A.isNullOrEmpty(a)&&a.includes(x.nW.WALLET)&&(this.isWalletCreated=!0),!c.A.isNullOrEmpty(a)&&a.includes(x.nW.CURRENCY)&&(this.isCurrencyAdded=!0),this.getWallets().then(n=>{this.wallets=n,null!=n&&0!=n.length&&(this.isWalletCreated=!0,this.cryptoWallet=n.filter(i=>i.category==this.CRYPTO)),t.attributes.money_stats_settings.cryptoCurrency&&(this.isCurrencyAdded=!0,this.currency=t.attributes.money_stats_settings.cryptoCurrency)}),this.getMarketData(),this.goToDashboard()}validateBtn(){return this.isCryptoWalletCreated&&this.isWalletCreated&&this.isAssetCreated&&this.isCurrencyAdded}saveWallet(t){let a=I.D.getUserData();const n=c.A.copyObject(this.wallets);if(null!=n){let i=n.indexOf(n.find(r=>r.name==t.name));n[i]=t,this.isWalletCreated=!0,this.cryptoWallet=n.filter(r=>r.category==this.CRYPTO),n[i].category==this.CRYPTO&&(this.isCryptoWalletCreated=!0),null!=n[i].assets&&0!=n[i].assets.length&&(this.isAssetCreated=!0)}else null==n&&t.category==this.CRYPTO?(this.isCryptoWalletCreated=!0,this.cryptoWallet=[t],this.wallets=[t],this.isWalletCreated=!0):(this.wallets=[t],this.isWalletCreated=!0);this.isWalletCreated&&(a.attributes.money_stats_settings.completeRequirement=a.attributes.money_stats_settings.completeRequirement?a.attributes.money_stats_settings.completeRequirement.concat(x.nW.WALLET).concat(";"):x.nW.WALLET.concat(";")),this.isCryptoWalletCreated&&(a.attributes.money_stats_settings.completeRequirement=a.attributes.money_stats_settings.completeRequirement?a.attributes.money_stats_settings.completeRequirement.concat(x.nW.CRYPTO_WALLET).concat(";"):x.nW.CRYPTO_WALLET.concat(";")),this.isAssetCreated&&(a.attributes.money_stats_settings.completeRequirement=a.attributes.money_stats_settings.completeRequirement?a.attributes.money_stats_settings.completeRequirement.concat(x.nW.ASSET).concat(";"):x.nW.ASSET.concat(";")),this.updateUser(a)}selectCurrency(t){t.attributes.money_stats_settings.completeRequirement=t.attributes.money_stats_settings.completeRequirement?t.attributes.money_stats_settings.completeRequirement.concat(x.nW.CURRENCY).concat(";"):x.nW.CURRENCY.concat(";"),this.updateUser(t),this.isCurrencyAdded=!0,this.currency=t.attributes.money_stats_settings.currency}updateUser(t){this.isAssetCreated&&this.isCryptoWalletCreated&&this.isCurrencyAdded&&this.isWalletCreated&&(t.attributes.money_stats_settings.completeRequirement=x.nW.COMPLETED),this.updateUserSub=this.authService.updateUserData(t).subscribe(a=>{v.$.info(a.message,"RequirementsComponent");let n=new x.vb;n.user=a.data,this.userService.setUserGlobally(n)})}getWallets(){return c.A.isNullOrEmpty(this.shared.getWallets())?new Promise((t,a)=>{this.walletsSubscribe=this.walletService.getWalletsData().subscribe({next:n=>{this.walletService.cache.cacheWalletsData(n),v.$.info(n.message,"RequirementsComponent"),this.wallets=this.shared.setWallets(n.data),t(n.data)},error:n=>{a(n)}})}):(this.wallets=this.shared.getWallets(),Promise.resolve(this.shared.getWallets()))}getMarketData(){let t=I.D.getUserData();this.marketDataSubscribe=this.cryptoService.getCryptoPriceData(t.attributes.money_stats_settings.cryptoCurrency).subscribe(a=>{this.marketData=a.data,v.$.info(a.message,"RequirementsComponent"),this.cryptoService.cache.cacheMarketDataByCurrencyData(a)})}goToDashboard(){this.isAssetCreated&&this.isCryptoWalletCreated&&this.isCurrencyAdded&&this.isWalletCreated&&this.router.navigate(["/crypto/dashboard"])}static \u0275fac=function(a){return new(a||s)(e.rXU(te.F),e.rXU(z.u),e.rXU(C.Ix),e.rXU(I.D),e.rXU(O.d),e.rXU(M))};static \u0275cmp=e.VBU({type:s,selectors:[["app-requirements"]],standalone:!1,decls:77,vars:72,consts:[[1,"mx-auto","section-width"],[3,"routerLinks","title","isMenuActive"],["id","appCapsule"],[1,"title-section"],[1,"title"],[1,"section","mt-3","mx-auto",2,"max-width","600px"],[1,"card","border_round","mb-3"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","mt-1","mb-1"],["data-bs-toggle","modal",1,"item","clickable"],[1,"icon-box"],["class","icon-medium bg-orange","name","alert-circle-outline",4,"ngIf"],["class","icon-medium bg-blue","name","checkmark-circle",4,"ngIf"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],["data-bs-toggle","modal",3,"click"],["data-bs-toggle","modal"],[1,"form-button-group","transparent","section-width","mx-auto"],["type","button","routerLink","/crypto/dashboard",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled"],[3,"emitAddWallet","modalId","isCrypto","wallets"],[3,"emitAddAsset","modalId","wallets","marketData","cryptoCurrency"],[3,"emitAddCurrency","modalId"],["name","alert-circle-outline",1,"icon-medium","bg-orange"],["name","checkmark-circle",1,"icon-medium","bg-blue"]],template:function(a,n){1&a&&(e.j41(0,"div",0),e.nrm(1,"app-crypto-header",1),e.nI1(2,"translate"),e.j41(3,"div",2)(4,"div",3)(5,"h2",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",5)(12,"div",6)(13,"ul",7)(14,"li")(15,"a",8)(16,"div",9),e.DNE(17,Xt,1,0,"ion-icon",10)(18,Ut,1,0,"ion-icon",11),e.k0s(),e.j41(19,"div",12)(20,"div")(21,"strong"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"div",13),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.nrm(27,"div",14),e.k0s()()(),e.j41(28,"li")(29,"a",15),e.bIt("click",function(){return n.enableModalCrypto=!1}),e.j41(30,"div",9),e.DNE(31,Ht,1,0,"ion-icon",10)(32,qt,1,0,"ion-icon",11),e.k0s(),e.j41(33,"div",12)(34,"div")(35,"strong"),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"div",13),e.EFF(39),e.nI1(40,"translate"),e.k0s()(),e.nrm(41,"div",14),e.k0s()()(),e.j41(42,"li")(43,"a",15),e.bIt("click",function(){return n.enableModalCrypto=!0}),e.j41(44,"div",9),e.DNE(45,zt,1,0,"ion-icon",10)(46,Jt,1,0,"ion-icon",11),e.k0s(),e.j41(47,"div",12)(48,"div")(49,"strong"),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"div",13),e.EFF(53),e.nI1(54,"translate"),e.k0s()(),e.nrm(55,"div",14),e.k0s()()(),e.j41(56,"li")(57,"a",16)(58,"div",9),e.DNE(59,Zt,1,0,"ion-icon",10)(60,Qt,1,0,"ion-icon",11),e.k0s(),e.j41(61,"div",12)(62,"div")(63,"strong"),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.j41(66,"div",13),e.EFF(67),e.nI1(68,"translate"),e.k0s()(),e.nrm(69,"div",14),e.k0s()()()()()()(),e.j41(70,"div",17)(71,"button",18),e.EFF(72),e.nI1(73,"translate"),e.k0s()()(),e.j41(74,"app-add-wallet",19),e.bIt("emitAddWallet",function(r){return n.saveWallet(r)}),e.k0s(),e.j41(75,"app-add-asset-modal",20),e.bIt("emitAddAsset",function(r){return n.saveWallet(r)}),e.k0s(),e.j41(76,"app-select-crypto-currency",21),e.bIt("emitAddCurrency",function(r){return n.selectCurrency(r)}),e.k0s()),2&a&&(e.R7$(),e.Y8G("routerLinks","")("title",e.bMT(2,48,"requirements_page.header_title"))("isMenuActive",!1),e.R7$(5),e.JRh(e.bMT(7,50,"requirements_page.title")),e.R7$(3),e.SpI(" ",e.bMT(10,52,"requirements_page.sub_title")," "),e.R7$(6),e.x72("data-bs-target","#",n.modalConstant.ADDCRYPTOCURRENCY,""),e.R7$(2),e.Y8G("ngIf",!n.isCurrencyAdded),e.R7$(),e.Y8G("ngIf",n.isCurrencyAdded),e.R7$(4),e.SpI(" ",e.bMT(23,54,"requirements_page.req4_title"),""),e.R7$(3),e.SpI(" ",e.bMT(26,56,"requirements_page.req4_subTitle")," "),e.R7$(4),e.ZvI("item clickable ",n.isCurrencyAdded?"":"disabled",""),e.x72("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.R7$(2),e.Y8G("ngIf",!n.isWalletCreated),e.R7$(),e.Y8G("ngIf",n.isWalletCreated),e.R7$(4),e.JRh(e.bMT(37,58,"requirements_page.req1_title")),e.R7$(3),e.SpI(" ",e.bMT(40,60,"requirements_page.req1_subTitle")," "),e.R7$(4),e.ZvI("item clickable ",n.isCurrencyAdded?"":"disabled",""),e.x72("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.R7$(2),e.Y8G("ngIf",!n.isCryptoWalletCreated),e.R7$(),e.Y8G("ngIf",n.isCryptoWalletCreated),e.R7$(4),e.JRh(e.bMT(51,62,"requirements_page.req2_title")),e.R7$(3),e.SpI(" ",e.bMT(54,64,"requirements_page.req2_subTitle")," "),e.R7$(4),e.ZvI("item clickable ",n.isCryptoWalletCreated?"":"disabled",""),e.x72("data-bs-target","#",n.modalConstant.ADDASSET,""),e.R7$(2),e.Y8G("ngIf",!n.isAssetCreated),e.R7$(),e.Y8G("ngIf",n.isAssetCreated),e.R7$(4),e.SpI(" ",e.bMT(65,66,"requirements_page.req3_title"),""),e.R7$(3),e.SpI(" ",e.bMT(68,68,"requirements_page.req3_subTitle")," "),e.R7$(4),e.Y8G("disabled",!n.validateBtn()),e.R7$(),e.SpI(" ",e.bMT(73,70,"requirements_page.next")," "),e.R7$(2),e.Y8G("modalId",n.modalConstant.ADDWALLET)("isCrypto",n.enableModalCrypto)("wallets",n.wallets),e.R7$(),e.Y8G("modalId",n.modalConstant.ADDASSET)("wallets",n.cryptoWallet)("marketData",n.marketData)("cryptoCurrency",n.currency),e.R7$(),e.Y8G("modalId",n.modalConstant.ADDCRYPTOCURRENCY))},dependencies:[C.Wk,_.bT,G,ae,Wt,oe.k,T.iq,T.N7,f.D9],styles:[".title-section[_ngcontent-%COMP%]{margin-left:30px;margin-top:45px;margin-right:30px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:30px!important;margin-bottom:20px!important}.title[_ngcontent-%COMP%]{font-size:larger}}.icon-medium[_ngcontent-%COMP%]{width:25px;height:25px}.bg-orange[_ngcontent-%COMP%]{color:#ffcd67}.bg-blue[_ngcontent-%COMP%]{color:#284bff}.disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return s})();var R=u(5635),V=u(6661);function en(s,o){if(1&s&&(e.j41(0,"div",37)(1,"div",38)(2,"a",39)(3,"div",40)(4,"div",41)(5,"div",42),e.nrm(6,"i",43),e.k0s()(),e.j41(7,"div")(8,"strong"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p",44),e.EFF(12),e.nI1(13,"translate"),e.nI1(14,"date"),e.k0s()()(),e.j41(15,"div",45)(16,"div",46),e.EFF(17),e.k0s()()()(),e.j41(18,"div",38)(19,"a",39)(20,"div",40)(21,"div",41)(22,"div",47),e.nrm(23,"i",48),e.k0s()(),e.j41(24,"div")(25,"strong"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"p",44),e.EFF(29),e.nI1(30,"translate"),e.nI1(31,"date"),e.k0s()()(),e.j41(32,"div",45)(33,"div",49)(34,"div"),e.EFF(35),e.k0s()(),e.j41(36,"div",50)(37,"span"),e.nrm(38,"i"),e.EFF(39),e.k0s()()()()()()),2&s){const t=e.XpG();e.R7$(9),e.JRh(e.bMT(10,20,"resume_page.total")),e.R7$(3),e.Lme(" ",e.bMT(13,22,"resume_page.since")," ",e.i5U(14,24,t.cryptoDashboard.lastUpdate,"dd MMM y")," "),e.R7$(5),e.Lme(" ",t.cryptoDashboard.currency," ",t.hidden?t.amount:t.cryptoDashboard.balance," "),e.R7$(9),e.JRh(e.bMT(27,27,"shared_text.performance")),e.R7$(3),e.Lme(" ",e.bMT(30,29,"resume_page.since")," ",e.i5U(31,31,t.cryptoDashboard.holdingLong.lastUpdate,"dd MMM y")," "),e.R7$(4),e.ZvI("price ",0==t.cryptoDashboard.holdingLong.performance?"text-warning":t.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger",""),e.R7$(2),e.Lme(" ",t.cryptoDashboard.currency," ",t.hidden?t.amount:t.cryptoDashboard.holdingLong.balance," "),e.R7$(2),e.ZvI("",0==t.cryptoDashboard.holdingLong.performance?"text-warning":t.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger"," mr-2"),e.R7$(),e.ZvI("fa ",t.cryptoDashboard.holdingLong.performance>0?"fa-arrow-up":"fa-arrow-down",""),e.R7$(),e.SpI(" ",t.cryptoDashboard.holdingLong.performance,"%")}}function tn(s,o){1&s&&(e.j41(0,"div",51),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function nn(s,o){if(1&s&&e.nrm(0,"apx-chart",52),2&s){const t=e.XpG();e.Y8G("series",t.chart1Y.series)("chart",t.chart1Y.chart)("title",t.chart1Y.title)("colors",t.chart1Y.colors)("legend",t.chart1Y.legend)("labels",t.chart1Y.labels)("tooltip",t.chart1Y.tooltip)("dataLabels",t.chart1Y.dataLabels)("grid",t.chart1Y.grid)}}function an(s,o){1&s&&(e.j41(0,"div",51),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function sn(s,o){if(1&s&&e.nrm(0,"apx-chart",52),2&s){const t=e.XpG();e.Y8G("series",t.chart3Y.series)("chart",t.chart3Y.chart)("title",t.chart3Y.title)("colors",t.chart3Y.colors)("legend",t.chart3Y.legend)("labels",t.chart3Y.labels)("tooltip",t.chart3Y.tooltip)("dataLabels",t.chart3Y.dataLabels)("grid",t.chart3Y.grid)}}function on(s,o){1&s&&(e.j41(0,"div",51),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function rn(s,o){if(1&s&&e.nrm(0,"apx-chart",53),2&s){const t=e.XpG();e.Y8G("series",t.chartOptions.series)("chart",t.chartOptions.chart)("title",t.chartOptions.title)("colors",t.chartOptions.colors)("legend",t.chartOptions.legend)("labels",t.chartOptions.labels)("tooltip",t.chartOptions.tooltip)("dataLabels",t.chartOptions.dataLabels)("grid",t.chartOptions.grid)}}function ln(s,o){if(1&s){const t=e.RV6();e.j41(0,"a",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zeroBalanceSwitch())}),e.nrm(1,"ion-icon",55),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"crypto_asset_page.show"),""))}function cn(s,o){if(1&s){const t=e.RV6();e.j41(0,"a",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zeroBalanceSwitch())}),e.nrm(1,"ion-icon",56),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"crypto_asset_page.hidden"),""))}function dn(s,o){1&s&&(e.j41(0,"div",34)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"crypto_asset_page.empty_assets_data")," "))}function pn(s,o){if(1&s&&e.nrm(0,"app-transaction-card",58),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("hiddenAmount",a.hidden)("assets",t)("currency",a.cryptoDashboard.currency)}}function mn(s,o){if(1&s&&(e.j41(0,"div"),e.DNE(1,pn,1,3,"app-transaction-card",57),e.k0s()),2&s){const t=o.$implicit,a=e.XpG();e.R7$(),e.Y8G("ngIf",a.showZeroBalance?t.balance>=0:t.balance>0)}}let hn=(()=>{class s{cryptoService;shared;cryptoAssetSubscribe=new g.yU;getCryptoWalletSubscribe=new g.yU;amount="******";hidden=!1;chartOptions;chart1Y;chart3Y;cryptoDashboard=new E;assets=[];showZeroBalance=!1;thisYear=(new Date).getFullYear();cryptoWallet;constructor(t,a){this.cryptoService=t,this.shared=a}get modalConstant(){return d.mX}ngOnDestroy(){this.cryptoAssetSubscribe.unsubscribe(),this.getCryptoWalletSubscribe.unsubscribe()}ngOnInit(){S.i.hideFooter(),this.getAssets()}getAssets(){const t=this.shared.getCryptoDashboardData();this.cryptoDashboard=c.A.isNullOrEmpty(t)?new E:t,this.cryptoAssetSubscribe=this.cryptoService.getCryptoAssetsData().subscribe(a=>{this.cryptoService.cache.cacheAssetsData(a),v.$.info(a.message,"CryptoAssetComponent"),this.assets=a.data,this.cryptoDashboard.assets=this.shared.setCryptoAssets(a.data),this.graph1Y()}),this.isWalletBalanceHidden()}getWalletsCryptoData(){c.A.isNullOrEmpty(this.cryptoWallet)&&(this.getCryptoWalletSubscribe=this.cryptoService.getWalletsCryptoData().subscribe(t=>{this.cryptoService.cache.cacheWalletsCryptoData(t),v.$.info(t.message,"CryptoDashboardComponent");const a=t.data;this.cryptoWallet=c.A.isNullOrEmpty(a)?[]:a.filter(n=>"Crypto"==n.category),this.shared.setCryptoWallets(this.cryptoWallet)}))}graphAll(){if(!this.chartOptions){let t=new E;t.assets=c.A.copyObject(this.assets),t.statsAssetsDays=this.getAllDate(),setTimeout(()=>{t.assets&&(this.chartOptions=S.i.isMobileDevice()?R.u.renderCryptoDatas(t,!0,[d.ou.MOBILE_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA]):R.u.renderCryptoDatas(t,!0,[d.ou.ULTRA_WIDE,d.ou.LIVE_PRICE_AS_LAST_DATA]))},500)}}graph1Y(){if(!this.chart1Y){let t=new E;t.assets=c.A.copyObject(this.assets),t.statsAssetsDays=this.getAllDate();let a=[];t.assets.forEach(n=>{let i=n.history?.filter(r=>new Date(r.date).getFullYear()===(new Date).getFullYear());n.history=i,0!=n.balance&&a.push(n)}),t.assets=a,t.statsAssetsDays&&(t.statsAssetsDays=t.statsAssetsDays.filter(n=>n.toString().split("-")[0]===(new Date).getFullYear().toString())),setTimeout(()=>{this.chart1Y=S.i.isMobileDevice()?R.u.renderCryptoDatas(t,!0,[d.ou.MOBILE_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA]):R.u.renderCryptoDatas(t,!0,[d.ou.ULTRA_WIDE,d.ou.LIVE_PRICE_AS_LAST_DATA])},500)}}graph3Y(){if(!this.chart3Y){let t=new E;t.assets=c.A.copyObject(this.assets),t.statsAssetsDays=this.getAllDate();let a=[(new Date).getFullYear().toString(),((new Date).getFullYear()-1).toString(),((new Date).getFullYear()-2).toString()],n=[];t.assets.forEach(i=>{let r=i.history?.filter(l=>a.includes(l.date.toString().split("-")[0]));i.history=r,0!=r?.length&&n.push(i)}),t.assets=n,t.statsAssetsDays&&(t.statsAssetsDays=t.statsAssetsDays.filter(i=>a.includes(i.toString().split("-")[0]))),setTimeout(()=>{this.chart3Y=S.i.isMobileDevice()?R.u.renderCryptoDatas(t,!0,[d.ou.MOBILE_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA]):R.u.renderCryptoDatas(t,!0,[d.ou.ULTRA_WIDE,d.ou.LIVE_PRICE_AS_LAST_DATA])},500)}}zeroBalanceSwitch(){return this.showZeroBalance=!this.showZeroBalance}getAllDate(){let t=[];return this.assets.forEach(a=>a.history?.forEach(n=>{t.find(i=>i==n.date.toString())||t.push(n.date.toString())})),t.sort(),t}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(d.M2.HIDDENAMOUNT));null!=t&&(this.hidden=t)}get isAssetListEmptyOrZero(){return!this.showZeroBalance&&(!this.assets?.length||this.assets.every(t=>0===t.balance))}get isAssetHasZero(){return!this.showZeroBalance&&(!this.assets?.length||this.assets.filter(t=>0===t.balance).length>0)}get isGraphEmptyOrZero(){return!this.assets?.length||this.assets.every(t=>0===t.balance)}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(O.d))};static \u0275cmp=e.VBU({type:s,selectors:[["app-crypto-asset"]],standalone:!1,decls:57,vars:32,consts:[[1,"mx-auto","section-width"],[3,"emitOperationClick","title"],["id","appCapsule",1,"mx-auto"],[1,"section","hidden_mobile","mt-2"],["class","transactions row","style","\n          margin-top: -15px;\n          margin-left: 5px !important;\n          margin-right: 5px !important;\n        ",4,"ngIf"],[1,"row","margin-bottom-size"],[1,"col-md-7"],[1,"title-section","hidden_desktop"],[1,"card-title"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"section","mt-2"],[1,"section-title","hidden_mobile"],[1,"card","border_round"],[1,"card-body","pt-1"],["role","tablist",1,"nav","nav-tabs","lined"],[1,"nav-item"],["data-bs-toggle","tab","href","#tab-1y","role","tab",1,"nav-link","active",3,"click"],["data-bs-toggle","tab","href","#tab-3y","role","tab",1,"nav-link",3,"click"],["data-bs-toggle","tab","href","#tab-all","role","tab",1,"nav-link",3,"click"],[1,"tab-content"],["id","tab-1y","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"inner-round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid",4,"ngIf"],["id","tab-3y","role","tabpanel",1,"tab-pane","fade"],["id","tab-all","role","tabpanel",1,"tab-pane","fade"],["type","area","class","border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid",4,"ngIf"],[1,"col-md-5"],[1,"section","mt-2","mb-2"],[1,"section-heading"],[1,"section-title"],["class","link clickable",3,"click",4,"ngIf"],[1,"transactions"],["role","alert",1,"alert","alert-warning","m-2","text-center"],[4,"ngFor","ngForOf"],[3,"emitAddStats","modalId","wallets","assets","currency","statsAssetsDays"],[1,"transactions","row",2,"margin-top","-15px","margin-left","5px !important","margin-right","5px !important"],[1,"col-md-6","mt-2"],["routerLink","/crypto/asset",1,"item"],[1,"detail"],[1,"col-auto",2,"padding-right","20px"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"sincetot"],[1,"right","float-end"],["id","totale",1,"price"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-poll"],["id","pil"],[1,"price","float-end","performancetot"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid"],[1,"link","clickable",3,"click"],["name","eye-outline",2,"width","20px","height","20px","vertical-align","-5px"],["name","eye-off-outline",2,"width","20px","height","20px","vertical-align","-5px"],[3,"hiddenAmount","assets","currency",4,"ngIf"],[3,"hiddenAmount","assets","currency"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"app-crypto-header",1),e.nI1(2,"translate"),e.bIt("emitOperationClick",function(){return n.getWalletsCryptoData()}),e.k0s(),e.j41(3,"div",2)(4,"div",3),e.DNE(5,en,40,34,"div",4),e.k0s(),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"p",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"h5",9),e.EFF(13),e.k0s(),e.j41(14,"p",10),e.EFF(15),e.k0s()(),e.j41(16,"div",11)(17,"div",12),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",13)(21,"div",14)(22,"ul",15)(23,"li",16)(24,"a",17),e.bIt("click",function(){return n.graph1Y()}),e.EFF(25),e.k0s()(),e.j41(26,"li",16)(27,"a",18),e.bIt("click",function(){return n.graph3Y()}),e.EFF(28," 3Y "),e.k0s()(),e.j41(29,"li",16)(30,"a",19),e.bIt("click",function(){return n.graphAll()}),e.EFF(31," All "),e.k0s()()()(),e.j41(32,"div",20)(33,"div",21)(34,"div",22),e.DNE(35,tn,5,0,"div",23)(36,nn,1,9,"apx-chart",24),e.k0s()(),e.j41(37,"div",25)(38,"div",22),e.DNE(39,an,5,0,"div",23)(40,sn,1,9,"apx-chart",24),e.k0s()(),e.j41(41,"div",26)(42,"div",22),e.DNE(43,on,5,0,"div",23)(44,rn,1,9,"apx-chart",27),e.k0s()()()()()(),e.j41(45,"div",28)(46,"div",29)(47,"div",30)(48,"div",31),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.DNE(51,ln,4,3,"a",32)(52,cn,4,3,"a",32),e.k0s(),e.j41(53,"div",33),e.DNE(54,dn,4,3,"div",34)(55,mn,2,1,"div",35),e.k0s()()()()()(),e.j41(56,"app-operations-modal",36),e.bIt("emitAddStats",function(){return n.getAssets()}),e.k0s()),2&a&&(e.R7$(),e.FS9("title",e.bMT(2,24,"crypto_asset_page.title")),e.R7$(4),e.Y8G("ngIf",n.assets),e.R7$(5),e.SpI(" ",e.bMT(11,26,"crypto_dashboard_page.card_resume.title")," "),e.R7$(3),e.Lme(" ",n.hidden?n.amount:n.cryptoDashboard.balance," ",n.cryptoDashboard.currency," "),e.R7$(2),e.SpI(" ",n.hidden?n.amount:n.cryptoDashboard.btcBalance," BTC "),e.R7$(3),e.SpI(" ",e.bMT(19,28,"crypto_asset_page.assetGraph")," "),e.R7$(7),e.SpI(" ",n.thisYear," "),e.R7$(10),e.Y8G("ngIf",!n.chart1Y||n.isGraphEmptyOrZero),e.R7$(),e.Y8G("ngIf",n.chart1Y&&!n.isGraphEmptyOrZero),e.R7$(3),e.Y8G("ngIf",!n.chart3Y||n.isGraphEmptyOrZero),e.R7$(),e.Y8G("ngIf",n.chart3Y&&!n.isGraphEmptyOrZero),e.R7$(3),e.Y8G("ngIf",!n.chartOptions||n.isGraphEmptyOrZero),e.R7$(),e.Y8G("ngIf",n.chartOptions&&!n.isGraphEmptyOrZero),e.R7$(5),e.SpI(" ",e.bMT(50,30,"crypto_asset_page.assetList")," "),e.R7$(2),e.Y8G("ngIf",!n.showZeroBalance&&n.isAssetHasZero),e.R7$(),e.Y8G("ngIf",n.showZeroBalance),e.R7$(2),e.vxM(n.isAssetListEmptyOrZero?54:-1),e.R7$(),e.Y8G("ngForOf",n.assets),e.R7$(),e.Y8G("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoWallet)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},dependencies:[C.Wk,_.Sq,_.bT,G,X,V.Q,ie.a,T.iq,T.oY,_.vh,f.D9],styles:["#appCapsule[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:0!important}.row[_ngcontent-%COMP%]{margin-right:0!important}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:-8px}.row[_ngcontent-%COMP%]   .transactions[_ngcontent-%COMP%]{margin-right:-20px!important}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}}.transactions[_ngcontent-%COMP%]{margin-top:-10px;margin-left:-15px!important;margin-right:-15px!important}.icon-shape[_ngcontent-%COMP%]{display:inline-flex;padding:12px;text-align:center;border-radius:50%;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.round-img[_ngcontent-%COMP%]{border-radius:50%}.item[_ngcontent-%COMP%]{border-radius:20px}.inner-round[_ngcontent-%COMP%]{min-height:350px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}"]})}return s})();var un=u(1473),Y=u(6368),Q=u(1432);function _n(s,o){if(1&s&&(e.j41(0,"p",34),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"strong"),e.EFF(4),e.k0s()()),2&s){const t=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,3,"modal_component.close_operation.fees"),": "),e.R7$(3),e.Lme("",t.operationToClose.fees," ",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol,"")}}function gn(s,o){1&s&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"modal_component.operations.add_stats.data_select")," "))}function bn(s,o){if(1&s){const t=e.RV6();e.j41(0,"label",60),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"mark",62),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.isPercentageFee=!0)}),e.EFF(4," % "),e.k0s()()}if(2&s){const t=e.XpG(3);e.R7$(),e.Lme("",e.bMT(2,2,"modal_component.close_operation.fees")," (",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol,") ")}}function yn(s,o){if(1&s){const t=e.RV6();e.j41(0,"label",60),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"mark",62),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.isPercentageFee=!0)}),e.EFF(4," % "),e.k0s()()}if(2&s){const t=e.XpG(3);e.R7$(),e.Lme("",e.bMT(2,2,"modal_component.close_operation.fees")," (",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,") ")}}function fn(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",46),e.DNE(1,bn,5,4,"label",60)(2,yn,5,4,"label",60),e.j41(3,"input",61,5),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.fees,n)||(i.fees=n),e.Njj(n)}),e.bIt("keyup",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.refreshData())}),e.k0s(),e.j41(6,"i",53),e.nrm(7,"ion-icon",54),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.vxM((null==t.operationToClose.asset?null:t.operationToClose.asset.category)==t.marktDataCategory.CRYPTOCURRENCY?1:-1),e.R7$(),e.vxM((null==t.operationToClose.asset?null:t.operationToClose.asset.category)==t.marktDataCategory.STABLECOIN?2:-1),e.R7$(),e.FS9("placeholder",e.bMT(5,4,"modal_component.close_operation.fees")),e.R50("ngModel",t.fees)}}function vn(s,o){if(1&s){const t=e.RV6();e.j41(0,"label",60),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"mark",62),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.isPercentageFee=!1)}),e.EFF(4),e.k0s()()}if(2&s){const t=e.XpG(3);e.R7$(),e.SpI("",e.bMT(2,2,"modal_component.close_operation.fees")," (%) "),e.R7$(3),e.JRh(null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol)}}function Cn(s,o){if(1&s){const t=e.RV6();e.j41(0,"label",60),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"mark",62),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.isPercentageFee=!1)}),e.EFF(4),e.k0s()()}if(2&s){const t=e.XpG(3);e.R7$(),e.SpI("",e.bMT(2,2,"modal_component.close_operation.fees")," (%) "),e.R7$(3),e.JRh(null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol)}}function In(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",46),e.DNE(1,vn,5,4,"label",60)(2,Cn,5,4,"label",60),e.j41(3,"input",61,5),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.percentageFees,n)||(i.percentageFees=n),e.Njj(n)}),e.bIt("keyup",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.refreshData())}),e.k0s(),e.j41(6,"i",53),e.nrm(7,"ion-icon",54),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.vxM((null==t.operationToClose.asset?null:t.operationToClose.asset.category)==t.marktDataCategory.CRYPTOCURRENCY?1:-1),e.R7$(),e.vxM((null==t.operationToClose.asset?null:t.operationToClose.asset.category)==t.marktDataCategory.STABLECOIN?2:-1),e.R7$(),e.FS9("placeholder",e.bMT(5,4,"modal_component.close_operation.fees")),e.R50("ngModel",t.percentageFees)}}function Tn(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",31)(1,"div",38)(2,"div",44)(3,"div",45)(4,"div",46)(5,"input",47,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.closingDate,n)||(i.closingDate=n),e.Njj(n)}),e.k0s(),e.DNE(7,gn,3,3,"div",48),e.k0s()()(),e.j41(8,"div",49)(9,"div",50)(10,"div",46)(11,"label",51),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"input",52,2),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.operationToClose.exitQuantity,n)||(i.operationToClose.exitQuantity=n),e.Njj(n)}),e.bIt("keyup",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateExitPrice())}),e.k0s(),e.j41(16,"i",53),e.nrm(17,"ion-icon",54),e.k0s()()()(),e.j41(18,"div",49)(19,"div",50)(20,"div",46)(21,"label",55),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"input",56,3),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.operationToClose.exitPriceValue,n)||(i.operationToClose.exitPriceValue=n),e.Njj(n)}),e.k0s(),e.j41(26,"i",53),e.nrm(27,"ion-icon",54),e.k0s()()()(),e.j41(28,"div",49)(29,"div",50)(30,"div",46)(31,"label",57),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"input",58,4),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.operationToClose.exitPrice,n)||(i.operationToClose.exitPrice=n),e.Njj(n)}),e.bIt("keyup",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.refreshData())}),e.k0s(),e.j41(36,"i",53),e.nrm(37,"ion-icon",54),e.k0s()()()(),e.j41(38,"div",49)(39,"div",50),e.DNE(40,fn,8,6,"div",46)(41,In,8,6,"div",46),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(5),e.FS9("value",t.closingDate),e.R50("ngModel",t.closingDate),e.R7$(2),e.Y8G("ngIf",t.validateClosingDate()),e.R7$(5),e.Lme("",e.bMT(13,14,"modal_component.close_operation.quantity")," (",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol,")"),e.R7$(2),e.R50("ngModel",t.operationToClose.exitQuantity),e.R7$(8),e.Lme("",e.bMT(23,16,"modal_component.close_operation.value")," (",t.cryptoCurrency,")"),e.R7$(2),e.R50("ngModel",t.operationToClose.exitPriceValue),e.R7$(8),e.Lme("",e.bMT(33,18,"modal_component.close_operation.selling")," (",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,")"),e.R7$(2),e.R50("ngModel",t.operationToClose.exitPrice),e.R7$(6),e.vxM(t.isPercentageFee?-1:40),e.R7$(),e.vxM(t.isPercentageFee?41:-1)}}function Fn(s,o){if(1&s&&(e.j41(0,"p",34),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"strong"),e.EFF(4),e.k0s()()),2&s){const t=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,3,"modal_component.close_operation.fees"),": "),e.R7$(3),e.Lme("",t.fees," ",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,"")}}function kn(s,o){if(1&s&&(e.j41(0,"div",31)(1,"h5",32),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",33)(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.j41(8,"strong"),e.EFF(9),e.k0s()(),e.j41(10,"p",34),e.EFF(11),e.nI1(12,"translate"),e.j41(13,"strong"),e.EFF(14),e.k0s()(),e.j41(15,"p",34),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"strong"),e.EFF(19),e.j41(20,"span"),e.EFF(21),e.k0s()()(),e.j41(22,"p",34),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"strong"),e.EFF(26),e.k0s()(),e.DNE(27,Fn,5,5,"p",35),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.E5c(" ",e.bMT(3,24,"modal_component.close_operation.closeP")," ",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,"-",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol," "),e.R7$(4),e.SpI(" ",e.bMT(7,26,"modal_component.close_operation.pair"),": "),e.R7$(3),e.Lme("",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,"-",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol,""),e.R7$(2),e.SpI(" ",e.bMT(12,28,"modal_component.close_operation.quantity"),": "),e.R7$(3),e.Lme("",t.operationToClose.exitQuantity," ",t.operationToClose.entryCoin,""),e.R7$(2),e.Lme(" ",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol," ",e.bMT(17,30,"modal_component.close_operation.value"),": "),e.R7$(3),e.Lme("",t.operationToClose.exitPriceValue," ",t.cryptoCurrency," "),e.R7$(),e.ZvI("badge ",0==t.operationToClose.trend?"badge-warning":t.operationToClose.trend<0?"badge-danger":"badge-success",""),e.R7$(),e.E5c("",t.cryptoCurrency," ",t.operationToClose.trend," (",t.operationToClose.performance,"%)"),e.R7$(2),e.Lme(" ",e.bMT(24,32,"modal_component.close_operation.sellPrice")," ",t.operationToClose.exitCoin,": "),e.R7$(3),e.Lme("",t.operationToClose.exitPrice," ",t.cryptoCurrency,""),e.R7$(),e.Y8G("ngIf",t.fees)}}function Rn(s,o){if(1&s){const t=e.RV6();e.j41(0,"a",63),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isEditActive=!0)}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"modal_component.close_operation.edit")))}function Sn(s,o){if(1&s){const t=e.RV6();e.j41(0,"button",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isEditActive=!1)}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const t=e.XpG(),a=e.sdS(5);e.Y8G("disabled",a.invalid||t.validateClosingDate()),e.R7$(),e.SpI(" ",e.bMT(2,2,"modal_component.close_operation.save")," ")}}let Dn=(()=>{class s{cryptoService;router;translate;closeSubscribe=new g.yU;modalId="";operation=new U;walletsAsset=[];operationToClose=new U;cryptoCurrency="";currentPrice=0;isEditActive=!1;isPercentageFee=!1;closingDate=c.A.formatDate(new Date);fees=0;percentageFees=0;constructor(t,a,n){this.cryptoService=t,this.router=a,this.translate=n}get modalConstant(){return d.mX}get operationTypeConstant(){return d.fW}get marktDataCategory(){return d.bb}ngOnDestroy(){this.closeSubscribe.unsubscribe()}ngOnChanges(t){this.operation&&this.getData()}getData(){if(!this.operation||!this.operation.type||this.operation.type!=d.fW.TRADING)return;this.cryptoCurrency=I.D.getUserData().attributes.money_stats_settings.cryptoCurrency;let t=this.operation?.entryQuantity*this.operation?.asset?.current_price;this.currentPrice=parseFloat(t.toFixed(2));let a=c.A.copyObject(this.operation);a.exitDate=new Date(this.closingDate),a.exitPrice=a?.asset?.current_price,a.exitPriceValue=parseFloat(t.toFixed(2)),a.exitQuantity=parseFloat(t.toFixed(8)),a.performance=parseFloat(((t-this.operation?.entryPriceValue)/t*100).toFixed(2)),a.trend=parseFloat((t-this.operation?.entryPriceValue).toFixed(2)),this.operationToClose=a}refreshData(){let t=this.operationToClose,a=this.operationToClose?.entryQuantity*this.operationToClose?.exitPrice,i=(this.isPercentageFee?this.percentageFees/100*a:this.fees)*(this.operationToClose.asset?.category===d.bb.CRYPTOCURRENCY?1:this.operationToClose?.exitPrice);t.exitPriceValue=parseFloat((a-i).toFixed(2)),t.exitQuantity=parseFloat((a-i).toFixed(8)),t.performance=parseFloat(((a-this.operationToClose?.entryPriceValue)/a*100).toFixed(2)),t.trend=parseFloat((a-i-this.operationToClose?.entryPriceValue).toFixed(2))}updateExitPrice(){this.operationToClose.exitPriceValue=parseFloat(this.operationToClose.exitQuantity?.toFixed(2))}validateClosingDate(){const t=new Date(this.closingDate);return new Date(this.operationToClose.entryDate)>=t||(this.operationToClose.exitDate=t,!1)}closeOperation(){this.operationToClose.status="CLOSED";let a=c.A.copyObject(this.walletsAsset).find(h=>null!=h.assets&&h.assets.find(y=>null!=y.operations&&y.operations.find(b=>b.id==this.operation?.id))),n=a?.assets.find(h=>h.symbol==this.operationToClose?.exitCoin),i=a?.assets.find(h=>h.symbol==this.operationToClose?.entryCoin);this.operationToClose.asset=void 0,this.operationToClose.assetSell=void 0,this.operationToClose.wallet=void 0;let r=parseFloat((this.fees*this.operationToClose?.exitPrice).toFixed(8));this.operationToClose.fees?this.operationToClose.fees+=r:this.operationToClose.fees=r;const l=this.calculatePercentageInvested(n.balance,this.operationToClose?.entryQuantity),p=this.calculateInvestment(n.invested,l);n.invested=Math.max(0,n.invested-p),i.invested+=p,n.operations=[this.operationToClose],n.balance-=this.operationToClose?.entryQuantity,n.updateDate=new Date,i.balance+=this.operationToClose?.exitQuantity,i.updateDate=new Date,a.assets=[n,i],console.log(n,i),this.closeSubscribe=this.cryptoService.updateCryptoAsset(a).subscribe(h=>{v.$.info(h.message,"CloseOperationComponent"),H.X.toastMessage(Q.J.SUCCESS,this.translate.instant("response.close")),this.router.navigate(["/crypto/dashboard"])})}calculateInvestment(t,a){return t*(a/100)}calculatePercentageInvested(t,a){return 0===t?0:t===a?100:(t-a)/t*100}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(C.Ix),e.rXU(f.c$))};static \u0275cmp=e.VBU({type:s,selectors:[["app-close-operation"]],inputs:{modalId:"modalId",operation:"operation",walletsAsset:"walletsAsset"},standalone:!1,features:[e.OA$],decls:87,vars:67,consts:[["f","ngForm"],["date1","ngModel"],["quantity1","ngModel"],["quantityValue1","ngModel"],["price1","ngModel"],["fees1","ngModel"],["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog","fullbig-modal"],[1,"modal-content","modal-round","mx-auto","fullbig-modal"],[1,"modal-body"],["type","submit"],[1,"action-sheet-content","fullbig-modal"],[1,"iconbox","text-warning"],["name","alert-circle"],[1,"text-center"],["name","alert-circle","data-bs-toggle","modal",2,"width","20px","height","20px","vertical-align","-2px"],[3,"innerHTML"],[1,"splash-page","mb-5"],[1,"transfer-verification"],[1,"transfer-amount"],[1,"caption"],[2,"margin-top","-20px"],[1,"from-to-block","mb-0"],[1,"item","text-center"],["alt","avatar",1,"imaged","w48",3,"src"],[1,"arrow"],[1,"mx-auto",2,"max-width","500px","margin-top","-45px","margin-bottom","-25px"],[1,"timeline","timed","ms-1","me-0"],[1,"item"],[1,"time"],[1,"dot","bg-success"],[1,"content"],[1,"title","text-start"],[1,"text","text-start"],[1,"p"],["class","p",4,"ngIf"],[1,"dot","bg-danger"],["class","content",4,"ngIf"],[1,"row"],[1,"col-6"],["class","btn btn-lg btn-outline-secondary btn-block goBack",3,"click",4,"ngIf"],["class","btn btn-lg btn-primary btn-block goBack",3,"disabled","click",4,"ngIf"],["data-bs-toggle","modal",1,"btn","btn-danger","btn-lg","btn-block",3,"click","disabled"],[3,"isClosingOperation","modalId","operationType"],[1,"col-12"],[1,"form-group","boxed","float-end","ms-1","me-1","date-form"],[1,"input-wrapper"],["name","date","type","date","id","text4b","required","",1,"form-control",3,"ngModelChange","ngModel","value"],["class","alert alert-danger mb-1","role","alert",4,"ngIf"],[1,"col-12","col-md-6"],[1,"form-group","basic"],["for","quantity1",1,"label"],["name","quantity","type","number","id","quantity1","placeholder","Enter an Amount",1,"form-control",3,"ngModelChange","keyup","ngModel"],[1,"clear-input"],["name","close-circle"],["for","quantityValue1",1,"label"],["name","quantityValue","type","number","id","quantityValue1","placeholder","Enter an Amount","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["for","price1",1,"label"],["name","price","type","number","id","price1","placeholder","Enter an Amount",1,"form-control",3,"ngModelChange","keyup","ngModel"],["role","alert",1,"alert","alert-danger","mb-1"],["for","fees",1,"label"],["name","fees","type","number","id","fees",1,"form-control",3,"ngModelChange","keyup","placeholder","ngModel"],[1,"clickable",2,"vertical-align","2px",3,"click"],[1,"btn","btn-lg","btn-outline-secondary","btn-block","goBack",3,"click"],[1,"btn","btn-lg","btn-primary","btn-block","goBack",3,"click","disabled"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"form",10,0)(6,"div",11)(7,"div",12),e.nrm(8,"ion-icon",13),e.k0s(),e.j41(9,"div",14)(10,"h3"),e.EFF(11),e.nI1(12,"translate"),e.nrm(13,"ion-icon",15),e.k0s(),e.nrm(14,"p",16),e.nI1(15,"translate"),e.nrm(16,"hr"),e.j41(17,"div",17)(18,"div",18)(19,"div",19)(20,"span",20),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"h2"),e.EFF(24),e.k0s(),e.j41(25,"p",21)(26,"small"),e.EFF(27),e.k0s()()(),e.j41(28,"div",22)(29,"div",23),e.nrm(30,"img",24),e.j41(31,"strong"),e.EFF(32),e.k0s()(),e.j41(33,"div",23),e.nrm(34,"img",24),e.j41(35,"strong"),e.EFF(36),e.k0s()(),e.nrm(37,"div",25),e.k0s()(),e.j41(38,"div",26)(39,"div",27)(40,"div",28)(41,"span",29),e.EFF(42),e.nI1(43,"date"),e.k0s(),e.nrm(44,"div",30),e.j41(45,"div",31)(46,"h5",32),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"div",33)(50,"p"),e.EFF(51),e.nI1(52,"translate"),e.j41(53,"strong"),e.EFF(54),e.k0s()(),e.j41(55,"p",34),e.EFF(56),e.nI1(57,"translate"),e.j41(58,"strong"),e.EFF(59),e.k0s()(),e.j41(60,"p",34),e.EFF(61),e.nI1(62,"translate"),e.j41(63,"strong"),e.EFF(64),e.k0s()(),e.j41(65,"p",34),e.EFF(66),e.nI1(67,"translate"),e.j41(68,"strong"),e.EFF(69),e.k0s()(),e.DNE(70,_n,5,5,"p",35),e.k0s()()(),e.j41(71,"div",28)(72,"span",29),e.EFF(73),e.nI1(74,"date"),e.k0s(),e.nrm(75,"div",36),e.DNE(76,Tn,42,20,"div",37)(77,kn,28,34,"div",37),e.k0s()()()()(),e.j41(78,"div",38)(79,"div",39),e.DNE(80,Rn,3,3,"a",40)(81,Sn,3,4,"button",41),e.k0s(),e.j41(82,"div",39)(83,"button",42),e.bIt("click",function(){return e.eBV(i),e.Njj(n.closeOperation())}),e.EFF(84),e.nI1(85,"translate"),e.k0s()()()()()()()()(),e.nrm(86,"app-info-modal",43)}if(2&a){const i=e.sdS(5);e.FS9("id",n.modalId),e.R7$(11),e.SpI(" ",e.bMT(12,43,"modal_component.close_operation.title")," "),e.R7$(2),e.x72("data-bs-target","#",n.modalConstant.INFO,""),e.R7$(),e.Y8G("innerHTML",e.bMT(15,45,"modal_component.close_operation.subTitle"),e.npT),e.R7$(7),e.JRh(e.bMT(22,47,"modal_component.close_operation.amount")),e.R7$(3),e.Lme("",n.operationToClose.entryCoin," ",n.currentPrice,""),e.R7$(3),e.Lme("",n.operationToClose.exitCoin," ",n.operationToClose.entryQuantity,""),e.R7$(3),e.FS9("src",null==n.operationToClose.asset?null:n.operationToClose.asset.icon,e.B4B),e.R7$(2),e.JRh(null==n.operationToClose.asset?null:n.operationToClose.asset.name),e.R7$(2),e.FS9("src",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.icon,e.B4B),e.R7$(2),e.JRh(null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.name),e.R7$(6),e.JRh(e.i5U(43,49,n.operationToClose.entryDate,"d MMM y")),e.R7$(5),e.E5c(" ",e.bMT(48,52,"modal_component.close_operation.open")," ",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol,"-",null==n.operationToClose.asset?null:n.operationToClose.asset.symbol," "),e.R7$(4),e.SpI(" ",e.bMT(52,54,"modal_component.close_operation.pair"),": "),e.R7$(3),e.Lme("",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol,"-",null==n.operationToClose.asset?null:n.operationToClose.asset.symbol,""),e.R7$(2),e.SpI(" ",e.bMT(57,56,"modal_component.close_operation.quantity"),": "),e.R7$(3),e.Lme("",n.operationToClose.entryQuantity," ",n.operationToClose.exitCoin,""),e.R7$(2),e.Lme(" ",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol," ",e.bMT(62,58,"modal_component.close_operation.value"),": "),e.R7$(3),e.Lme("",n.operationToClose.entryPriceValue," ",n.operationToClose.entryCoin,""),e.R7$(2),e.Lme(" ",e.bMT(67,60,"modal_component.close_operation.price")," ",n.operationToClose.exitCoin,": "),e.R7$(3),e.Lme("",n.operationToClose.entryPrice," ",n.cryptoCurrency,""),e.R7$(),e.Y8G("ngIf",n.operationToClose.fees),e.R7$(3),e.JRh(e.i5U(74,62,n.operationToClose.exitDate,"d MMM y")),e.R7$(3),e.Y8G("ngIf",n.isEditActive),e.R7$(),e.Y8G("ngIf",!n.isEditActive),e.R7$(3),e.Y8G("ngIf",!n.isEditActive),e.R7$(),e.Y8G("ngIf",n.isEditActive),e.R7$(2),e.Y8G("disabled",i.invalid||n.isEditActive),e.R7$(),e.SpI(" ",e.bMT(85,65,"modal_component.close_operation.close")," "),e.R7$(2),e.Y8G("isClosingOperation",!0)("modalId",n.modalConstant.INFO)("operationType",n.operationTypeConstant.CLOSEOPERATION)}},dependencies:[_.bT,T.iq,m.qT,m.me,m.Q0,m.BC,m.cb,m.YS,m.vS,m.cV,J.Z,_.vh,f.D9],styles:["@media screen and (max-height: 870px){.fullbig-modal[_ngcontent-%COMP%]{max-height:550px!important;height:550px!important}}.fullbig-modal[_ngcontent-%COMP%]{max-height:800px!important;height:800px}.p[_ngcontent-%COMP%]{margin-top:-15px}.item[_ngcontent-%COMP%]{display:block;padding-top:0}.timeline[_ngcontent-%COMP%]:before{top:10px;bottom:25px}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}"]})}return s})();function xn(s,o){if(1&s&&(e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),e.nrm(4,"img",21),e.k0s(),e.j41(5,"h3",22),e.EFF(6),e.k0s()()()()),2&s){const t=e.XpG();e.R7$(4),e.FS9("src",null==t.operation||null==t.operation.asset?null:t.operation.asset.icon,e.B4B),e.R7$(2),e.SpI(" ",null==t.operation||null==t.operation.asset?null:t.operation.asset.name," ")}}function En(s,o){if(1&s&&(e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),e.nrm(4,"img",21),e.k0s(),e.j41(5,"h3",22),e.EFF(6),e.k0s()()()()),2&s){const t=e.XpG();e.R7$(4),e.FS9("src",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.img,e.B4B),e.R7$(2),e.SpI(" ",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.name," ")}}function Mn(s,o){if(1&s&&(e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),e.nrm(4,"img",21),e.k0s(),e.j41(5,"h3",22),e.EFF(6),e.k0s()()()()),2&s){const t=e.XpG();e.R7$(4),e.FS9("src",null==t.operation||null==t.operation.assetSell?null:t.operation.assetSell.icon,e.B4B),e.R7$(2),e.SpI(" ",null==t.operation||null==t.operation.assetSell?null:t.operation.assetSell.name," ")}}function wn(s,o){if(1&s&&(e.j41(0,"div",17)(1,"div",18)(2,"div",23)(3,"div",20),e.nrm(4,"img",21),e.k0s(),e.j41(5,"h3",22),e.EFF(6),e.k0s()()()()),2&s){const t=e.XpG();e.R7$(4),e.FS9("src",null==t.operation||null==t.operation.asset?null:t.operation.asset.icon,e.B4B),e.R7$(2),e.SpI(" ",null==t.operation||null==t.operation.asset?null:t.operation.asset.name," ")}}function jn(s,o){if(1&s&&(e.j41(0,"div",17)(1,"div",18)(2,"div",23)(3,"div",20),e.nrm(4,"img",21),e.k0s(),e.j41(5,"h3",22),e.EFF(6),e.k0s()()()()),2&s){const t=e.XpG();e.R7$(4),e.FS9("src",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.img,e.B4B),e.R7$(2),e.SpI(" ",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.name," ")}}function An(s,o){if(1&s&&(e.j41(0,"li")(1,"strong"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",24),e.EFF(5),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"modal_component.operation_details.identifier")),e.R7$(3),e.SpI(" ",null==t.operation?null:t.operation.identifier,"")}}function On(s,o){if(1&s&&(e.j41(0,"li")(1,"strong"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"strong")(5,"span"),e.EFF(6),e.k0s()()()),2&s){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"modal_component.operation_details.fees"),""),e.R7$(4),e.Lme("",null==t.operation?null:t.operation.fees," ",null==t.operation?null:t.operation.entryCoin,"")}}function $n(s,o){if(1&s&&(e.j41(0,"li")(1,"strong"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.nI1(6,"date"),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"modal_component.operation_details.exit")),e.R7$(3),e.JRh(e.i5U(6,4,null==t.operation?null:t.operation.exitDate,"MMM dd, y HH:mm"))}}function Gn(s,o){if(1&s&&(e.j41(0,"li")(1,"strong"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"strong")(5,"span"),e.EFF(6),e.k0s()()()),2&s){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"modal_component.operation_details.exitPrice")),e.R7$(4),e.Lme("",null==t.operation?null:t.operation.exitPrice," ",t.currency,"")}}function Nn(s,o){if(1&s&&(e.j41(0,"li")(1,"strong"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"strong")(5,"span"),e.EFF(6),e.k0s()()()),2&s){const t=e.XpG();e.R7$(2),e.Lme("",t.currency," ",e.bMT(3,4,"modal_component.operation_details.value"),""),e.R7$(4),e.Lme("",null==t.operation?null:t.operation.exitPriceValue," ",t.currency,"")}}function Pn(s,o){if(1&s&&(e.j41(0,"div",25)(1,"a",26),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s){const t=e.XpG();e.R7$(),e.x72("data-bs-target","#",t.modalConstant.CLOSEOPERATION+t.modalId,""),e.R7$(),e.JRh(e.bMT(3,3,"modal_component.close_operation.title"))}}let Bn=(()=>{class s{operation=new U;modalId="";currency="";walletsAsset=[];trend=0;percentage=0;constructor(){}get modalConstant(){return d.mX}get operationTypeConstant(){return d.fW}ngOnInit(){this.getTradingData()}ngOnChanges(t){this.getTradingData()}getTradingData(){let t=this.operation?.entryQuantity*this.operation?.asset?.current_price;this.trend=this.operation?.trend?this.operation.trend:parseFloat((t-this.operation?.entryPriceValue).toFixed(2)),this.percentage=this.operation?.performance?this.operation.performance:parseFloat(((t-this.operation?.entryPriceValue)/t*100).toFixed(2))}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=e.VBU({type:s,selectors:[["app-operation-details"]],inputs:{operation:"operation",modalId:"modalId",currency:"currency",walletsAsset:"walletsAsset"},standalone:!1,features:[e.OA$],decls:82,vars:69,consts:[["tabindex","-1","role","dialog",1,"modal","fade","modalbox",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-center"],["alt","img",1,"image-block","imaged","w30","me-1",3,"src"],["href","#","data-bs-dismiss","modal"],[1,"modal-body"],[1,"section","mt-2","mb-2","row"],["class","col-5",4,"ngIf"],[1,"col-2","text-center",2,"align-self","center"],["name","swap-horizontal-outline"],[1,"listview","flush","transparent","simple-listview","no-space","mt-3"],[4,"ngIf"],[1,"text-small"],["class","modal-footer",4,"ngIf"],[3,"operation","modalId","walletsAsset"],[1,"col-5"],[1,"listed-detail","mt-3"],[1,"float-end","text-end"],[1,"icon-wrapper"],["alt","img",1,"image-block","imaged","w48",3,"src"],[1,"text-center","mt-2"],[1,"float-start","text-start"],[2,"text-align","end"],[1,"modal-footer"],["data-bs-toggle","modal",1,"btn","btn-primary","btn-lg","btn-block"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e.nrm(5,"img",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"a",6),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",7)(12,"div",8),e.DNE(13,xn,7,2,"div",9)(14,En,7,2,"div",9)(15,Mn,7,2,"div",9),e.j41(16,"div",10),e.nrm(17,"ion-icon",11),e.k0s(),e.DNE(18,wn,7,2,"div",9)(19,jn,7,2,"div",9),e.j41(20,"ul",12),e.DNE(21,An,6,4,"li",13),e.j41(22,"li")(23,"strong"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"div",14)(27,"span"),e.EFF(28),e.k0s()()(),e.j41(29,"li")(30,"strong"),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"span"),e.EFF(34),e.k0s()(),e.j41(35,"li")(36,"strong"),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"span")(40,"mark"),e.EFF(41),e.k0s()()(),e.j41(42,"li")(43,"strong"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"span"),e.EFF(47),e.nI1(48,"date"),e.k0s()(),e.j41(49,"li")(50,"strong"),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"strong")(54,"span"),e.EFF(55),e.k0s()()(),e.j41(56,"li")(57,"strong"),e.EFF(58),e.nI1(59,"translate"),e.k0s(),e.j41(60,"strong")(61,"span"),e.EFF(62),e.k0s()()(),e.j41(63,"li")(64,"strong"),e.EFF(65),e.nI1(66,"translate"),e.k0s(),e.j41(67,"strong")(68,"span"),e.EFF(69),e.k0s()()(),e.DNE(70,On,7,5,"li",13)(71,$n,7,7,"li",13)(72,Gn,7,5,"li",13)(73,Nn,7,6,"li",13),e.j41(74,"li")(75,"strong"),e.EFF(76,"Trend"),e.k0s(),e.j41(77,"strong")(78,"span"),e.EFF(79),e.k0s()()()()()(),e.DNE(80,Pn,4,5,"div",15),e.k0s()()(),e.nrm(81,"app-close-operation",16)),2&a&&(e.FS9("id",n.modalId),e.R7$(5),e.FS9("src",null==n.operation||null==n.operation.asset?null:n.operation.asset.icon,e.B4B),e.R7$(),e.Lme("",null==n.operation||null==n.operation.asset?null:n.operation.asset.name," ",e.bMT(7,48,"modal_component.operation_details.title")," "),e.R7$(3),e.JRh(e.bMT(10,50,"modal_component.operation_details.close")),e.R7$(4),e.Y8G("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.TRANSFER),e.R7$(),e.Y8G("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.NEWINVESTMENT),e.R7$(),e.Y8G("ngIf",(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.TRANSFER),e.R7$(3),e.Y8G("ngIf",(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.TRANSFER),e.R7$(),e.Y8G("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.TRANSFER),e.R7$(2),e.Y8G("ngIf",null==n.operation?null:n.operation.identifier),e.R7$(3),e.JRh(e.bMT(25,52,"modal_component.operation_details.status")),e.R7$(3),e.ZvI("badge ","CLOSED"==(null==n.operation?null:n.operation.status)?"badge-danger":"badge-success"," "),e.R7$(),e.JRh(null==n.operation?null:n.operation.status),e.R7$(3),e.JRh(e.bMT(32,54,"modal_component.operation_details.type")),e.R7$(3),e.SpI(" ",null==n.operation?null:n.operation.type,""),e.R7$(3),e.JRh(e.bMT(38,56,"modal_component.operation_details.currency")),e.R7$(4),e.Lme("",null==n.operation?null:n.operation.entryCoin,"-",null==n.operation?null:n.operation.exitCoin,""),e.R7$(3),e.JRh(e.bMT(45,58,"modal_component.operation_details.entry")),e.R7$(3),e.JRh(e.i5U(48,60,null==n.operation?null:n.operation.entryDate,"MMM dd, y HH:mm")),e.R7$(4),e.JRh(e.bMT(52,63,"modal_component.operation_details.entryPrice")),e.R7$(4),e.Lme("",null==n.operation?null:n.operation.entryPrice," ",null==n.operation?null:n.operation.entryCoin,""),e.R7$(3),e.Lme("",n.currency," ",e.bMT(59,65,"modal_component.operation_details.value"),""),e.R7$(4),e.Lme("",null==n.operation?null:n.operation.entryPriceValue," ",n.currency,""),e.R7$(3),e.Lme("",e.bMT(66,67,"modal_component.operation_details.quantity")," (",null==n.operation?null:n.operation.exitCoin,")"),e.R7$(4),e.Lme("",null==n.operation?null:n.operation.entryQuantity," ",null==n.operation?null:n.operation.exitCoin,""),e.R7$(),e.Y8G("ngIf",null==n.operation?null:n.operation.fees),e.R7$(),e.Y8G("ngIf",(null==n.operation?null:n.operation.exitDate)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),e.R7$(),e.Y8G("ngIf",(null==n.operation?null:n.operation.exitPrice)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),e.R7$(),e.Y8G("ngIf",(null==n.operation?null:n.operation.exitPriceValue)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),e.R7$(5),e.ZvI("badge ",0==n.trend?"badge-warning":n.trend<0?"badge-danger":"badge-success",""),e.R7$(),e.E5c("",n.currency," ",n.trend," (",n.percentage,"%)"),e.R7$(),e.Y8G("ngIf","OPEN"==(null==n.operation?null:n.operation.status)),e.R7$(),e.Y8G("operation",n.operation)("modalId",n.modalConstant.CLOSEOPERATION+n.modalId)("walletsAsset",n.walletsAsset))},dependencies:[_.bT,T.iq,Dn,_.vh,f.D9],styles:[".imaged[_ngcontent-%COMP%]{width:100px!important;height:100px!important;border-radius:50%;object-position:center center!important;object-fit:cover!important}.w30[_ngcontent-%COMP%]{width:30px!important;height:30px!important}.modal-footer[_ngcontent-%COMP%]{border-top:transparent!important}.listview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:60px}"]})}return s})();function Yn(s,o){if(1&s&&e.nrm(0,"img",14),2&s){const t=e.XpG(2).$implicit;e.FS9("src",null==t||null==t.assetSell?null:t.assetSell.icon,e.B4B)}}function Vn(s,o){if(1&s&&e.nrm(0,"img",14),2&s){const t=e.XpG(2).$implicit;e.FS9("src",null==t||null==t.wallet?null:t.wallet.img,e.B4B)}}function Ln(s,o){if(1&s&&e.nrm(0,"img",15),2&s){const t=e.XpG(2).$implicit;e.FS9("src",null==t||null==t.asset?null:t.asset.icon,e.B4B)}}function Wn(s,o){if(1&s&&e.nrm(0,"img",15),2&s){const t=e.XpG(2).$implicit;e.FS9("src",null==t||null==t.wallet?null:t.wallet.img,e.B4B)}}function Xn(s,o){if(1&s){const t=e.RV6();e.j41(0,"li")(1,"a",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.selectOperation(n))}),e.j41(2,"div",7),e.DNE(3,Yn,1,1,"img",8)(4,Vn,1,1,"img",8)(5,Ln,1,1,"img",9)(6,Wn,1,1,"img",9),e.k0s(),e.j41(7,"div",10)(8,"div")(9,"strong"),e.EFF(10),e.k0s(),e.j41(11,"div",11),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",11)(15,"strong"),e.EFF(16),e.k0s(),e.EFF(17),e.k0s()(),e.j41(18,"div",12)(19,"strong"),e.EFF(20),e.k0s(),e.j41(21,"div",13)(22,"span"),e.EFF(23),e.k0s()(),e.j41(24,"div",13),e.EFF(25),e.nI1(26,"translate"),e.j41(27,"strong"),e.EFF(28),e.k0s(),e.EFF(29),e.nI1(30,"translate"),e.nI1(31,"date"),e.k0s()()()()()}if(2&s){const t=e.XpG().$implicit,a=e.XpG();e.R7$(),e.x72("data-bs-target","#",a.modalID,""),e.R7$(2),e.Y8G("ngIf",t.type!=a.operationTypeConstant.NEWINVESTMENT),e.R7$(),e.Y8G("ngIf",t.type==a.operationTypeConstant.NEWINVESTMENT),e.R7$(),e.Y8G("ngIf",t.type!=a.operationTypeConstant.TRANSFER),e.R7$(),e.Y8G("ngIf",t.type==a.operationTypeConstant.TRANSFER),e.R7$(4),e.JRh(null==t||null==t.wallet?null:t.wallet.name),e.R7$(2),e.LHq(" ",null==t||null==t.asset?null:t.asset.name," ",e.bMT(13,24,"crypto_asset_page.details.price")," ",t.type!=a.operationTypeConstant.TRADING?null==t?null:t.exitPrice:t.entryPrice," ",a.cryptoCurrency," "),e.R7$(4),e.JRh(null==t?null:t.type),e.R7$(),e.SpI(" #",null==t?null:t.id," "),e.R7$(3),e.Lme("",null==t?null:t.entryQuantity," ",null==t||null==t.asset?null:t.asset.symbol,""),e.R7$(2),e.ZvI("badge ","CLOSED"==(null==t?null:t.status)?"badge-danger":"badge-success"," "),e.R7$(),e.JRh(null==t?null:t.status),e.R7$(2),e.SpI(" ",e.bMT(26,26,"crypto_asset_page.details.invest")," "),e.R7$(3),e.Lme("",null==t?null:t.entryPriceValue," ",a.cryptoCurrency,""),e.R7$(),e.Lme(" ",e.bMT(30,28,"crypto_asset_page.details.on")," ",e.i5U(31,30,null==t?null:t.entryDate,"d MMM yy")," ")}}function Un(s,o){if(1&s&&(e.j41(0,"ul",4),e.DNE(1,Xn,32,33,"li",5),e.k0s()),2&s){const t=o.index,a=e.XpG();e.R7$(),e.Y8G("ngIf",a.filterByPage(t))}}function Hn(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToOperations())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"crypto_asset_page.details.more")))}let q=(()=>{class s{cryptoService;router;walletsAsset=[];cryptoAssets=[];isAssetOperations=!1;operationsMapByYear=new Map;year="";isFullList=!1;modalID=(0,Y.A)();operationSelect;cryptoCurrency=I.D.getUserData().attributes.money_stats_settings.cryptoCurrency;operations=[];constructor(t,a){this.cryptoService=t,this.router=a}get operationTypeConstant(){return d.fW}get modalConstant(){return d.mX}ngOnChanges(t){(t.walletsAsset||t.cryptoAssets)&&c.A.isNullOrEmpty(this.operations)&&this.getOperations()}getOperations(){let t=c.A.isNullOrEmpty(this.cryptoAssets)?this.cryptoService.getAssetList(this.walletsAsset):this.cryptoAssets,a=[];return c.A.copyObject(this.walletsAsset).forEach(i=>{i.assets&&i.assets.length>0&&i.assets.forEach(r=>{r.operations&&r.operations.length>0&&r.operations.forEach(l=>{l.asset=r,l.wallet=i,l.type!=d.fW.NEWINVESTMENT&&(l.assetSell=c.A.copyObject(t.find(h=>h.symbol==l.entryCoin)));let p=c.A.copyObject(l);c.A.isNullOrEmpty(p.asset)||(p.asset.operations=void 0,p.asset.history=void 0),c.A.isNullOrEmpty(p.wallet)||(p.wallet.assets=void 0,p.wallet.history=void 0),c.A.isNullOrEmpty(p.assetSell)||(p.assetSell.history=void 0,p.assetSell.operations=void 0),a.push(p)})})}),a=a.sort((i,r)=>i.exitDate&&r.exitDate?i.exitDate<r.exitDate?1:-1:i.entryDate<r.entryDate?1:-1),this.operations=a,a}selectOperation(t){this.operationSelect=t}goToOperations(){let t=(0,Y.A)();this.cryptoService.operationsMap.set(t,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoCurrency+"/"+t])}filterByPage(t){return!!this.isFullList||t<4}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(C.Ix))};static \u0275cmp=e.VBU({type:s,selectors:[["app-operations-list"]],inputs:{walletsAsset:"walletsAsset",cryptoAssets:"cryptoAssets",isAssetOperations:"isAssetOperations",operationsMapByYear:"operationsMapByYear",year:"year",isFullList:"isFullList",modalID:"modalID"},outputs:{operationSelect:"operationSelect"},standalone:!1,features:[e.OA$],decls:4,vars:6,consts:[[1,"card","cards-op","border_round"],["class","listview flush transparent no-line image-listview detailed-list border_round",4,"ngFor","ngForOf"],["class","card-body pt-0",4,"ngIf"],[3,"modalId","operation","currency","walletsAsset"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","border_round"],[4,"ngIf"],["data-bs-toggle","modal",1,"item","zoom",2,"border-radius","20px !important",3,"click"],[1,"icon-box-c","me-4"],["class","rounded-pill img1","alt","",3,"src",4,"ngIf"],["class","rounded-pill img2","alt","",3,"src",4,"ngIf"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],[1,"text-small"],["alt","",1,"rounded-pill","img1",3,"src"],["alt","",1,"rounded-pill","img2",3,"src"],[1,"card-body","pt-0"],[1,"btn","btn-block","btn-outline-secondary",3,"click"]],template:function(a,n){1&a&&(e.j41(0,"div",0),e.DNE(1,Un,2,1,"ul",1)(2,Hn,4,3,"div",2),e.k0s(),e.nrm(3,"app-operation-details",3)),2&a&&(e.R7$(),e.Y8G("ngForOf",n.isFullList?null==n.operationsMapByYear?null:n.operationsMapByYear.get(n.year):n.operations),e.R7$(),e.Y8G("ngIf",!n.isFullList),e.R7$(),e.Y8G("modalId",n.modalID)("operation",n.operationSelect)("currency",n.cryptoCurrency)("walletsAsset",n.walletsAsset))},dependencies:[_.Sq,_.bT,Bn,_.vh,f.D9],styles:[".img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.rounded-pill[_ngcontent-%COMP%]{background-color:#000!important}@media screen and (max-width: 780px){.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}}"]})}return s})();function qn(s,o){1&s&&(e.j41(0,"div",41),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function zn(s,o){if(1&s&&e.nrm(0,"apx-chart",42),2&s){const t=e.XpG();e.Y8G("series",t.chart1Y.series)("chart",t.chart1Y.chart)("title",t.chart1Y.title)("colors",t.chart1Y.colors)("legend",t.chart1Y.legend)("labels",t.chart1Y.labels)("tooltip",t.chart1Y.tooltip)("dataLabels",t.chart1Y.dataLabels)("grid",t.chart1Y.grid)}}function Jn(s,o){1&s&&(e.j41(0,"div",41),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function Zn(s,o){if(1&s&&e.nrm(0,"apx-chart",42),2&s){const t=e.XpG();e.Y8G("series",t.chart3Y.series)("chart",t.chart3Y.chart)("title",t.chart3Y.title)("colors",t.chart3Y.colors)("legend",t.chart3Y.legend)("labels",t.chart3Y.labels)("tooltip",t.chart3Y.tooltip)("dataLabels",t.chart3Y.dataLabels)("grid",t.chart3Y.grid)}}function Qn(s,o){1&s&&(e.j41(0,"div",41),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function Kn(s,o){if(1&s&&e.nrm(0,"apx-chart",43),2&s){const t=e.XpG();e.Y8G("series",t.chartOptions.series)("chart",t.chartOptions.chart)("title",t.chartOptions.title)("colors",t.chartOptions.colors)("legend",t.chartOptions.legend)("labels",t.chartOptions.labels)("tooltip",t.chartOptions.tooltip)("dataLabels",t.chartOptions.dataLabels)("grid",t.chartOptions.grid)}}function ea(s,o){if(1&s){const t=e.RV6();e.j41(0,"a",44),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zeroBalanceSwitch())}),e.nrm(1,"ion-icon",45),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"crypto_asset_page.show"),""))}function ta(s,o){if(1&s){const t=e.RV6();e.j41(0,"a",44),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zeroBalanceSwitch())}),e.nrm(1,"ion-icon",46),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"crypto_asset_page.hidden"),""))}function na(s,o){1&s&&(e.j41(0,"div",38)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"crypto_asset_page.details.empty_wallets_data")," "))}function aa(s,o){if(1&s&&(e.j41(0,"h2",51)(1,"button",52),e.nrm(2,"img",53),e.j41(3,"div",54),e.EFF(4),e.k0s(),e.j41(5,"div",55)(6,"h5",56),e.EFF(7),e.j41(8,"small"),e.EFF(9),e.k0s()(),e.j41(10,"p",57)(11,"small"),e.EFF(12),e.k0s()()(),e.nrm(13,"div",58),e.k0s()()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(),e.x72("data-bs-target","#",t.name.split(".")[0]+t.id,""),e.R7$(),e.FS9("src",t.img,e.B4B),e.R7$(2),e.JRh(t.name),e.R7$(3),e.SpI(" ",a.hidden?a.amount:t.assets[0].value," "),e.R7$(2),e.JRh(a.cryptoDashboard.currency),e.R7$(3),e.Lme("",a.hidden?a.amount:t.assets[0].balance.toFixed(8)," ",a.asset.symbol,"")}}function sa(s,o){1&s&&(e.j41(0,"div",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"crypto_asset_page.details.invested")," "))}function ia(s,o){if(1&s){const t=e.RV6();e.j41(0,"strong",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.isEditInvestmentActive=!0)}),e.j41(1,"p"),e.EFF(2),e.nrm(3,"ion-icon",70),e.k0s()()}if(2&s){const t=e.XpG(2).$implicit,a=e.XpG(2);e.R7$(2),e.Lme(" ",a.hidden?a.amount:t.assets[0].invested," ",a.cryptoDashboard.currency," ")}}function oa(s,o){if(1&s){const t=e.RV6();e.j41(0,"form",71,0)(2,"div",72)(3,"div",73)(4,"label",74),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",75,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit;return e.DH7(i.assets[0].invested,n)||(i.assets[0].invested=n),e.Njj(n)}),e.k0s(),e.j41(9,"i",76),e.nrm(10,"ion-icon",77),e.k0s()(),e.j41(11,"div",73)(12,"label",74),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",78,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit;return e.DH7(i.assets[0].balance,n)||(i.assets[0].balance=n),e.Njj(n)}),e.k0s(),e.j41(17,"i",76),e.nrm(18,"ion-icon",77),e.k0s()(),e.j41(19,"div",79)(20,"button",80),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,i=e.XpG(2);return e.Njj(i.updateInvestment(n))}),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.isEditInvestmentActive=!1)}),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()}if(2&s){const t=e.sdS(1),a=e.XpG(2).$implicit;e.R7$(5),e.JRh(e.bMT(6,7,"crypto_asset_page.details.editInvested")),e.R7$(2),e.R50("ngModel",a.assets[0].invested),e.R7$(6),e.JRh(e.bMT(14,9,"crypto_asset_page.details.editBalance")),e.R7$(2),e.R50("ngModel",a.assets[0].balance),e.R7$(5),e.Y8G("disabled",t.invalid),e.R7$(),e.SpI(" ",e.bMT(22,11,"crypto_asset_page.details.save")," "),e.R7$(3),e.SpI(" ",e.bMT(25,13,"crypto_asset_page.details.cancel")," ")}}function ra(s,o){1&s&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"crypto_asset_page.details.info-trading")," "))}function la(s,o){1&s&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"crypto_asset_page.details.warning-empty-wallets")," "))}function ca(s,o){if(1&s&&(e.j41(0,"div",82),e.DNE(1,ra,3,3,"div",83)(2,la,3,3,"div",83),e.k0s()),2&s){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf","Trading"==t.type),e.R7$(),e.Y8G("ngIf","Trading"!=t.type&&0==(null==t.assets[0].history?null:t.assets[0].history.length))}}function da(s,o){if(1&s&&(e.j41(0,"li")(1,"div",84)(2,"div"),e.nrm(3,"ion-icon",24),e.k0s(),e.j41(4,"div",85)(5,"div")(6,"strong"),e.EFF(7),e.k0s(),e.j41(8,"div",86),e.EFF(9),e.nI1(10,"date"),e.k0s()(),e.j41(11,"div",87)(12,"strong"),e.EFF(13),e.k0s(),e.j41(14,"div",88)(15,"span"),e.nrm(16,"ion-icon",24),e.EFF(17),e.k0s()()()()()()),2&s){const t=o.$implicit,a=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(2),e.ZvI("icon-box ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger"," "),e.R7$(),e.FS9("name",0==t.trend?"trending-down-outline":t.trend>0?"trending-up-outline":"trending-down-outline"),e.R7$(4),e.JRh(a.assets[0].name),e.R7$(2),e.SpI(" ",e.i5U(10,13,t.date,"dd MMM y")," "),e.R7$(4),e.Lme("",n.cryptoDashboard.currency," ",n.hidden?n.amount:t.balance,""),e.R7$(2),e.ZvI("badge ",0==t.trend?"text-warning":t.trend>0?"badge-success":"badge-danger"," "),e.R7$(),e.FS9("name",0==t.trend?"trending-down-outline":t.trend>0?"arrow-up-outline":"arrow-down-outline"),e.R7$(),e.SpI(" ",t.percentage,"% ")}}function pa(s,o){if(1&s&&(e.j41(0,"div",59)(1,"div",60)(2,"div",2)(3,"div",61),e.DNE(4,sa,3,3,"div",62)(5,ia,4,2,"strong",63)(6,oa,26,15,"form",64),e.k0s(),e.j41(7,"div",61)(8,"div",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"strong"),e.EFF(12),e.j41(13,"span"),e.nrm(14,"ion-icon",24),e.EFF(15),e.k0s()()()(),e.nrm(16,"hr"),e.DNE(17,ca,3,2,"div",65),e.j41(18,"div",66)(19,"ul",67),e.DNE(20,da,18,16,"li",68),e.k0s()()()()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.FS9("id",t.name.split(".")[0]+t.id),e.R7$(4),e.Y8G("ngIf",!a.isEditInvestmentActive),e.R7$(),e.Y8G("ngIf",!a.isEditInvestmentActive),e.R7$(),e.Y8G("ngIf",a.isEditInvestmentActive),e.R7$(3),e.SpI(" ",e.bMT(10,17,"crypto_asset_page.details.performance")," "),e.R7$(2),e.HbH(t.assets[0].value-t.assets[0].invested==0?"text-warning":t.assets[0].value-t.assets[0].invested>0?"text-success":"text-danger"),e.R7$(),e.Lme("",a.hidden?a.amount:(t.assets[0].value-t.assets[0].invested).toFixed(2)," ",a.cryptoDashboard.currency," "),e.R7$(),e.ZvI("badge ",0==a.calculatePerformance(t.assets[0])?"badge-warning":a.calculatePerformance(t.assets[0])>0?"badge-success":"badge-danger",""),e.R7$(),e.FS9("name",0==a.calculatePerformance(t.assets[0])?"arrow-down-outline":a.calculatePerformance(t.assets[0])>0?"arrow-up-outline":"arrow-down-outline"),e.R7$(),e.SpI(" ",a.hidden?a.amount:a.calculatePerformance(t.assets[0]).toFixed(2),"% "),e.R7$(2),e.Y8G("ngIf",a.validateWallet(t)),e.R7$(3),e.Y8G("ngForOf",t.assets[0].history.slice().reverse())}}function ma(s,o){if(1&s&&(e.j41(0,"div",48),e.DNE(1,aa,14,8,"h2",49)(2,pa,21,19,"div",50),e.k0s()),2&s){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.showZeroBalance?t.assets[0].balance>=0:t.assets[0].balance>0),e.R7$(),e.Y8G("ngIf",a.showZeroBalance?t.assets[0].balance>=0:t.assets[0].balance>0)}}function ha(s,o){if(1&s&&(e.j41(0,"div",39),e.DNE(1,ma,3,2,"div",47),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.walletsAsset)}}function ua(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",89)(1,"div",90)(2,"div",91)(3,"h2",92),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"a",44),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToOperations())}),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.nrm(9,"app-operations-list",93),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,6,"crypto_asset_page.details.operations")," "),e.R7$(3),e.JRh(e.bMT(8,8,"crypto_asset_page.details.view")),e.R7$(2),e.Y8G("modalID",t.modalConstant.CRYPTOOPERATIONDETAILS)("cryptoAssets",t.cryptoAssets)("walletsAsset",t.walletsAsset)("isAssetOperations",!0)}}let _a=(()=>{class s{cryptoService;router;updateinvestmentSubscribe=new g.yU;amount="******";hidden=!1;chartOptions;chart1Y;chart3Y;asset=new B;assetName="";cryptoDashboard=new E;walletsAsset=[];cryptoWallets=[];cryptoAssets=[];isEditInvestmentActive=!1;operationSelect;showZeroBalance=!1;thisYear=(new Date).getFullYear();cryptoCurrency=I.D.getUserData().attributes.money_stats_settings.cryptoCurrency;constructor(t,a){this.cryptoService=t,this.router=a}get modalConstant(){return d.mX}get operationTypeConstant(){return d.fW}ngOnChanges(t){S.i.hideFooter(),this.getAsset()}ngOnInit(){this.getAsset()}ngOnDestroy(){this.updateinvestmentSubscribe.unsubscribe()}setColor(){this.resetColor(),document.querySelectorAll(".active").forEach((a,n)=>{if(a.getAttribute("class")?.includes("graph-tab")){let i=un.M.getColor(this.asset.icon,0);a.setAttribute("style","color: "+i+"; border-bottom-color: "+i+" !important")}})}resetColor(){document.querySelectorAll(".graph-tab").forEach(a=>{a.getAttribute("class")?.includes("active")||a.removeAttribute("style")})}getAsset(){this.graph1Y(),this.walletsAsset=this.filterWallets(),this.setColor()}graphAll(){if(this.setColor(),!this.chartOptions){let t=c.A.copyObject(this.cryptoDashboard);t.assets=[c.A.copyObject(this.asset)],t.statsAssetsDays=this.getAllDate(t.assets),setTimeout(()=>{this.chartOptions=S.i.isMobileDevice()?R.u.renderCryptoDatas(t,!0,[d.ou.MOBILE_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA]):R.u.renderCryptoDatas(t,!0,[d.ou.DESKTOP_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA])},500)}}graph1Y(){if(this.setColor(),!this.chart1Y){let t=c.A.copyObject(this.cryptoDashboard);t.assets=[c.A.copyObject(this.asset)],t.statsAssetsDays=this.getAllDate(t.assets),c.A.isNullOrEmpty(t.assets[0].identifier)||(t.assets[0].history=t.assets[0].history?.filter(a=>a.date.toString().split("-")[0]===(new Date).getFullYear().toString()),t.statsAssetsDays&&(t.statsAssetsDays=t.statsAssetsDays.filter(a=>a.toString().split("-")[0]===(new Date).getFullYear().toString())),setTimeout(()=>{this.chart1Y=S.i.isMobileDevice()?R.u.renderCryptoDatas(t,!0,[d.ou.MOBILE_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA]):R.u.renderCryptoDatas(t,!0,[d.ou.DESKTOP_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA])},500))}}graph3Y(){if(this.setColor(),!this.chart3Y){let t=c.A.copyObject(this.cryptoDashboard);t.assets=[c.A.copyObject(this.asset)],t.statsAssetsDays=this.getAllDate(t.assets);let a=[(new Date).getFullYear().toString(),((new Date).getFullYear()-1).toString(),((new Date).getFullYear()-2).toString()],n=t.assets[0].history?.filter(i=>a.includes(i.date.toString().split("-")[0]));t.assets[0].history=n,t.statsAssetsDays&&(t.statsAssetsDays=t.statsAssetsDays.filter(i=>a.includes(i.toString().split("-")[0]))),setTimeout(()=>{this.chart3Y=S.i.isMobileDevice()?R.u.renderCryptoDatas(t,!0,[d.ou.MOBILE_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA]):R.u.renderCryptoDatas(t,!0,[d.ou.DESKTOP_MODE,d.ou.LIVE_PRICE_AS_LAST_DATA])},500)}}percentageAssetInTotal(){const t=100*this.asset.value/this.cryptoDashboard.balance;return c.A.isNullOrEmpty(t)?0:t}filterWallets(){let t=this.asset.name;const a=c.A.copyObject(this.cryptoWallets);let n=a?a.filter(i=>null!=i.assets&&0!=i.assets.length?i.assets.slice().find(r=>r.name==t):null):[];return n.forEach(i=>{i.assets=i.assets.slice().filter(r=>r.name==t),null==i.assets[0].history?i.assets[0].history=[]:i.assets[0].history&&(i.assets[0].history=i.assets[0].history.filter(r=>r.date.toString().split("-")[0]===(new Date).getFullYear().toString()))}),n}getOperations(){let t=c.A.copyObject(this.walletsAsset),a=c.A.copyObject(this.cryptoAssets),n=[];return t.forEach(i=>{i.assets&&i.assets.length>0&&i.assets[0].operations&&i.assets[0].operations.length>0&&i.assets[0].operations.forEach(r=>{r.wallet=i,r.asset=i.assets[0],r.type!=d.fW.NEWINVESTMENT&&(r.assetSell=a.find(l=>l.symbol==r.entryCoin)),n.push(r)})}),n.sort((i,r)=>i.exitDate<r.exitDate?1:-1),n}updateInvestment(t){this.isEditInvestmentActive=!1,this.updateinvestmentSubscribe=this.cryptoService.updateCryptoAsset(t).subscribe(l=>{v.$.info(l.message,"DetailsOverviewComponent")});let a=c.A.copyObject(this.cryptoWallets),n=c.A.copyObject(this.walletsAsset),i=0,r=0;a.forEach(l=>{i+=l.assets[0].invested,r+=l.assets[0].balance,n.find(p=>p.name==l.name).assets.find(p=>p.identifier==l.assets[0].identifier).balance=l.assets[0].balance,n.find(p=>p.name==l.name).assets.find(p=>p.identifier==l.assets[0].identifier).invested=l.assets[0].invested}),this.asset.invested=i,this.asset.balance=r}goToOperations(){let t=(0,Y.A)();this.cryptoService.operationsMap.set(t,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+t])}selectOperation(t){this.operationSelect=t}getAllDate(t){let a=[];return t&&t.forEach(n=>{n&&n.history&&n.history?.forEach(i=>{a.find(r=>r==i.date.toString())||a.push(i.date.toString())})}),a.sort(),a}zeroBalanceSwitch(){return this.showZeroBalance=!this.showZeroBalance}validateWallet(t){return null==t.assets[0]||null==t.assets[0].history||0==t.assets[0].history.length}calculatePerformance(t){const a=(t.value-t.invested)/t.invested*100;return c.A.isNullOrEmpty(a)?0:a}get isAssetListEmptyOrZero(){return!this.showZeroBalance&&(!this.walletsAsset?.length||this.walletsAsset.every(t=>0===t.balance||t.assets.every(a=>0===a.balance)))}get isWalletHasZero(){return this.walletsAsset?.some(t=>t.assets.some(a=>0===a.balance))??!1}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(C.Ix))};static \u0275cmp=e.VBU({type:s,selectors:[["app-details-overview"]],inputs:{hidden:"hidden",asset:"asset",assetName:"assetName",cryptoDashboard:"cryptoDashboard",cryptoWallets:"cryptoWallets",cryptoAssets:"cryptoAssets"},standalone:!1,features:[e.OA$],decls:104,vars:80,consts:[["f","ngForm"],["investment1","ngModel"],[1,"row"],[1,"col-md-7"],[1,"section","mt-2"],[1,"card","border_round"],[1,"card-body","pt-1"],["role","tablist",1,"nav","nav-tabs","lined"],[1,"nav-item"],["data-bs-toggle","tab","href","#tab-1y","role","tab",1,"nav-link","graph-tab","active",3,"click"],["data-bs-toggle","tab","href","#tab-3y","role","tab",1,"nav-link","graph-tab",3,"click"],["data-bs-toggle","tab","href","#tab-all","role","tab",1,"nav-link","graph-tab",3,"click"],[1,"tab-content"],["id","tab-1y","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"inner-round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid",4,"ngIf"],["id","tab-3y","role","tabpanel",1,"tab-pane","fade"],["id","tab-all","role","tabpanel",1,"tab-pane","fade"],["type","area","class","border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid",4,"ngIf"],[1,"col-md-5"],[1,"section","mt-2","mb-4"],[1,"listview","no-line","transparent","flush","simple-listview"],[1,"text-muted"],[3,"name"],[1,"card","border_round","mt-2"],[1,"card-body"],[1,"row","mb-05","fontsize-sub"],[1,"col","text-success"],[1,"col","text-secondary","text-end"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-secondary"],[1,"col-md-12"],[1,"section","inset","mb-0"],[1,"section-heading","mb-1"],[1,"section-title"],["class","link clickable",3,"click",4,"ngIf"],["role","alert",1,"alert","alert-warning","m-2","text-center"],["id","accordionExample2",1,"accordion","border_round"],["class","col-md-12 spaceOp",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid"],[1,"link","clickable",3,"click"],["name","eye-outline",2,"width","20px","height","20px","vertical-align","-5px"],["name","eye-off-outline",2,"width","20px","height","20px","vertical-align","-5px"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],["class","accordion-header",4,"ngIf"],["class","accordion-collapse collapse","data-bs-parent","#accordionExample2",3,"id",4,"ngIf"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed"],["alt","avatar",1,"imaged","d-inline","w30","rounded","me-2","ms-1",3,"src"],[1,"accordion-wallet-name"],[1,"title-section","text-end","accordion-right-title"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"space"],["data-bs-parent","#accordionExample2",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"col-6","text-center"],["class","text-muted",4,"ngIf"],["class","clickable",3,"click",4,"ngIf"],["type","submit",4,"ngIf"],["class","alert alert-secondary mb-1 text-center","role","alert",4,"ngIf"],[1,"card","section-3"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list"],[4,"ngFor","ngForOf"],[1,"clickable",3,"click"],["name","create-outline",2,"vertical-align","-1px"],["type","submit"],[1,"form-group","boxed","row"],[1,"input-wrapper","col-md-5","col-12","text-end"],["for","select4",1,"label"],["type","number","id","investment","name","investment","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"clear-input"],["name","close-circle"],["type","number","id","balance","name","balance","required","","min","0.00000000",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2","col-12","text-start","d-flex","mt-3"],["type","button",1,"btn","btn-outline-primary","rounded","shadowed","me-1","mb-1","d-inline",3,"click","disabled"],["type","button",1,"btn","btn-outline-secondary","rounded","shadowed","me-1","mb-1","d-inline",3,"click"],["role","alert",1,"alert","alert-secondary","mb-1","text-center"],[4,"ngIf"],[1,"item"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],[1,"text-small"],[1,"col-md-12","spaceOp"],[1,"section","mt-4"],[1,"section-heading"],[1,"title"],[3,"modalID","cryptoAssets","walletsAsset","isAssetOperations"]],template:function(a,n){1&a&&(e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"ul",7)(6,"li",8)(7,"a",9),e.bIt("click",function(){return n.graph1Y()}),e.EFF(8),e.k0s()(),e.j41(9,"li",8)(10,"a",10),e.bIt("click",function(){return n.graph3Y()}),e.EFF(11," 3Y "),e.k0s()(),e.j41(12,"li",8)(13,"a",11),e.bIt("click",function(){return n.graphAll()}),e.EFF(14," All "),e.k0s()()()(),e.j41(15,"div",12)(16,"div",13)(17,"div",14),e.DNE(18,qn,5,0,"div",15)(19,zn,1,9,"apx-chart",16),e.k0s()(),e.j41(20,"div",17)(21,"div",14),e.DNE(22,Jn,5,0,"div",15)(23,Zn,1,9,"apx-chart",16),e.k0s()(),e.j41(24,"div",18)(25,"div",14),e.DNE(26,Qn,5,0,"div",15)(27,Kn,1,9,"apx-chart",19),e.k0s()()()()()(),e.j41(28,"div",20)(29,"div",21)(30,"div",5)(31,"ul",22)(32,"li")(33,"div",23),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"strong"),e.EFF(37),e.k0s()(),e.j41(38,"li")(39,"div",23),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"strong"),e.EFF(43),e.k0s()(),e.j41(44,"li")(45,"div",23),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"strong"),e.EFF(49),e.k0s()(),e.j41(50,"li")(51,"div",23),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"strong"),e.EFF(55),e.k0s()(),e.j41(56,"li")(57,"div",23),e.EFF(58),e.nI1(59,"translate"),e.k0s(),e.j41(60,"strong"),e.EFF(61),e.k0s()(),e.j41(62,"li")(63,"div",23),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.j41(66,"strong")(67,"span"),e.nrm(68,"ion-icon",24),e.EFF(69),e.k0s()()(),e.j41(70,"li")(71,"div",23),e.EFF(72),e.nI1(73,"translate"),e.k0s(),e.j41(74,"strong"),e.EFF(75),e.k0s()()()(),e.j41(76,"div",25)(77,"div",26)(78,"div",27)(79,"div",28)(80,"strong"),e.EFF(81),e.nI1(82,"number"),e.k0s()(),e.j41(83,"div",29)(84,"strong"),e.EFF(85),e.k0s()()(),e.j41(86,"div",30),e.nrm(87,"div",31),e.nI1(88,"number"),e.nI1(89,"number"),e.nrm(90,"div",32),e.nI1(91,"number"),e.nI1(92,"number"),e.k0s()()()()(),e.j41(93,"div",33)(94,"div",34)(95,"div",35)(96,"div",36),e.EFF(97),e.nI1(98,"translate"),e.k0s(),e.DNE(99,ea,4,3,"a",37)(100,ta,4,3,"a",37),e.k0s(),e.DNE(101,na,4,3,"div",38)(102,ha,2,1,"div",39),e.k0s()(),e.DNE(103,ua,10,10,"div",40),e.k0s()),2&a&&(e.R7$(8),e.SpI(" ",n.thisYear," "),e.R7$(10),e.Y8G("ngIf",!n.chart1Y),e.R7$(),e.Y8G("ngIf",n.chart1Y),e.R7$(3),e.Y8G("ngIf",!n.chart3Y),e.R7$(),e.Y8G("ngIf",n.chart3Y),e.R7$(3),e.Y8G("ngIf",!n.chartOptions),e.R7$(),e.Y8G("ngIf",n.chartOptions),e.R7$(7),e.SpI(" ",e.bMT(35,49,"crypto_asset_page.details.rank")," "),e.R7$(3),e.SpI("#",n.asset.rank,""),e.R7$(3),e.SpI(" ",e.bMT(41,51,"crypto_asset_page.details.identifier")," "),e.R7$(3),e.JRh(n.asset.identifier),e.R7$(3),e.SpI(" ",e.bMT(47,53,"crypto_asset_page.details.balance")," "),e.R7$(3),e.Lme("",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol,""),e.R7$(3),e.Lme(" ",e.bMT(53,55,"crypto_asset_page.details.value"),"",n.cryptoCurrency," "),e.R7$(3),e.Lme("",n.cryptoCurrency," ",n.hidden?n.amount:n.asset.value,""),e.R7$(3),e.SpI(" ",e.bMT(59,57,"crypto_asset_page.details.invested")," "),e.R7$(3),e.Lme("",n.cryptoCurrency," ",n.hidden?n.amount:n.asset.invested,""),e.R7$(3),e.SpI(" ",e.bMT(65,59,"crypto_asset_page.details.performance")," "),e.R7$(3),e.ZvI("badge ",0==n.calculatePerformance(n.asset)?"badge-warning":n.calculatePerformance(n.asset)>0?"badge-success":"badge-danger",""),e.R7$(),e.FS9("name",0==n.calculatePerformance(n.asset)?"arrow-down-outline":n.calculatePerformance(n.asset)>0?"arrow-up-outline":"arrow-down-outline"),e.R7$(),e.SpI(" ",n.calculatePerformance(n.asset).toFixed(2),"% "),e.R7$(3),e.SpI(" ",e.bMT(73,61,"crypto_asset_page.details.trend")," "),e.R7$(2),e.HbH(n.asset.value-n.asset.invested==0?"text-warning":n.asset.value-n.asset.invested>0?"text-success":"text-danger"),e.R7$(),e.Lme("",n.cryptoDashboard.currency," ",n.hidden?n.amount:(n.asset.value-n.asset.invested).toFixed(2),""),e.R7$(6),e.SpI("",e.i5U(82,63,n.percentageAssetInTotal(),"1.0-2"),"% "),e.R7$(4),e.Lme("",n.cryptoCurrency," ",n.hidden?n.amount:n.cryptoDashboard.balance,""),e.R7$(2),e.x72("style","width: ",e.i5U(88,66,n.percentageAssetInTotal(),"1.0-2"),"%",e.$dS),e.BMQ("aria-valuenow",e.i5U(89,69,n.percentageAssetInTotal(),"1.0-2")),e.R7$(3),e.x72("style","width: ",e.i5U(91,72,100-n.percentageAssetInTotal(),"1.0-2"),"%",e.$dS),e.BMQ("aria-valuenow",e.i5U(92,75,100-n.percentageAssetInTotal(),"1.0-2")),e.R7$(7),e.Lme(" ",e.bMT(98,78,"crypto_asset_page.details.wallets"),"",n.asset.name," "),e.R7$(2),e.Y8G("ngIf",!n.showZeroBalance&&n.isWalletHasZero),e.R7$(),e.Y8G("ngIf",n.showZeroBalance),e.R7$(),e.vxM(n.isAssetListEmptyOrZero?101:-1),e.R7$(),e.vxM(n.isAssetListEmptyOrZero?-1:102),e.R7$(),e.Y8G("ngIf",n.asset.operations&&n.asset.operations.length>0))},dependencies:[_.Sq,_.bT,q,V.Q,T.iq,m.qT,m.me,m.Q0,m.BC,m.cb,m.YS,m.VZ,m.vS,m.cV,_.QX,_.vh,f.D9],styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%], .section-3[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}.accordion-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-4px!important;margin-right:10px!important}.accordion-button[_ngcontent-%COMP%]   .accordion-wallet-name[_ngcontent-%COMP%]{max-width:100px}.accordion-button[_ngcontent-%COMP%]   .accordion-right-title[_ngcontent-%COMP%]{max-width:180px}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}.spaceOp[_ngcontent-%COMP%]{width:95%;margin-left:2.5%}}.w30[_ngcontent-%COMP%]{width:50px;height:50px}.accordion-header[_ngcontent-%COMP%]{margin-top:0}.space[_ngcontent-%COMP%]{padding-bottom:80px}.accordion-right-title[_ngcontent-%COMP%]{position:absolute;right:40px}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]})}return s})();const ga=["tradingView"],ba=["tradingViewTechnicalAnalisys"],ya=["tradingViewAssetInfo"],fa=["tradingViewListCryptos"],va=["tradingViewMap"];let Ca=(()=>{class s{_renderer2;tradingView;tradingViewTechnicalAnalisys;tradingViewAssetInfo;tradingViewListCryptos;tradingViewMap;assetSymbol="BTC";constructor(t){this._renderer2=t}ngOnChanges(t){this.ngAfterViewInit()}ngAfterViewInit(){this.assetSymbol&&(this.appendGraph(),this.appendTradingViewTechnicalAnalisys(),this.appendTradingViewAssetInfo(),this.appendListGraph(),this.appendTradingViewMap())}appendGraph(){let t=this._renderer2.createElement("div");t.style.height="100%";let a=this.assetSymbol,n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js",n.text='\n    {\n      "symbols": [\n        [\n          "$SYMBOL$USDT|7D"\n        ],\n        [\n          "FX:EURUSD|7D"\n        ]\n      ],\n      "chartOnly": false,\n      "width": "100%",\n      "height": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "autosize": true,\n      "showVolume": false,\n      "showMA": false,\n      "hideDateRanges": false,\n      "hideMarketStatus": false,\n      "hideSymbolLogo": false,\n      "scalePosition": "right",\n      "scaleMode": "Normal",\n      "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",\n      "fontSize": "10",\n      "noTimeScale": false,\n      "valuesTracking": "1",\n      "changeMode": "price-and-percent",\n      "chartType": "area",\n      "maLineColor": "#2962FF",\n      "maLineWidth": 1,\n      "maLength": 9,\n      "backgroundColor": "rgba(19, 23, 34, 0)",\n      "lineWidth": 2,\n      "lineType": 0,\n      "dateRanges": [\n        "1d|1",\n        "1w|15",\n        "1m|30",\n        "3m|60",\n        "12m|1D",\n        "60m|1W",\n        "all|1M"\n      ]\n    }'.replace("$SYMBOL$",a),this._renderer2.appendChild(t,n),this._renderer2.appendChild(this.tradingView?.nativeElement,t)}appendTradingViewTechnicalAnalisys(){let t=this._renderer2.createElement("div");t.style.height="100%";let a=this.assetSymbol,n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js",n.text='\n    {\n      "interval": "1D",\n      "width": "100%",\n      "isTransparent": true,\n      "height": "100%",\n      "symbol": "$SYMBOL$USD",\n      "showIntervalTabs": true,\n      "locale": "it",\n      "colorTheme": "dark"\n    }'.replace("$SYMBOL$",a),this._renderer2.appendChild(t,n),this._renderer2.appendChild(this.tradingViewTechnicalAnalisys?.nativeElement,t)}appendTradingViewAssetInfo(){let t=this._renderer2.createElement("div");t.style.height="100%";let a=this.assetSymbol,n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js",n.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "symbol": "$SYMBOL$USD",\n      "locale": "it"\n    }'.replace("$SYMBOL$",a),this._renderer2.appendChild(t,n),this._renderer2.appendChild(this.tradingViewAssetInfo?.nativeElement,t)}appendListGraph(){let t=this._renderer2.createElement("script");t.type="text/javascript",t.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",t.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "defaultColumn": "overview",\n      "screener_type": "crypto_mkt",\n      "displayCurrency": "USD",\n      "colorTheme": "dark",\n      "locale": "it",\n      "isTransparent": true\n    }',this.tradingViewListCryptos?.nativeElement.appendChild(t)}appendTradingViewMap(){let t=this._renderer2.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://s3.tradingview.com/external-embedding/embed-widget-crypto-coins-heatmap.js",t.innerHTML='\n    {\n      "dataSource": "Crypto",\n      "blockSize": "market_cap_calc",\n      "blockColor": "change",\n      "locale": "it",\n      "symbolUrl": "",\n      "colorTheme": "dark",\n      "hasTopBar": false,\n      "isDataSetEnabled": false,\n      "isZoomEnabled": false,\n      "hasSymbolTooltip": false,\n      "width": "100%",\n      "height": "100%"\n    }',this.tradingViewMap?.nativeElement.appendChild(t)}static \u0275fac=function(a){return new(a||s)(e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:s,selectors:[["app-tradingview-data"]],viewQuery:function(a,n){if(1&a&&(e.GBs(ga,5),e.GBs(ba,5),e.GBs(ya,5),e.GBs(fa,5),e.GBs(va,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.tradingView=i.first),e.mGM(i=e.lsd())&&(n.tradingViewTechnicalAnalisys=i.first),e.mGM(i=e.lsd())&&(n.tradingViewAssetInfo=i.first),e.mGM(i=e.lsd())&&(n.tradingViewListCryptos=i.first),e.mGM(i=e.lsd())&&(n.tradingViewMap=i.first)}},inputs:{assetSymbol:"assetSymbol"},standalone:!1,features:[e.OA$],decls:46,vars:0,consts:[["tradingView",""],["tradingViewTechnicalAnalisys",""],["tradingViewAssetInfo",""],["tradingViewListCryptos",""],["tradingViewMap",""],[1,"row"],[1,"col-md-7"],[1,"section","mt-2"],[1,"card"],[1,"card-body"],[1,"tradingview-widget-container"],[1,"tradingview-widget-container__widget"],[2,"height","400px"],[1,"col-md-5"],[1,"tradingViewTechnicalAnalisys"],[1,"col-md-12"],[1,"tradingViewAssetInfo"],[1,"card-body",2,"height","380px"],[2,"height","360px"],["hidden","",1,"col-md-12"],[1,"tradingview-widget-copyright"],["href","https://it.tradingview.com/","rel","noopener nofollow","target","_blank"],[1,"blue-text"]],template:function(a,n){1&a&&(e.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10),e.nrm(6,"div",11)(7,"div",12,0),e.k0s()()()()(),e.j41(9,"div",13)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),e.nrm(14,"div",11)(15,"div",14,1),e.k0s()()()()(),e.j41(17,"div",15)(18,"div",7)(19,"div",8)(20,"div",9)(21,"div",10),e.nrm(22,"div",11)(23,"div",16,2),e.k0s()()()()(),e.j41(25,"div",15)(26,"div",7)(27,"div",8)(28,"div",17)(29,"div",10),e.nrm(30,"div",11)(31,"div",18,3),e.k0s()()()()(),e.j41(33,"div",19)(34,"div",7)(35,"div",8)(36,"div",9)(37,"div",10),e.nrm(38,"div",11)(39,"div",null,4),e.k0s()()()()(),e.j41(41,"div",20)(42,"a",21)(43,"span",22),e.EFF(44,"Segui tutti i mercati"),e.k0s()(),e.EFF(45," su TradingView "),e.k0s()())},styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}.tradingViewAssetInfo[_ngcontent-%COMP%]{height:300px!important}.tradingViewTechnicalAnalisys[_ngcontent-%COMP%]{height:450px!important}}.tradingViewAssetInfo[_ngcontent-%COMP%]{height:200px}.tradingViewTechnicalAnalisys[_ngcontent-%COMP%]{height:400px}"]})}return s})();const Ia=["tradingViewAdvanced"],Ta=["tradingViewDetails"];let Fa=(()=>{class s{_renderer2;tradingViewAdvanced;tradingViewDetails;symbol="";constructor(t){this._renderer2=t}ngOnInit(){}ngAfterViewInit(){this.appendTradingViewAdvanced(),this.appendTradingViewDetails()}appendTradingViewAdvanced(){let t=this._renderer2.createElement("script");t.type="text/javascript",t.src="https://s3.tradingview.com/tv.js",t.text='\n    {\n      "autosize": true,\n      "symbol": "BINANCE:BTCUSDT",\n      "interval": "D",\n      "timezone": "Etc/UTC",\n      "theme": "dark",\n      "style": "1",\n      "locale": "it",\n      "toolbar_bg": "#f1f3f6",\n      "enable_publishing": false,\n      "withdateranges": true,\n      "allow_symbol_change": true,\n      "container_id": "tradingview_39b4d"\n    }',this.tradingViewAdvanced?.nativeElement.appendChild(t)}appendTradingViewDetails(){let t=this._renderer2.createElement("div");t.style.height="100%";let a=this.symbol,n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",n.text='\n    {\n      "symbol": "BINANCE:$SYMBOL$USD",\n      "width": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "isTransparent": true\n    }\n    '.replace("$SYMBOL$",a),this._renderer2.appendChild(t,n),this._renderer2.appendChild(this.tradingViewDetails?.nativeElement,t)}static \u0275fac=function(a){return new(a||s)(e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:s,selectors:[["app-advanced-graph"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Ia,5),e.GBs(Ta,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.tradingViewAdvanced=i.first),e.mGM(i=e.lsd())&&(n.tradingViewDetails=i.first)}},inputs:{symbol:"symbol"},standalone:!1,decls:17,vars:0,consts:[["tradingViewAdvanced",""],["tradingViewDetails",""],[1,"row"],[1,"col-md-12"],[1,"section","mt-2"],[1,"card"],[1,"card-body"],[1,"tradingview-widget-container"],["id","tradingview_39b4d"]],template:function(a,n){1&a&&(e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),e.nrm(6,"div",8)(7,"div",null,0),e.k0s()()()()()(),e.j41(9,"div",2)(10,"div",3)(11,"div",4)(12,"div",5)(13,"div",6)(14,"div",7),e.nrm(15,"div",null,1),e.k0s()()()()()())},styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}}"]})}return s})();const ka=["tradingViewDetails"];let Ra=(()=>{class s{route;cryptoService;_renderer2;shared;getCryptoWalletSubscribe=new g.yU;tradingViewDetails;routeSubscribe=new g.yU;detailsSubscribe=new g.yU;cryptoDashSubscribe=new g.yU;cryptoAssetSubscribe=new g.yU;amount="******";hidden=!1;cryptoDashboard=new E;asset=new B;assetName="";cryptoWallets=[];cryptoAssets=[];constructor(t,a,n,i){this.route=t,this.cryptoService=a,this._renderer2=n,this.shared=i}get modalConstant(){return d.mX}ngOnDestroy(){this.routeSubscribe.unsubscribe(),this.detailsSubscribe.unsubscribe(),this.cryptoDashSubscribe.unsubscribe(),this.getCryptoWalletSubscribe.unsubscribe()}ngOnInit(){S.i.hideFooter();let t=[...this.shared.getCryptoAssets()];this.routeSubscribe=this.route.params.subscribe(a=>{this.assetName=a.identifier,this.getCryptoDetails(a.identifier),this.getWalletsCryptoData(),this.getAssetsCryptoData(),c.A.isNullOrEmpty(this.shared.getCryptoDashboardData())||0==this.shared.getCryptoDashboardData().balance||0==t.length?this.getCryptoDashboard():this.cryptoDashboard=c.A.copyObject(this.shared.getCryptoDashboardData())}),this.isWalletBalanceHidden()}ngAfterViewInit(){this.asset.symbol&&this.appendTradingViewDetails()}getCryptoDetails(t){this.detailsSubscribe=this.cryptoService.getCryptoDetails(t).subscribe(a=>{this.cryptoService.cache.cacheAssetsByIdentifierCache(a,t),v.$.info(a.message,"CryptoDetailsComponent"),this.asset=a.data,this.ngAfterViewInit()})}getCryptoDashboard(){this.cryptoDashSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(t=>{this.cryptoService.cache.cacheCryptoDashboardData(t),v.$.info(t.message,"CryptoDetailsComponent"),this.cryptoDashboard=t.data})}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(d.M2.HIDDENAMOUNT));null!=t&&(this.hidden=t)}appendTradingViewDetails(){let t=this._renderer2.createElement("div");t.style.height="100%",t.id="trading-details";let a=this.asset.symbol,n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",n.text='\n    {\n      "symbol": "$SYMBOL$USD",\n      "width": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "isTransparent": true\n    }\n    '.replace("$SYMBOL$",a),this._renderer2.appendChild(t,n),this._renderer2.appendChild(this.tradingViewDetails?.nativeElement,t)}getWalletsCryptoData(){c.A.isNullOrEmpty(this.shared.getCryptoWallets())?this.getCryptoWalletSubscribe=this.cryptoService.getWalletsCryptoData().subscribe(t=>{this.cryptoService.cache.cacheWalletsCryptoData(t),v.$.info(t.message,"CryptoDashboardComponent"),this.cryptoWallets=this.shared.setCryptoWallets(t.data)}):this.cryptoWallets=this.shared.getCryptoWallets()}getAssetsCryptoData(){c.A.isNullOrEmpty(this.shared.getCryptoAssets())?this.cryptoAssetSubscribe=this.cryptoService.getCryptoAssetsData().subscribe(t=>{this.cryptoService.cache.cacheAssetsData(t),v.$.info(t.message,"CryptoAssetComponent"),this.cryptoAssets=t.data,this.shared.setCryptoAssets(t.data)}):this.cryptoAssets=this.shared.getCryptoAssets()}getAssets(){const t=this.shared.getCryptoDashboardData();this.cryptoDashboard=c.A.isNullOrEmpty(t)?new E:t,this.cryptoAssetSubscribe=this.cryptoService.getCryptoAssetsData().subscribe(a=>{this.cryptoService.cache.cacheAssetsData(a),v.$.info(a.message,"CryptoAssetComponent"),this.cryptoAssets=a.data,this.cryptoDashboard.assets=this.shared.setCryptoAssets(a.data)}),this.isWalletBalanceHidden()}static \u0275fac=function(a){return new(a||s)(e.rXU(C.nX),e.rXU(M),e.rXU(e.sFG),e.rXU(O.d))};static \u0275cmp=e.VBU({type:s,selectors:[["app-crypto-details"]],viewQuery:function(a,n){if(1&a&&e.GBs(ka,5),2&a){let i;e.mGM(i=e.lsd())&&(n.tradingViewDetails=i.first)}},outputs:{asset:"asset",assetName:"assetName",cryptoWallets:"cryptoWallets",cryptoAssets:"cryptoAssets"},standalone:!1,decls:49,vars:42,consts:[["tradingViewDetails",""],[1,"mx-auto","section-width"],[3,"emitOperationClick","title"],["id","appCapsule",1,"mx-auto"],[1,"row"],[1,"tradingview-widget-container"],[1,"details_mobile"],[1,"text-center","hidden_desktop","datas"],[1,"card-text","fs-3","d-inline"],[2,"vertical-align","3px"],[3,"name"],[1,"d-inline",2,"margin-top","-15px"],[1,"title-section","col-6","text-end","hidden_mobile","inside"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"section"],[1,"card","transparent"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","capsuled"],[1,"nav-item"],["data-bs-toggle","tab","href","#overview","role","tab",1,"nav-link","active"],["data-bs-toggle","tab","href","#card","role","tab",1,"nav-link"],["hidden","",1,"nav-item"],["data-bs-toggle","tab","href","#settings","role","tab",1,"nav-link"],[1,"tab-content","mt-1","margin-bottom-size"],["id","overview","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"hidden","asset","cryptoDashboard","assetName","cryptoWallets","cryptoAssets"],["id","card","role","tabpanel",1,"tab-pane","fade"],[3,"assetSymbol"],["id","settings","role","tabpanel",1,"tab-pane","fade"],[3,"emitAddStats","modalId","wallets","assets","currency","statsAssetsDays"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"app-crypto-header",2),e.nI1(2,"translate"),e.bIt("emitOperationClick",function(){return e.eBV(i),e.Njj(n.getWalletsCryptoData())}),e.k0s(),e.j41(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"div",null,0)(8,"div",6),e.k0s(),e.j41(9,"div",7)(10,"h5",8)(11,"span",9),e.nrm(12,"ion-icon",10),e.EFF(13),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"p",11),e.EFF(16),e.k0s()(),e.j41(17,"div",12)(18,"h5",13)(19,"span",9),e.nrm(20,"ion-icon",10),e.EFF(21),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"p",14),e.EFF(24),e.k0s()(),e.j41(25,"div",15)(26,"div",16)(27,"div",17)(28,"ul",18)(29,"li",19)(30,"a",20),e.EFF(31),e.nI1(32,"translate"),e.k0s()(),e.j41(33,"li",19)(34,"a",21),e.EFF(35),e.nI1(36,"translate"),e.k0s()(),e.j41(37,"li",22)(38,"a",23),e.EFF(39),e.nI1(40,"translate"),e.k0s()()(),e.j41(41,"div",24)(42,"div",25),e.nrm(43,"app-details-overview",26),e.k0s(),e.j41(44,"div",27),e.nrm(45,"app-tradingview-data",28),e.k0s(),e.j41(46,"div",29),e.nrm(47,"app-advanced-graph"),e.k0s()()()()()()()(),e.j41(48,"app-operations-modal",30),e.bIt("emitAddStats",function(){return e.eBV(i),e.Njj(n.getAssets())}),e.k0s()}2&a&&(e.R7$(),e.FS9("title",e.bMT(2,34,"crypto_asset_page.title")),e.R7$(10),e.ZvI("badge ",0==n.asset.performance?"badge-warning":n.asset.performance>0?"badge-success":"badge-danger",""),e.R7$(),e.FS9("name",0==n.asset.performance?"arrow-down-outline":n.asset.performance>0?"arrow-up-outline":"arrow-down-outline"),e.R7$(),e.SpI(" ",n.asset.performance,"% "),e.R7$(),e.Lme(" ",n.hidden?n.amount:n.asset.value," ",n.cryptoDashboard.currency," "),e.R7$(2),e.Lme(" ",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol," "),e.R7$(3),e.ZvI("badge ",0==n.asset.performance?"badge-warning":n.asset.performance>0?"badge-success":"badge-danger",""),e.R7$(),e.FS9("name",0==n.asset.performance?"arrow-down-outline":n.asset.performance>0?"arrow-up-outline":"arrow-down-outline"),e.R7$(),e.SpI(" ",n.asset.performance,"% "),e.R7$(),e.Lme(" ",n.hidden?n.amount:n.asset.value," ",n.cryptoDashboard.currency," "),e.R7$(2),e.Lme(" ",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol," "),e.R7$(7),e.SpI(" ",e.bMT(32,36,"crypto_asset_page.tab1")," "),e.R7$(4),e.SpI(" ",e.bMT(36,38,"crypto_asset_page.tab2")," "),e.R7$(4),e.SpI(" ",e.bMT(40,40,"crypto_asset_page.tab3")," "),e.R7$(4),e.Y8G("hidden",n.hidden)("asset",n.asset)("cryptoDashboard",n.cryptoDashboard)("assetName",n.assetName)("cryptoWallets",n.cryptoWallets)("cryptoAssets",n.cryptoAssets),e.R7$(2),e.Y8G("assetSymbol",n.asset.symbol),e.R7$(3),e.Y8G("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoWallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},dependencies:[G,X,T.iq,_a,Ca,Fa,f.D9],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -40px 30px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden!important}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-40px!important}.details_mobile[_ngcontent-%COMP%]{position:absolute;top:235px;height:70px;width:95%;background-color:#121212}.datas[_ngcontent-%COMP%]{position:absolute;top:240px}.tradingview-widget-container[_ngcontent-%COMP%]{height:210px;width:95%}}.w30[_ngcontent-%COMP%]{width:40px;height:40px}.transparent[_ngcontent-%COMP%]{background-color:transparent!important;margin-left:-10px!important;margin-right:-10px!important}.inside[_ngcontent-%COMP%]{position:absolute;right:110px;top:60px}.tradingview-widget-container[_ngcontent-%COMP%]{margin:5px 5px 0}"]})}return s})();var Sa=u(4460);function Da(s,o){if(1&s&&(e.j41(0,"span"),e.nrm(1,"i"),e.EFF(2),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.ZvI("",null!=t.history?0==a.calculatePercentage(t.value,t.history[t.history.length-1].balance,a.isPast,t.history[t.history.length-1].percentage)?"text-warning":a.calculatePercentage(t.value,t.history[t.history.length-1].balance,a.isPast,t.history[t.history.length-1].percentage)>0?"text-success":"text-danger":"text-warning"," mr-2"),e.R7$(),e.ZvI("fa ",null!=t.history&&a.calculatePercentage(t.value,t.history[t.history.length-1].balance,a.isPast,t.history[t.history.length-1].percentage)>0?"fa-arrow-up":"fa-arrow-down",""),e.R7$(),e.Lme("",null!=t.history&&a.calculatePercentage(t.value,t.history[t.history.length-1].balance,a.isPast,t.history[t.history.length-1].percentage)>=1e3?"+":""," ",null!=t.history?a.calculatePercentage(t.value,t.history[t.history.length-1].balance,a.isPast,t.history[t.history.length-1].percentage):0,"%")}}function xa(s,o){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"resume_page.data.deleted")))}function Ea(s,o){if(1&s&&(e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25)(5,"h5",26),e.EFF(6),e.k0s(),e.j41(7,"span",27)(8,"small"),e.EFF(9),e.k0s(),e.EFF(10),e.k0s(),e.nrm(11,"br"),e.j41(12,"span",28)(13,"small"),e.EFF(14),e.k0s()()(),e.j41(15,"div",29),e.nrm(16,"img",30),e.k0s()(),e.j41(17,"p",31)(18,"span",32),e.DNE(19,Da,3,8,"span",33)(20,xa,3,3,"span",34),e.k0s(),e.j41(21,"span",35),e.EFF(22),e.nI1(23,"translate"),e.nI1(24,"date"),e.nI1(25,"date"),e.k0s()()()()()),2&s){const t=o.$implicit,a=e.XpG(2);e.R7$(6),e.Lme(" ",t.name," (",t.symbol,") "),e.R7$(3),e.JRh(a.resumeData.currency),e.R7$(),e.SpI(" ",a.isPast&&t.history&&t.history[t.history.length-1].balance?a.hidden?a.amount:t.history[t.history.length-1].balance:a.hidden?a.amount:t.value,""),e.R7$(4),e.Lme("",a.hidden?a.amount:t.balance," ",t.symbol,""),e.R7$(2),e.FS9("src",null==t?null:t.icon,e.B4B),e.R7$(3),e.Y8G("ngIf",!t.deletedDate),e.R7$(),e.Y8G("ngIf",t.deletedDate),e.R7$(2),e.Lme("",e.bMT(23,11,"resume_page.since")," ",null!=t.history?e.i5U(24,13,t.history[t.history.length-1].date,"dd MMM y"):e.i5U(25,16,"","dd MMM y"),"")}}function Ma(s,o){1&s&&(e.j41(0,"div",40),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function wa(s,o){if(1&s&&e.nrm(0,"apx-chart",41),2&s){const t=e.XpG(3);e.Y8G("series",t.chartOptions.series)("chart",t.chartOptions.chart)("title",t.chartOptions.title)("colors",t.chartOptions.colors)("legend",t.chartOptions.legend)("labels",t.chartOptions.labels)("tooltip",t.chartOptions.tooltip)("dataLabels",t.chartOptions.dataLabels)("grid",t.chartOptions.grid)}}function ja(s,o){if(1&s&&(e.j41(0,"div",18)(1,"div",16),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",37),e.DNE(5,Ma,5,0,"div",38)(6,wa,1,9,"apx-chart",39),e.k0s()()),2&s){const t=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,3,"crypto_resume_page.graphAsset")," "),e.R7$(3),e.Y8G("ngIf",!t.chartOptions),e.R7$(),e.Y8G("ngIf",t.chartOptions)}}function Aa(s,o){if(1&s&&(e.j41(0,"th",50),e.nrm(1,"img",51),e.EFF(2),e.k0s()),2&s){const t=o.$implicit;e.R7$(),e.FS9("src",t.icon,e.B4B),e.R7$(),e.SpI(" ",t.name," ")}}function Oa(s,o){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.SpI("(",t.percentage>=1e3?"+1000":t.percentage,"%)")}}function $a(s,o){if(1&s&&(e.j41(0,"td"),e.EFF(1),e.DNE(2,Oa,2,1,"span",54),e.k0s()),2&s){const t=o.$implicit,a=o.index,n=e.XpG().$implicit,i=e.XpG(3);e.ZWY("",n.index!=a?0===t.percentage?"text-warning":t.percentage>0?"text-success":"text-danger":""," ",n.index-1===a||n.index===a?"text-end":"text-center","\n      ",n.index===a?0===t.balance?"text-warning":t.balance>0?"text-success":"text-danger":"",""),e.R7$(),e.Lme(" ",i.resumeData.currency," ",i.hidden?i.amount:t.balance," "),e.R7$(),e.Y8G("ngIf",n.index!=a)}}function Ga(s,o){if(1&s&&(e.j41(0,"tr")(1,"th",52),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.DNE(4,$a,3,8,"td",53),e.k0s()),2&s){const t=o.$implicit;e.R7$(2),e.SpI(" ",e.i5U(3,2,t[t.length-2].date,"d MMM y")," "),e.R7$(2),e.Y8G("ngForOf",t)}}function Na(s,o){1&s&&(e.j41(0,"div",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"crypto_resume_page.warning")," "))}function Pa(s,o){if(1&s&&(e.j41(0,"div",42)(1,"div",43)(2,"table",44)(3,"thead")(4,"tr")(5,"th",45),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Aa,3,2,"th",46),e.j41(9,"th",47),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",47),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,Ga,5,5,"tr",48),e.k0s()(),e.DNE(17,Na,3,3,"div",49),e.k0s()()),2&s){const t=e.XpG(2);e.R7$(6),e.SpI(" ",e.bMT(7,6,"resume_page.table_date")," "),e.R7$(2),e.Y8G("ngForOf",t.resumeData.assets),e.R7$(2),e.SpI(" ",e.bMT(11,8,"shared_text.amount")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"resume_page.table_trend")," "),e.R7$(3),e.Y8G("ngForOf",t.tableBalance.slice().reverse()),e.R7$(),e.Y8G("ngIf",0==t.tableBalance.length)}}function Ba(s,o){1&s&&(e.j41(0,"div",40),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function Ya(s,o){if(1&s&&e.nrm(0,"apx-chart",61),2&s){const t=e.XpG(3);e.Y8G("series",t.chartBar.series)("chart",t.chartBar.chart)("title",t.chartBar.title)("colors",t.chartBar.colors)("legend",t.chartBar.legend)("labels",t.chartBar.labels)("plotOptions",t.chartBar.plotOptions)("grid",t.chartBar.grid)("tooltip",t.chartBar.tooltip)}}function Va(s,o){if(1&s&&(e.j41(0,"div",18)(1,"div",56)(2,"h2",57),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",58)(6,"div",59),e.DNE(7,Ba,5,0,"div",38)(8,Ya,1,9,"apx-chart",60),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,3,"resume_page.graph3")," "),e.R7$(4),e.Y8G("ngIf",!t.chartBar),e.R7$(),e.Y8G("ngIf",t.chartBar)}}function La(s,o){if(1&s&&(e.j41(0,"div",1)(1,"div",2)(2,"a",3)(3,"div",4)(4,"div",5)(5,"div",6),e.nrm(6,"i",7),e.k0s()(),e.j41(7,"div")(8,"strong"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p",8),e.EFF(12),e.nI1(13,"translate"),e.nI1(14,"date"),e.k0s()()(),e.j41(15,"div",9)(16,"div",10),e.EFF(17),e.k0s()()()(),e.j41(18,"div",2)(19,"a",3)(20,"div",4)(21,"div",5)(22,"div",11),e.nrm(23,"i",12),e.k0s()(),e.j41(24,"div")(25,"strong"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"p",8),e.EFF(29),e.nI1(30,"translate"),e.nI1(31,"date"),e.k0s()()(),e.j41(32,"div",9)(33,"div",13),e.EFF(34),e.k0s(),e.j41(35,"div",14)(36,"span"),e.nrm(37,"i"),e.EFF(38),e.k0s()()()()(),e.j41(39,"div",15)(40,"div",16),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"div",1),e.DNE(44,Ea,26,19,"div",17),e.k0s()(),e.DNE(45,ja,7,5,"div",18),e.j41(46,"div",19),e.DNE(47,Pa,18,12,"div",20),e.k0s(),e.DNE(48,Va,9,5,"div",18),e.k0s()),2&s){const t=e.XpG();e.R7$(9),e.JRh(e.bMT(10,25,"resume_page.total")),e.R7$(3),e.Lme(" ",e.bMT(13,27,"resume_page.since")," ",e.i5U(14,29,t.resumeData.lastUpdate,"dd MMM y")," "),e.R7$(5),e.Lme(" ",t.resumeData.currency," ",t.hidden?t.amount:t.resumeData.balance," "),e.R7$(9),e.JRh(e.bMT(27,32,"shared_text.performance")),e.R7$(3),e.Lme(" ",e.bMT(30,34,"resume_page.since")," ",e.i5U(31,36,t.resumeData.holdingLong.lastUpdate,"dd MMM y")," "),e.R7$(4),e.ZvI("price ",0==t.resumeData.holdingLong.performance?"text-warning":t.resumeData.holdingLong.performance>0?"text-success":"text-danger",""),e.R7$(),e.Lme(" ",t.resumeData.currency," ",t.hidden?t.amount:t.resumeData.holdingLong.balance," "),e.R7$(2),e.ZvI("",0==t.resumeData.holdingLong.performance?"text-warning":t.resumeData.holdingLong.performance>0?"text-success":"text-danger"," mr-2"),e.R7$(),e.ZvI("fa ",t.resumeData.holdingLong.performance>0?"fa-arrow-up":"fa-arrow-down",""),e.R7$(),e.SpI(" ",t.resumeData.holdingLong.performance,"%"),e.R7$(3),e.SpI(" ",e.bMT(42,39,"crypto_resume_page.assetList")," "),e.R7$(3),e.Y8G("ngForOf",t.resumeDataFilterOnDate.assets),e.R7$(),e.vxM(t.tableBalance.length>0?45:-1),e.R7$(2),e.Y8G("ngIf",t.resumeData.assets),e.R7$(),e.vxM(t.resumeData.assets?48:-1)}}let Wa=(()=>{class s{translate;amount="******";hidden=!1;chartOptions;chartBar;resumeData=new E;isPast=!1;balances=[];filterDateHistory=[];resumeDataFilterOnDate=new E;tableBalance=[];tableId="crypto_resume_table";dataTableInstance;constructor(t){this.translate=t}ngOnChanges(t){this.getDatas(),t.resumeData&&!c.A.isNullOrEmpty(this.resumeData.assets)&&this.reinitializeDataTable()}reinitializeDataTable(){if(this.dataTableInstance){this.dataTableInstance.destroy(),$("#"+this.tableId).empty(),this.dataTableInstance=null;const t=document.getElementById(this.tableId),a=new _.vh("en-US"),n=this.resumeData.assets.map(l=>`<th scope="col" class="text-center">\n                  <img src="${l.icon}" style="border-radius: 50%; width: 25px; height: 25px; align-items: center; justify-content: center; margin-right: 5px; margin-left: -10px;" alt="" />\n                  ${l.name}\n                </th>`).join(""),i=this.tableBalance.slice().reverse().map((l,p)=>{const h=l.map((b,k)=>`<td style="line-height: 23px;" class="${l.index!==k?0===b.percentage?"text-warning":b.percentage>0?"text-success":"text-danger":""} ${k===l.length-1&&l.index===k?0===b.balance?"text-warning":b.balance>0?"text-success":"text-danger":""} ${l.index-1===k||l.index===k?"text-end":"text-center"}">\n                  ${this.resumeData.currency} ${this.hidden?this.amount:b.balance}\n                  ${l.index!==k?`<span>(${b.percentage>=1e3?"+1000":b.percentage}%)</span>`:""} \x3c!-- Aggiungi il trend dinamicamente --\x3e\n                </td>`).join("");return`<tr>\n                  <th style="line-height: 23px; width: 100px" scope="row">${a.transform(l[l.length-2].date,"dd MMM yyyy")}</th>\n                  ${h}\n                </tr>`}).join(""),r=`<thead>\n                      <tr>\n                        <th scope="col">${this.translate.instant("resume_page.table_date")}</th>\n                        ${n}\n                        <th scope="col" class="text-end">${this.translate.instant("shared_text.amount")}</th>\n                        <th scope="col" class="text-end">${this.translate.instant("resume_page.table_trend")}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      ${i}\n                    </tbody>`;t&&(t.innerHTML=r)}this.initializeDataTable()}initializeDataTable(){$.fn.DataTable.isDataTable("#"+this.tableId)||setTimeout(()=>{this.dataTableInstance=$("#"+this.tableId).DataTable({pageLength:12,layout:{bottom:{buttons:["csv","excel",{extend:"pdfHtml5",text:"PDF",customize:function(t){Z.i.customizeExportPDF(t)}}]}},paging:!0,responsive:!0,searching:!1,ordering:!1,info:!0,order:[],language:{search:"",lengthMenu:this.translate.instant("crypto_resume_page.tableAsset"),info:this.translate.instant("core_header_footer.datatables_result"),emptyTable:this.translate.instant("crypto_resume_page.warning")}}),Z.i.setDatatablesStyle(this.tableId,this.translate.instant("market_data_page.search"))},100)}getDatas(){this.resumeData.holdingLong&&(this.resumeData.holdingLong.trend=(this.resumeData.holdingLong?this.resumeData.holdingLong.balance:0)/(1+(this.resumeData.holdingLong?this.resumeData.holdingLong.performance:0)/100)),setTimeout(()=>{if(this.resumeData.assets){this.resumeDataFilterOnDate=c.A.copyObject(this.resumeData),this.isPast||(this.resumeDataFilterOnDate.assets=this.resumeDataFilterOnDate.assets.filter(i=>0!=i.balance)),this.chartOptions=S.i.isMobileDevice()?R.u.renderCryptoDatas(this.resumeData,S.i.isMobileDevice(),[200,this.isPast]):R.u.renderCryptoDatas(this.resumeData,S.i.isMobileDevice(),[350,this.isPast]);const n=c.A.copyObject(this.resumeData.statsAssetsDays).map(i=>{let r=new Date(i).toLocaleDateString();return c.A.formatDateIntl(r)});this.chartBar=R.u.appRenderChartBar(n,this.resumeData.currency,this.balances)}},100),this.renderTable()}renderTable(){this.tableBalance=[],this.balances=[],this.resumeData.statsAssetsDays&&this.resumeData.statsAssetsDays.forEach((t,a)=>{t.split("-"),t.split("-"),this.tableBalance.push(this.tableColumsCreateRefactor(t,a))})}tableColumsCreateRefactor(t,a){let n=[];this.resumeData.assets.forEach((h,y)=>{let b=h.history?.find(k=>k.date.toString()===t);if(b){if(y===this.resumeData.assets.length-1){this.filterDateHistory.push(b.date.toString());let k=h.history?.find(D=>this.filterDateHistory[this.filterDateHistory.length-1]===t);if(k){const D=((b.balance-k.balance)/k.balance*100).toFixed(2);b.percentage=Number.parseFloat(D)}}}else b=new w.Uz,b.balance=0,b.date=new Date(t),b.percentage=0,b.trend=0;n.push(b)});let i=new w.Uz;i.balance=0,i.date=new Date(t),n.forEach(h=>{h&&null!=h.balance&&h.balance&&(i.balance=parseFloat((i.balance+h.balance).toFixed(2)))});let r=((i.balance-this.balances[this.balances.length-1])/this.balances[this.balances.length-1]*100).toFixed(2);i.percentage=parseFloat(r),(c.A.isNullOrEmpty(i.percentage)||0==a)&&(i.percentage=0);let l=new w.Uz,p=(i.balance-this.balances[this.balances.length-1]).toFixed(2);return l.balance=parseFloat(p),c.A.isNullOrEmpty(l.balance)&&(l.balance=0),n.push(i),n.push(l),this.balances.push(i.balance),n.index=n.length-1,n}calculatePercentage(t,a,n,i){if(n)return i;const r=((t-a)/a*100).toFixed(2);return Number.parseFloat(r)}static \u0275fac=function(a){return new(a||s)(e.rXU(f.c$))};static \u0275cmp=e.VBU({type:s,selectors:[["app-resume-assets"]],inputs:{hidden:"hidden",resumeData:"resumeData",isPast:"isPast"},standalone:!1,features:[e.OA$],decls:1,vars:1,consts:[["class","transactions row",4,"ngIf"],[1,"transactions","row"],[1,"col-md-6","mt-2"],["routerLink","/crypto/asset",1,"item","zoom"],[1,"detail"],[1,"col-auto",2,"padding-right","20px"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"sincetot"],[1,"right","float-end"],["id","totale",1,"price"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-poll"],["id","pil"],[1,"price","float-end","performancetot"],[1,"mt-2","sec1"],[1,"section-title"],["class","col-xl-3 col-sm-6 mobile-size",4,"ngFor","ngForOf"],[1,"section","col-xl-12"],[1,"section","mt-4","mb-4","col-xl-12"],["class","card",4,"ngIf"],[1,"col-xl-3","col-sm-6","mobile-size"],[1,"card","border_round","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[1,"row"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],["id","tot1",1,"h2","font-weight-bold","mb-0"],[2,"margin-left","1px"],[1,"col-auto"],["alt","img",1,"image-block","imaged","w48","round-img",3,"src"],[1,"mt-3","mb-0","text-muted","text-sm"],[1,"performancesingle0","float-end"],[3,"class",4,"ngIf"],["class","badge badge-danger","style","width: 70px",4,"ngIf"],[1,"text-nowrap","sincetot"],[1,"badge","badge-danger",2,"width","70px"],[1,"card","inner-round","border_round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area","class","border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid"],[1,"card"],[1,"table-responsive","ms-2","me-2"],["id","crypto_resume_table",1,"table"],["scope","col",2,"width","100px"],["scope","col","class","text-center",4,"ngFor","ngForOf"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],["hidden","","class","mx-auto text-center alert alert-danger mb-1","role","alert",4,"ngIf"],["scope","col",1,"text-center"],["alt","",1,"table-logo",3,"src"],["scope","row"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],["hidden","","role","alert",1,"mx-auto","text-center","alert","alert-danger","mb-1"],[1,"section-heading"],["id","year",1,"title"],[1,"card","border_round"],[1,"card-body",2,"min-height","400px"],["type","bar",3,"series","chart","title","colors","legend","labels","plotOptions","grid","tooltip",4,"ngIf"],["type","bar",3,"series","chart","title","colors","legend","labels","plotOptions","grid","tooltip"]],template:function(a,n){1&a&&e.DNE(0,La,49,41,"div",0),2&a&&e.Y8G("ngIf",n.resumeData.assets)},dependencies:[C.Wk,_.Sq,_.bT,V.Q,T.oY,_.vh,f.D9],styles:["@media screen and (max-width: 780px){.transactions[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}.mobile-size[_ngcontent-%COMP%]{margin-bottom:-15px}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}}.icon-shape[_ngcontent-%COMP%]{display:inline-flex;padding:12px;text-align:center;border-radius:50%;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.round-img[_ngcontent-%COMP%]{border-radius:50%}.transactions[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-radius:20px}.table-logo[_ngcontent-%COMP%]{border-radius:50%;width:25px;height:25px;align-items:center;justify-content:center;margin-right:5px;margin-left:-10px}.inner-round[_ngcontent-%COMP%]{min-height:350px}#crypto_resume_table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #crypto_resume_table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:22.5px!important}"]})}return s})();function Xa(s,o){if(1&s&&(e.j41(0,"tr")(1,"th",12),e.nrm(2,"img",13),e.EFF(3),e.k0s(),e.j41(4,"td",14),e.EFF(5),e.k0s(),e.j41(6,"td",14),e.EFF(7),e.k0s(),e.j41(8,"td",15),e.EFF(9),e.k0s(),e.j41(10,"td",14),e.EFF(11),e.k0s(),e.j41(12,"td",16),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s()()),2&s){const t=o.$implicit,a=e.XpG();e.R7$(2),e.FS9("src",t.icon,e.B4B),e.R7$(),e.SpI(" ",t.name," "),e.R7$(2),e.Lme(" ",a.hidden?a.amount:t.balance," ",t.symbol," "),e.R7$(2),e.Lme(" ",a.hidden?a.amount:t.invested," ",a.cryptoCurrency," "),e.R7$(2),e.Lme(" ",a.hidden?a.amount:(t.invested/t.balance).toFixed(2)," ",a.cryptoCurrency," "),e.R7$(2),e.Lme(" ",t.current_price," ",a.cryptoCurrency," "),e.R7$(2),e.Lme(" ",a.hidden?a.amount:t.value," ",a.cryptoCurrency," "),e.R7$(),e.ZvI("text-end ",t.value-t.invested==0?"text-warning":t.value-t.invested>0?"text-success":"text-danger",""),e.R7$(),e.Lme(" ",a.hidden?a.amount:(t.value-t.invested).toFixed(2)," ",a.cryptoCurrency," "),e.R7$(),e.ZvI("text-end ",(t.value-t.invested)/t.invested*100==0?"text-warning":(t.value-t.invested)/t.invested*100>0?"text-success":"text-danger",""),e.R7$(),e.SpI(" ",((t.value-t.invested)/t.invested*100).toFixed(2),"% ")}}function Ua(s,o){if(1&s&&(e.j41(0,"tr",18)(1,"th",12),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&s){const t=o.$implicit,a=o.index,n=e.XpG().$implicit,i=e.XpG(2);e.R7$(2),e.SpI(" ",n[n.length-1].date," "),e.R7$(),e.STu("",0===t.percentage?"text-warning":t.percentage>0?"text-success":"text-danger"," ",t.index===a?"text-end":"",""),e.R7$(),e.Lme(" ",i.cryptoCurrency," ",i.hidden?i.amount:t.balance," "),e.R7$(),e.ZvI("",0===t.percentage?"text-warning":t.percentage>0?"text-success":"text-danger"," text-end"),e.R7$(),e.SpI(" ",t.percentage,"% "),e.R7$(),e.ZvI("",0===t.trend?"text-warning":t.trend>0?"text-success":"text-danger"," text-end"),e.R7$(),e.Lme(" ",i.cryptoCurrency," ",i.hidden?i.amount:t.trend," ")}}function Ha(s,o){if(1&s&&(e.j41(0,"tbody"),e.DNE(1,Ua,9,16,"tr",17),e.k0s()),2&s){const t=o.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}function qa(s,o){if(1&s&&(e.j41(0,"div",8)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th",5),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",5),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th",6),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th",6),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.DNE(21,Ha,2,1,"tbody",7),e.k0s()()()()),2&s){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"resume_page.title")," "),e.R7$(8),e.SpI(" ",e.bMT(11,8,"resume_page.table_date")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"shared_text.amount")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"shared_text.performance")," "),e.R7$(3),e.SpI(" ",e.bMT(20,14,"resume_page.table_trend")," "),e.R7$(2),e.Y8G("ngForOf",t.tableBalance.slice().reverse())}}function za(s,o){1&s&&(e.j41(0,"div",25),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function Ja(s,o){if(1&s&&e.nrm(0,"apx-chart",26),2&s){const t=e.XpG(2);e.Y8G("series",t.chartHistory.series)("chart",t.chartHistory.chart)("title",t.chartHistory.title)("colors",t.chartHistory.colors)("legend",t.chartHistory.legend)("labels",t.chartHistory.labels)("grid",t.chartHistory.grid)("dataLabels",t.chartHistory.dataLabels)("tooltip",t.chartHistory.tooltip)}}function Za(s,o){if(1&s&&(e.j41(0,"div",9)(1,"div",19)(2,"h2",20),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",21)(6,"div",22),e.DNE(7,za,5,0,"div",23)(8,Ja,1,9,"apx-chart",24),e.k0s()()()),2&s){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,3,"resume_page.graph_history")," "),e.R7$(4),e.Y8G("ngIf",!t.chartHistory),e.R7$(),e.Y8G("ngIf",t.chartHistory)}}function Qa(s,o){1&s&&(e.j41(0,"div",25),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function Ka(s,o){if(1&s&&e.nrm(0,"apx-chart",29),2&s){const t=e.XpG(2);e.Y8G("series",t.chartPie.series)("chart",t.chartPie.chart)("labels",t.chartPie.labels)}}function es(s,o){if(1&s&&(e.j41(0,"div",10)(1,"div",19)(2,"h2",20),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",21)(6,"div",27),e.DNE(7,Qa,5,0,"div",23)(8,Ka,1,3,"apx-chart",28),e.k0s()()()),2&s){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,3,"crypto_resume_page.chart_pie_title")," "),e.R7$(4),e.Y8G("ngIf",!t.chartPie),e.R7$(),e.Y8G("ngIf",t.chartPie)}}function ts(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",11)(1,"div",30)(2,"div",19)(3,"h2",31),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"a",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToOperations())}),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.nrm(9,"app-operations-list",33),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,4,"crypto_asset_page.details.operations")," "),e.R7$(3),e.JRh(e.bMT(8,6,"crypto_asset_page.details.view")),e.R7$(2),e.Y8G("modalID",t.modalConstant.CRYPTOHISTORY)("walletsAsset",t.cryptoWallets)}}let ns=(()=>{class s{cryptoService;router;shared;amount="******";hidden=!1;cryptoResume;cryptoHistory;cryptoCurrency="";cryptoAssets=[];cryptoWallets=[];currentYear=(new Date).getFullYear();totalList=[];totalMap=new Map;balances=[];tableBalance=[];operations=[];operationSelect;chartHistory;chartPie;constructor(t,a,n){this.cryptoService=t,this.router=a,this.shared=n}get modalConstant(){return d.mX}get operationTypeConstant(){return d.fW}ngOnChanges(t){t.cryptoWallets&&c.A.isNullOrEmpty(this.operations)&&this.isOperationsPresent(),this.getResume()}ngOnInit(){}getResume(){this.tableBalance=[],this.balances=[],this.totalList=[],c.A.isNullOrEmpty(this.cryptoHistory)||(this.cryptoHistory=this.shared.getCryptoHistoryData()),c.A.isNullOrEmpty(this.cryptoHistory)||(this.cryptoHistory instanceof Map?this.cryptoHistory.forEach((t,a)=>{this.tableBalance.push(this.tableCreate(a.toString(),t))}):Object.entries(this.cryptoHistory).forEach(([t,a])=>{this.tableBalance.push(this.tableCreate(t.toString(),a))})),this.totalMap.set("History",this.totalList),this.renderChart()}renderChart(){this.chartPie=R.u.appRenderChartPie(this.cryptoAssets),c.A.isNullOrEmpty(this.totalMap)||setTimeout(()=>{this.chartHistory=R.u.renderChartLineCategory(this.totalMap)},200)}tableCreate(t,a){let n=[],i=new w.Uz;i.balance=a.balance,i.date=t;let r=((i.balance-this.balances[this.balances.length-1])/this.balances[this.balances.length-1]*100).toFixed(2),l=parseFloat((i.balance-this.balances[this.balances.length-1]).toFixed(2));return c.A.isNullOrEmpty(i.balance)&&(i.balance=0),i.percentage=parseFloat(r),c.A.isNullOrEmpty(i.percentage)&&(i.percentage=0),i.trend=l,c.A.isNullOrEmpty(i.trend)&&(i.trend=0),n.push(i),this.totalList.push(i),this.balances.push(i.balance),n.index=n.length-1,n}isOperationsPresent(){let t=!1;return c.A.isNullOrEmpty(this.cryptoWallets)||this.cryptoWallets.forEach(a=>{a.assets&&a.assets.length>0&&!t&&a.assets.forEach(n=>{n.operations&&n.operations.length>0&&(t=!0)})}),t}goToOperations(){let t=(0,Y.A)();this.cryptoService.operationsMap.set(t,this.operations),this.router.navigate(["/crypto/operations/"+this.cryptoCurrency+"/"+t])}selectOperation(t){this.operationSelect=t}calculateTotalInvested(){let t=0;return this.cryptoAssets.forEach(a=>{t+=a.invested}),this.cryptoCurrency+" "+t.toFixed(2)}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(C.Ix),e.rXU(O.d))};static \u0275cmp=e.VBU({type:s,selectors:[["app-investments-history"]],inputs:{hidden:"hidden",cryptoResume:"cryptoResume",cryptoHistory:"cryptoHistory",cryptoCurrency:"cryptoCurrency",cryptoAssets:"cryptoAssets",cryptoWallets:"cryptoWallets",currentYear:"currentYear"},standalone:!1,features:[e.OA$],decls:40,vars:36,consts:[[1,"row"],[1,"section-title"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"section","mt-2","col-xl-4","col-md-5"],[1,"section","mt-4","col-12","col-md-8"],[1,"section","mt-4","col-12","col-md-4"],[1,"section","mb-3","col-md-12"],["scope","row"],["width","30","height","30","alt","","srcset","",1,"me-1",3,"src"],[1,"text-end"],[1,"text-end","text-primary"],[1,"text-end","text-secondary"],["class","topics",4,"ngFor","ngForOf"],[1,"topics"],[1,"section-heading"],["id","year",1,"title"],[1,"card","border_round"],[1,"card-body",2,"min-height","380px"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area",3,"series","chart","title","colors","legend","labels","grid","dataLabels","tooltip",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",3,"series","chart","title","colors","legend","labels","grid","dataLabels","tooltip"],[1,"card-body",2,"min-height","200px"],["type","pie",3,"series","chart","labels",4,"ngIf"],["type","pie",3,"series","chart","labels"],[1,"section","cards-op","mt-4"],[1,"title"],[1,"link","clickable",3,"click"],[3,"modalID","walletsAsset"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div")(2,"div",1),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",2)(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th",5),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th",6),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th",6),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th",6),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th",6),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th",6),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th",6),e.EFF(32),e.nI1(33,"translate"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,Xa,18,21,"tr",7),e.k0s()()()()(),e.DNE(36,qa,22,16,"div",8)(37,Za,9,5,"div",9)(38,es,9,5,"div",10)(39,ts,10,8,"div",11),e.k0s()),2&a&&(e.R7$(),e.ZvI("section mt-2 ",n.tableBalance&&n.tableBalance.length>1?"col-xl-8 col-md-7":"col-12"," "),e.R7$(2),e.Lme(" ",e.bMT(4,18,"crypto_resume_page.investments.title")," ",n.calculateTotalInvested()," "),e.R7$(8),e.SpI(" ",e.bMT(12,20,"crypto_resume_page.investments.table_tab1")," "),e.R7$(3),e.SpI(" ",e.bMT(15,22,"crypto_resume_page.investments.table_tab2")," "),e.R7$(3),e.SpI(" ",e.bMT(18,24,"crypto_resume_page.investments.table_tab3")," "),e.R7$(3),e.SpI(" ",e.bMT(21,26,"crypto_resume_page.investments.table_tab4")," "),e.R7$(3),e.SpI(" ",e.bMT(24,28,"crypto_resume_page.investments.table_tab5")," "),e.R7$(3),e.SpI(" ",e.bMT(27,30,"crypto_resume_page.investments.table_tab6")," "),e.R7$(3),e.SpI(" ",e.bMT(30,32,"crypto_resume_page.investments.table_tab7")," "),e.R7$(3),e.SpI(" ",e.bMT(33,34,"crypto_resume_page.investments.table_tab8")," "),e.R7$(3),e.Y8G("ngForOf",n.cryptoAssets),e.R7$(),e.vxM(n.tableBalance&&n.tableBalance.length>1?36:-1),e.R7$(),e.vxM(n.tableBalance&&n.tableBalance.length>1?37:-1),e.R7$(),e.vxM(n.cryptoAssets?38:-1),e.R7$(),e.vxM(n.isOperationsPresent()?39:-1))},dependencies:[_.Sq,_.bT,q,V.Q,f.D9],styles:[".icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.rounded-pill[_ngcontent-%COMP%]{background-color:#000!important}@media screen and (max-width: 780px){.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important;margin-bottom:-5px}}"]})}return s})();function as(s,o){1&s&&(e.j41(0,"div",14),e.nrm(1,"div")(2,"div")(3,"div")(4,"div"),e.k0s())}function ss(s,o){if(1&s&&e.nrm(0,"apx-chart",15),2&s){const t=e.XpG(2);e.Y8G("series",t.trading.series)("chart",t.trading.chart)("title",t.trading.title)("colors",t.trading.colors)("legend",t.trading.legend)("labels",t.trading.labels)("tooltip",t.trading.tooltip)("dataLabels",t.trading.dataLabels)("grid",t.trading.grid)}}function is(s,o){if(1&s&&(e.j41(0,"div",9)(1,"div",10),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",11),e.DNE(5,as,5,0,"div",12)(6,ss,1,9,"apx-chart",13),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"crypto_resume_page.graphAsset")," "),e.R7$(3),e.Y8G("ngIf",!t.trading),e.R7$(),e.Y8G("ngIf",t.trading)}}function os(s,o){if(1&s&&(e.j41(0,"tr")(1,"th",25),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td",26),e.EFF(5),e.k0s(),e.j41(6,"td",26),e.EFF(7),e.k0s(),e.j41(8,"td",26),e.EFF(9),e.k0s(),e.j41(10,"td",26),e.EFF(11),e.k0s(),e.j41(12,"th",27),e.EFF(13),e.nI1(14,"date"),e.k0s(),e.j41(15,"td",26),e.EFF(16),e.k0s(),e.j41(17,"td",26),e.EFF(18),e.k0s(),e.j41(19,"td",26),e.EFF(20),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s(),e.j41(23,"td"),e.EFF(24),e.k0s(),e.j41(25,"td"),e.EFF(26),e.k0s()()),2&s){const t=o.$implicit,a=e.XpG(2);e.R7$(2),e.SpI(" ",e.i5U(3,32,t.entryDate,"d MMM y")," "),e.R7$(3),e.Lme(" ",null==t.assetSell?null:t.assetSell.symbol,"/",null==t.asset?null:t.asset.symbol," "),e.R7$(2),e.Lme(" ",t.entryQuantity," ",null==t.asset?null:t.asset.symbol," "),e.R7$(2),e.Lme(" ",t.entryPrice," ",a.cryptoDashboard.currency," "),e.R7$(2),e.Lme(" ",t.entryPriceValue," ",a.cryptoDashboard.currency," "),e.R7$(2),e.SpI(" ",e.i5U(14,35,t.exitDate,"d MMM y")," "),e.R7$(3),e.Lme(" ",t.exitQuantity," ",null==t.assetSell?null:t.assetSell.symbol," "),e.R7$(2),e.Lme(" ",t.exitPrice," ",a.cryptoDashboard.currency," "),e.R7$(2),e.Lme(" ",t.exitPriceValue," ",a.cryptoDashboard.currency," "),e.R7$(),e.ZvI("text-center ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger",""),e.R7$(),e.E5c(" ",t.trend," ",a.cryptoDashboard.currency," (",t.performance,"%) "),e.R7$(),e.ZvI("text-center ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger",""),e.R7$(),e.Lme(" ",t.trendSum," ",a.cryptoDashboard.currency," "),e.R7$(),e.ZvI("text-end ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger",""),e.R7$(),e.Lme(" ",t.balance," ",a.cryptoDashboard.currency," ")}}function rs(s,o){1&s&&(e.j41(0,"div",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"crypto_resume_page.warning")," "))}function ls(s,o){if(1&s&&(e.j41(0,"div",16)(1,"div",10),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",17)(6,"div",18)(7,"table",19)(8,"thead")(9,"tr")(10,"th",20),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",21),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th",21),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th",21),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th",21),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th",21),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th",21),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th",21),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th",21),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th",21),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th",21),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"th",22),e.EFF(44),e.nI1(45,"translate"),e.k0s()()(),e.j41(46,"tbody"),e.DNE(47,os,27,38,"tr",23),e.k0s()(),e.DNE(48,rs,3,3,"div",24),e.k0s()()()),2&s){const t=e.XpG();e.R7$(2),e.ZXR(" ",e.bMT(3,20,"crypto_resume_page.trading_table_title")," ",t.invested.toFixed(2)," ",t.cryptoDashboard.currency," - ",e.bMT(4,22,"crypto_resume_page.trading_table_subTitle")," ",t.balanceCurrentYear.toFixed(2)," ",t.cryptoDashboard.currency," "),e.R7$(9),e.SpI(" ",e.bMT(12,24,"crypto_resume_page.trading_table_tab1")," "),e.R7$(3),e.SpI(" ",e.bMT(15,26,"crypto_resume_page.trading_table_tab2")," "),e.R7$(3),e.SpI(" ",e.bMT(18,28,"crypto_resume_page.trading_table_tab3")," "),e.R7$(3),e.SpI(" ",e.bMT(21,30,"crypto_resume_page.trading_table_tab4")," "),e.R7$(3),e.SpI(" ",e.bMT(24,32,"crypto_resume_page.trading_table_tab5")," "),e.R7$(3),e.SpI(" ",e.bMT(27,34,"crypto_resume_page.trading_table_tab6")," "),e.R7$(3),e.SpI(" ",e.bMT(30,36,"crypto_resume_page.trading_table_tab7")," "),e.R7$(3),e.SpI(" ",e.bMT(33,38,"crypto_resume_page.trading_table_tab8")," "),e.R7$(3),e.SpI(" ",e.bMT(36,40,"crypto_resume_page.trading_table_tab9")," "),e.R7$(3),e.SpI(" ",e.bMT(39,42,"crypto_resume_page.trading_table_tab10")," "),e.R7$(3),e.SpI(" ",e.bMT(42,44,"crypto_resume_page.trading_table_tab11")," "),e.R7$(3),e.SpI(" ",e.bMT(45,46,"crypto_resume_page.trading_table_tab12")," "),e.R7$(3),e.Y8G("ngForOf",t.operations),e.R7$(),e.Y8G("ngIf",t.operations&&0==t.operations.length)}}let cs=(()=>{class s{cryptoService;router;emptyTradingData=new e.bkB;trading;cryptoDashboard=new E;cryptoAssets=[];wallets=[];operations=[];walletsFilter=[];invested=0;balanceCurrentYear=0;constructor(t,a){this.cryptoService=t,this.router=a}get modalConstant(){return d.mX}ngOnChanges(t){this.filterWallet(),this.getOperations()}ngOnInit(){this.filterWallet()}filterWallet(){let t=c.A.copyObject(this.wallets);t&&(this.walletsFilter=t.filter(a=>a.type==d.fW.TRADING),this.walletsFilter.forEach(a=>{a.assets&&a.assets.length>0&&a.assets.forEach(n=>{n.operations&&n.operations.length>0&&(n.operations=n.operations.filter(i=>i.type==d.fW.TRADING))})}))}getOperations(){let t=0,a=0,n=[],i=c.A.copyObject(this.wallets),r=this.cryptoService.getAssetList(this.wallets);return i&&i.forEach(l=>{l.assets&&l.assets.length>0&&l.assets.forEach(p=>{l.type==d.fW.TRADING&&(a+=p.invested),p.operations&&p.operations.length>0&&(p.operations=p.operations.filter(h=>h.type==d.fW.TRADING),p.operations.forEach(h=>{h.asset=p,h.wallet=l,h.type!=d.fW.NEWINVESTMENT&&(h.assetSell=c.A.copyObject(r.find(y=>y.symbol==h.entryCoin))),h.type==d.fW.TRADING&&(t+=h.entryPriceValue),n.push(h)}))})}),this.invested=a,n=n.filter(l=>l.type==d.fW.TRADING),n.sort((l,p)=>l.entryDate<p.entryDate?1:-1),this.trading=S.i.isMobileDevice()?R.u.renderTradingOperations(n,[200]):R.u.renderTradingOperations(n,[350]),this.getOperationTable(n,t),c.A.isNullOrEmpty(n)&&this.emptyTradingData.emit(!0),n}goToOperations(){let t=(0,Y.A)();this.cryptoService.operationsMap.set(t,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+t])}getOperationTable(t,a){let n=a,i=0;this.operations=c.A.copyObject(t).filter(r=>"CLOSED"==r.status),this.operations.reverse().forEach(r=>{r.trendSum=parseFloat((i+=r.trend).toFixed(2)),r.balance=parseFloat((n+=r.trend).toFixed(2))}),this.operations.reverse(),this.balanceCurrentYear=a}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(C.Ix))};static \u0275cmp=e.VBU({type:s,selectors:[["app-trading-resume"]],inputs:{cryptoDashboard:"cryptoDashboard",cryptoAssets:"cryptoAssets",wallets:"wallets"},outputs:{emptyTradingData:"emptyTradingData"},standalone:!1,features:[e.OA$],decls:13,vars:11,consts:[[1,"transactions","row"],["class","section col-xl-12",4,"ngIf"],["class","section mt-2 mb-4 col-xl-12",4,"ngIf"],[1,"col-md-12"],[1,"section","cards-op","mt-2","mb-2"],[1,"section-heading"],[1,"title"],[1,"link","clickable",3,"click"],[3,"modalID","walletsAsset","isAssetOperations"],[1,"section","col-xl-12"],[1,"section-title"],[1,"card","inner-round","border_round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area","class","border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","labels","tooltip","dataLabels","grid"],[1,"section","mt-2","mb-4","col-xl-12"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],["class","mx-auto text-center alert alert-danger mb-1","role","alert",4,"ngIf"],["scope","row"],[1,"text-center"],["scope","row",1,"text-center"],["role","alert",1,"mx-auto","text-center","alert","alert-danger","mb-1"]],template:function(a,n){1&a&&(e.j41(0,"div",0),e.DNE(1,is,7,5,"div",1)(2,ls,49,48,"div",2),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"a",7),e.bIt("click",function(){return n.goToOperations()}),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.nrm(12,"app-operations-list",8),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("ngIf",n.trading&&1!=(null==n.trading||null==n.trading.labels?null:n.trading.labels.length)),e.R7$(),e.Y8G("ngIf",n.operations&&n.operations.length>0),e.R7$(5),e.SpI(" ",e.bMT(8,7,"crypto_asset_page.details.operations")," "),e.R7$(3),e.JRh(e.bMT(11,9,"crypto_asset_page.details.view")),e.R7$(2),e.Y8G("modalID",n.modalConstant.CRYPTOTRADINGRESUME)("walletsAsset",n.walletsFilter)("isAssetOperations",!0))},dependencies:[_.Sq,_.bT,q,V.Q,_.vh,f.D9],styles:[".transactions[_ngcontent-%COMP%]{margin:0}@media screen and (max-width: 780px){.transactions[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important;margin-bottom:15px}}.round-img[_ngcontent-%COMP%]{border-radius:50%}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]})}return s})();const ds=["history"];function ps(s,o){if(1&s&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&s){const t=o.$implicit,a=e.XpG(2);e.Y8G("selected",a.currentYear.toString()===t)("value",t),e.R7$(),e.SpI(" ",t," ")}}function ms(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",8)(1,"div",12)(2,"div",13)(3,"select",14),e.bIt("change",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onChange(n))}),e.DNE(4,ps,2,3,"option",15),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(3),e.Y8G("disabled",1==t.resumeFullYears.length),e.R7$(),e.Y8G("ngForOf",t.resumeFullYears.slice().reverse())}}function hs(s,o){1&s&&(e.nrm(0,"app-content-box",9),e.nI1(1,"translate"),e.nI1(2,"translate")),2&s&&e.Y8G("header",e.bMT(1,2,"crypto_resume_page.title"))("body",e.bMT(2,4,"resume_page.empty_body_text"))}function us(s,o){if(1&s){const t=e.RV6();e.j41(0,"li",19)(1,"a",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.changeData())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.ZvI("nav-link ",t.isAssetsWithNoHistory?"":"active",""),e.R7$(),e.SpI(" ",e.bMT(3,4,"crypto_resume_page.resume_tab1")," ")}}function _s(s,o){1&s&&(e.j41(0,"li",19)(1,"a",35),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"crypto_resume_page.resume_tab2")," "))}function gs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",10)(1,"div",17)(2,"ul",18),e.DNE(3,us,4,6,"li",19)(4,_s,4,3,"li",20),e.j41(5,"li",19)(6,"a",21,0),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.getAssets())})("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.getWalletsCryptoData())})("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.getCryptoHistoryData())}),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.j41(10,"div",22)(11,"div",23),e.nrm(12,"app-resume-assets",24),e.k0s(),e.j41(13,"div",25)(14,"div",26)(15,"div",27)(16,"div",28)(17,"div",29),e.nrm(18,"img",30),e.k0s(),e.nrm(19,"hr"),e.j41(20,"h1"),e.EFF(21,"Work in Progress"),e.k0s()()()(),e.j41(22,"app-trading-resume",31),e.bIt("emptyTradingData",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToResume())}),e.k0s()(),e.j41(23,"div",32),e.nrm(24,"app-investments-history",33),e.k0s()()()()}if(2&s){const t=e.XpG();e.R7$(3),e.vxM(t.isAssetsWithNoHistory?-1:3),e.R7$(),e.Y8G("ngIf",t.isOperationPresent()>0),e.R7$(2),e.ZvI("nav-link ",t.isAssetsWithNoHistory?"active":"",""),e.R7$(2),e.SpI(" ",e.bMT(9,25,"crypto_resume_page.resume_tab3")," "),e.R7$(3),e.ZvI("tab-pane fade ",t.isAssetsWithNoHistory?"":"show active",""),e.R7$(),e.Y8G("hidden",t.hidden)("resumeData",t.resumeData)("isPast",t.isPast),e.R7$(10),e.Y8G("cryptoDashboard",t.resumeData)("wallets",t.resumeData.wallets)("cryptoAssets",t.resumeAssets),e.R7$(),e.ZvI("tab-pane fade ",t.isAssetsWithNoHistory?"show active":"",""),e.R7$(),e.Y8G("hidden",t.hidden)("cryptoResume",t.resume)("cryptoCurrency",t.resumeData.currency)("cryptoAssets",t.cryptoAssets)("cryptoWallets",t.cryptoWallets)("cryptoHistory",t.cryptoHistory)("currentYear",t.currentYear)}}let bs=(()=>{class s{cryptoService;shared;cdr;history;getResumeSub=new g.yU;getCryptoWalletSubscribe=new g.yU;cryptoAssetSubscribe=new g.yU;cryptoHistorySubscribe=new g.yU;getDashboardSubscribe=new g.yU;amount="******";hidden=!1;resumeAssets=[];resumeData=new E;resume=new Map;resumeFullYears=[];cryptoAssets=[];cryptoWallets=[];cryptoHistory;cryptoDashboard=new E;currentYear=(new Date).getFullYear();isPast=!1;change="";constructor(t,a,n){this.cryptoService=t,this.shared=a,this.cdr=n}ngAfterViewChecked(){this.cdr.detectChanges()}ngAfterViewInit(){this.isAssetsWithNoHistory&&(this.getAssets(),this.getWalletsCryptoData())}get modalConstant(){return d.mX}ngOnInit(){S.i.hideFooter(),this.getResume(this.currentYear)}getResume(t){this.getResumeSub=this.cryptoService.getCryptoResumeData(t).subscribe(a=>{if(this.cryptoService.cache.cacheCryptoResumeData(a,t),v.$.info(a.message,"CryptoResumeComponent"),this.resume=new Map(Object.entries(a.data)),I.D.getUserData().mockedUser){const i=Array.from(this.resume.keys());t=Number.parseInt(i.length>0?i[0]:void 0)}this.resumeFullYears=[],Array.from(new Set(this.resume.get(t.toString())?.yearsWalletStats??[])).sort((i,r)=>i-r).forEach(i=>{this.resumeFullYears.push(i.toString())}),this.updateData(t.toString())}),this.isWalletBalanceHidden()}onChange(t){this.getResume(t.target.value)}updateData(t){this.isPast=this.resumeFullYears[this.resumeFullYears.length-1]!=t,this.resumeData=this.resume.get(t),this.resumeData.yearsWalletStats.length>0&&c.A.isNullOrEmpty(this.resumeData.statsAssetsDays)?this.getResume(this.resumeData.yearsWalletStats[0]):this.resumeAssets=this.resumeData.assets}isOperationPresent(){let t=0;return this.resumeData.wallets&&this.resumeData.wallets.forEach(a=>{a.assets&&a.assets.length>0&&a.assets.forEach(n=>{if(n.operations&&n.operations.length>0){let i=n.operations.filter(r=>r.operationsType==d.fW.TRADING||r.type==d.fW.TRADING);null!=i&&i.length>0&&(t+=1)}})}),t}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(d.M2.HIDDENAMOUNT));null!=t&&(this.hidden=t)}getAssets(){c.A.isNullOrEmpty(this.shared.getCryptoAssets())?this.cryptoAssetSubscribe=this.cryptoService.getCryptoAssetsData().subscribe(t=>{this.cryptoService.cache.cacheAssetsData(t),v.$.info(t.message,"CryptoResumeComponent"),this.cryptoAssets=this.shared.setCryptoAssets(t.data)}):this.cryptoAssets=this.shared.getCryptoAssets()}getWalletsCryptoData(){c.A.isNullOrEmpty(this.shared.getCryptoWallets())?this.getCryptoWalletSubscribe=this.cryptoService.getWalletsCryptoData().subscribe(t=>{this.cryptoService.cache.cacheWalletsCryptoData(t),v.$.info(t.message,"CryptoResumeComponent"),this.cryptoWallets=this.shared.setCryptoWallets(t.data)}):this.cryptoWallets=this.shared.getCryptoWallets()}getCryptoHistoryData(){c.A.isNullOrEmpty(this.shared.getCryptoHistoryData())?this.cryptoHistorySubscribe=this.cryptoService.getCryptoHistoryData().subscribe(t=>{this.cryptoService.cache.cacheCryptoHistoryData(t.data),v.$.info(t.message,"CryptoResumeComponent"),this.cryptoHistory=this.shared.setCryptoHistoryData(t.data)}):this.cryptoHistory=this.shared.getCryptoHistoryData()}getDashboard(){c.A.isNullOrEmpty(this.shared.getCryptoDashboardData())?this.getDashboardSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(t=>{this.cryptoService.cache.cacheCryptoDashboardData(t),v.$.info(t.message,"CryptoResumeComponent"),this.cryptoDashboard=this.shared.setCryptoDashboardData(t.data)}):this.cryptoDashboard=this.shared.getCryptoDashboardData()}goToResume(){document.getElementById("resumeData")?.click()}emitOperationClick(t){this.getWalletsCryptoData(),this.getDashboard()}ngOnDestroy(){this.getResumeSub.unsubscribe(),this.getCryptoWalletSubscribe.unsubscribe(),this.cryptoAssetSubscribe.unsubscribe(),this.cryptoHistorySubscribe.unsubscribe(),this.getDashboardSubscribe.unsubscribe()}get isAssetsWithNoHistory(){return!this.resumeData.statsAssetsDays||!this.resumeData.statsAssetsDays.length}changeData(){this.change=(0,Y.A)()}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(O.d),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:s,selectors:[["app-crypto-resume"]],viewQuery:function(a,n){if(1&a&&e.GBs(ds,5),2&a){let i;e.mGM(i=e.lsd())&&(n.history=i.first)}},outputs:{cryptoAssets:"cryptoAssets",cryptoWallets:"cryptoWallets",cryptoHistory:"cryptoHistory",cryptoDashboard:"cryptoDashboard"},standalone:!1,decls:14,vars:14,consts:[["history",""],[1,"mx-auto","section-width"],[3,"emitOperationClick","title"],["id","appCapsule"],[1,"row",2,"margin-top","10px","margin-bottom","-60px"],[1,"col-md-6"],[1,"title-section"],[1,"title"],[1,"addWallet","col-md-6"],[3,"header","body"],[1,"card","transparent"],[3,"emitAddStats","modalId","wallets","assets","currency","statsAssetsDays"],[1,"form-group","boxed"],[1,"input-wrapper",2,"max-width","150px","margin-left","80%"],["id","select4b",1,"form-control","custom-select",3,"change","disabled"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","capsuled"],[1,"nav-item"],["class","nav-item",4,"ngIf"],["data-bs-toggle","tab","href","#resume","role","tab",3,"click"],[1,"tab-content","mt-1","margin-bottom-size"],["id","overview","role","tabpanel"],[3,"hidden","resumeData","isPast"],["id","card","role","tabpanel",1,"tab-pane","fade"],["hidden","",1,"section","mt-2"],[1,"card"],[1,"card-body","text-center","mt-5","mb-5"],[1,"mx-auto"],["src","https://www.colibriensemble.it/wp-content/uploads/2018/07/Work-in-Progress.png","alt","","srcset",""],[3,"emptyTradingData","cryptoDashboard","wallets","cryptoAssets"],["id","resume","role","tabpanel"],[3,"hidden","cryptoResume","cryptoCurrency","cryptoAssets","cryptoWallets","cryptoHistory","currentYear"],["data-bs-toggle","tab","href","#overview","role","tab","id","resumeData",3,"click"],["data-bs-toggle","tab","href","#card","role","tab",1,"nav-link"]],template:function(a,n){1&a&&(e.j41(0,"div",1)(1,"app-crypto-header",2),e.nI1(2,"translate"),e.bIt("emitOperationClick",function(r){return n.emitOperationClick(r)}),e.k0s(),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.DNE(10,ms,5,2,"div",8),e.k0s()(),e.DNE(11,hs,3,6,"app-content-box",9)(12,gs,25,27,"div",10),e.k0s(),e.j41(13,"app-operations-modal",11),e.bIt("emitAddStats",function(){return n.getResume(n.currentYear)}),e.k0s()),2&a&&(e.R7$(),e.FS9("title",e.bMT(2,10,"crypto_resume_page.title")),e.R7$(7),e.JRh(e.bMT(9,12,"crypto_resume_page.title")),e.R7$(2),e.vxM(0==n.resumeData.balance||n.isAssetsWithNoHistory?-1:10),e.R7$(),e.vxM(0==n.resumeData.balance?11:-1),e.R7$(),e.vxM(0!=n.resumeData.balance?12:-1),e.R7$(),e.Y8G("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoWallets)("assets",n.cryptoAssets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},dependencies:[_.Sq,_.bT,G,X,Sa.s,m.xH,m.y7,Wa,ns,cs,f.D9],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -60px 30px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:10px!important;margin-bottom:20px!important}.input-wrapper[_ngcontent-%COMP%]{max-width:90%!important;margin-left:8%!important}.transactions[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}}.transparent[_ngcontent-%COMP%]{background-color:transparent!important;margin-left:0!important;margin-right:0!important}.addWallet[_ngcontent-%COMP%]{padding-right:30px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}"]})}return s})();function ys(s,o){1&s&&(e.j41(0,"div",37)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"operation_exchange_page.empty_wallets")," "))}function fs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",41)(1,"input",42),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.selectTransferWallet(n))}),e.k0s(),e.j41(2,"label",43)(3,"div",44)(4,"div",45)(5,"p"),e.EFF(6),e.nrm(7,"br"),e.j41(8,"small"),e.EFF(9),e.k0s()(),e.nrm(10,"img",46),e.j41(11,"small")(12,"p"),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()(),e.j41(15,"div",47)(16,"div",48),e.nrm(17,"i",49),e.k0s()()()()}if(2&s){const t=o.$implicit,a=e.XpG(2);e.R7$(),e.FS9("id",t.id),e.R7$(),e.FS9("for",t.id),e.R7$(4),e.SpI(" ",t.name," "),e.R7$(3),e.SpI("(",t.type,")"),e.R7$(),e.FS9("src",t.img,e.B4B),e.R7$(3),e.E5c(" ",e.bMT(14,8,"operation_exchange_page.balance")," ",t.balance," ",a.cryptoCurrency," ")}}function vs(s,o){if(1&s&&(e.j41(0,"div")(1,"div",35)(2,"h2",36),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,ys,4,3,"div",37),e.j41(6,"div",38)(7,"div",39),e.DNE(8,fs,18,10,"div",40),e.k0s()()()),2&s){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,3,"operation_exchange_page.select")," "),e.R7$(2),e.vxM(t.wallets&&t.wallets.length?-1:5),e.R7$(3),e.Y8G("ngForOf",t.wallets)}}function Cs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditFees=!0)}),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"strong"),e.EFF(4),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,3,"operation_exchange_page.fees"),": "),e.R7$(3),e.Lme(" ",t.fees," ",t.assetInWallet.symbol,"")}}function Is(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",65)(1,"div",66)(2,"div",67)(3,"div",68)(4,"label",69),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",70,3),e.nI1(9,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.fees,n)||(i.fees=n),e.Njj(n)}),e.k0s(),e.j41(10,"i",71),e.nrm(11,"ion-icon",72),e.k0s()()()(),e.j41(12,"div",73)(13,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.makeNewBalance())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(2),a=e.sdS(26);e.R7$(5),e.Lme("",e.bMT(6,7,"operation_exchange_page.editFees")," ",t.marketDataSelected.symbol,""),e.R7$(2),e.FS9("value",t.fees),e.FS9("placeholder",e.bMT(9,9,"operation_exchange_page.updateFees")),e.R50("ngModel",t.fees),e.R7$(6),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(15,11,"operation_exchange_page.save")," ")}}function Ts(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",50)(1,"div",51)(2,"div",45)(3,"div",52)(4,"div",53)(5,"label",54),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",55),e.DNE(9,Cs,5,5,"div",56)(10,Is,16,13,"div",57),e.k0s()(),e.j41(11,"div",58)(12,"div",59)(13,"input",60,2),e.bIt("keyup",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.makeNewBalance())}),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.investedMoney,n)||(i.investedMoney=n),e.Njj(n)}),e.k0s()(),e.j41(15,"div",61)(16,"select",62)(17,"option",63),e.EFF(18),e.k0s()()()()()()()()}if(2&s){const t=e.XpG();e.R7$(6),e.JRh(e.bMT(7,7,"operation_exchange_page.from")),e.R7$(3),e.Y8G("ngIf",!t.isEditFees),e.R7$(),e.Y8G("ngIf",t.isEditFees),e.R7$(3),e.FS9("value",t.investedMoney),e.R50("ngModel",t.investedMoney),e.R7$(4),e.FS9("value",t.fiat),e.R7$(),e.SpI(" ",t.fiat," ")}}function Fs(s,o){1&s&&(e.j41(0,"div",75),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"operation_exchange_page.warning")," "))}function ks(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditFees=!0)}),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"strong"),e.EFF(4),e.EFF(5),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,3,"operation_exchange_page.fees"),": "),e.R7$(3),e.SpI(" ",t.fees," "),e.R7$(),e.SpI(" ",t.assetToSell.symbol,"")}}function Rs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",65)(1,"div",66)(2,"div",67)(3,"div",68)(4,"label",69),e.EFF(5),e.nI1(6,"translate"),e.EFF(7),e.k0s(),e.j41(8,"input",70,3),e.nI1(10,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.fees,n)||(i.fees=n),e.Njj(n)}),e.k0s(),e.j41(11,"i",71),e.nrm(12,"ion-icon",72),e.k0s()()()(),e.j41(13,"div",73)(14,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.makeNewBalance())}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(2),a=e.sdS(26);e.R7$(5),e.SpI("",e.bMT(6,7,"operation_exchange_page.editFees")," "),e.R7$(2),e.SpI(" ",t.assetToSell.symbol,""),e.R7$(),e.FS9("value",t.fees),e.FS9("placeholder",e.bMT(10,9,"operation_exchange_page.updateFees")),e.R50("ngModel",t.fees),e.R7$(6),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(16,11,"operation_exchange_page.save")," ")}}function Ss(s,o){1&s&&(e.j41(0,"div",75),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"operation_exchange_page.warningBalance")," "))}function Ds(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",28)(1,"div",51)(2,"div",45)(3,"div",52)(4,"div",53)(5,"label",76),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",55),e.DNE(9,ks,6,5,"div",56)(10,Rs,17,13,"div",57),e.k0s(),e.j41(11,"div",77),e.EFF(12),e.nI1(13,"translate"),e.j41(14,"strong"),e.EFF(15),e.k0s()()(),e.j41(16,"div",39)(17,"div",78)(18,"div",58)(19,"div",59)(20,"input",79,4),e.bIt("keyup",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.makeNewBalance())}),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.investedBalance,n)||(i.investedBalance=n),e.Njj(n)}),e.k0s()()()(),e.j41(22,"div",80)(23,"app-asset-select",81),e.bIt("emitSelectAsset",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.emitOperationSelectAsset(n))}),e.k0s()()()()()(),e.DNE(24,Ss,3,3,"div",26),e.k0s()}if(2&s){const t=e.sdS(21),a=e.XpG();e.R7$(6),e.JRh(e.bMT(7,14,"operation_exchange_page.from")),e.R7$(3),e.Y8G("ngIf",!a.isEditFees),e.R7$(),e.Y8G("ngIf",a.isEditFees),e.R7$(2),e.SpI(" ",e.bMT(13,16,"operation_exchange_page.balance")," "),e.R7$(3),e.Lme(" ",a.assetToSell.balance?a.assetToSell.balance:0," ",a.assetToSell.symbol,""),e.R7$(5),e.FS9("value",a.investedBalance),e.FS9("max",a.assetToSell.balance),e.R50("ngModel",a.investedBalance),e.R7$(3),e.Y8G("wrapperID",a.assetConstant.HOLDING)("fiat",a.fiat)("isOperation",!0)("cryptoPrices",a.wallet.assets),e.R7$(),e.Y8G("ngIf",t.invalid)}}function xs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditFees=!0)}),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"strong"),e.EFF(4),e.EFF(5),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,3,"operation_exchange_page.fees"),": "),e.R7$(3),e.SpI(" ",t.fees," "),e.R7$(),e.SpI(" ",t.assetToSell.symbol,"")}}function Es(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",65)(1,"div",66)(2,"div",67)(3,"div",68)(4,"label",69),e.EFF(5),e.nI1(6,"translate"),e.EFF(7),e.k0s(),e.j41(8,"input",70,3),e.nI1(10,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.fees,n)||(i.fees=n),e.Njj(n)}),e.k0s(),e.j41(11,"i",71),e.nrm(12,"ion-icon",72),e.k0s()()()(),e.j41(13,"div",73)(14,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.makeNewBalance())}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(2),a=e.sdS(26);e.R7$(5),e.SpI("",e.bMT(6,7,"operation_exchange_page.editFees")," "),e.R7$(2),e.SpI(" ",t.assetToSell.symbol,""),e.R7$(),e.FS9("value",t.fees),e.FS9("placeholder",e.bMT(10,9,"operation_exchange_page.updateFees")),e.R50("ngModel",t.fees),e.R7$(6),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(16,11,"operation_exchange_page.save")," ")}}function Ms(s,o){1&s&&(e.j41(0,"div",75),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"operation_exchange_page.warningBalance")," "))}function ws(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",28)(1,"div",51)(2,"div",45)(3,"div",52)(4,"div",53)(5,"label",76),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",55),e.DNE(9,xs,6,5,"div",56)(10,Es,17,13,"div",57),e.k0s(),e.j41(11,"div",77),e.EFF(12),e.nI1(13,"translate"),e.j41(14,"strong"),e.EFF(15),e.k0s()()(),e.j41(16,"div",39)(17,"div",78)(18,"div",58)(19,"div",59)(20,"input",82,5),e.bIt("keyup",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.makeNewBalance())}),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.investedBalance,n)||(i.investedBalance=n),e.Njj(n)}),e.k0s()()()(),e.j41(22,"div",80)(23,"app-asset-select",81),e.bIt("emitSelectAsset",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.emitOperationSelectAsset(n))}),e.k0s()()()()()(),e.DNE(24,Ms,3,3,"div",26),e.k0s()}if(2&s){const t=e.sdS(21),a=e.XpG();e.R7$(6),e.JRh(e.bMT(7,14,"operation_exchange_page.from")),e.R7$(3),e.Y8G("ngIf",!a.isEditFees),e.R7$(),e.Y8G("ngIf",a.isEditFees),e.R7$(2),e.SpI(" ",e.bMT(13,16,"operation_exchange_page.balance")," "),e.R7$(3),e.Lme(" ",a.assetToSell.balance?a.assetToSell.balance:0," ",a.assetToSell.symbol,""),e.R7$(5),e.FS9("value",a.investedBalance),e.FS9("max",a.assetToSell.balance),e.R50("ngModel",a.investedBalance),e.R7$(3),e.Y8G("wrapperID",a.assetConstant.TRADING)("fiat",a.fiat)("isOperation",!0)("cryptoPrices",a.stablecoin),e.R7$(),e.Y8G("ngIf",t.invalid)}}function js(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditSellBalance=!0)}),e.j41(1,"b"),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()}if(2&s){const t=e.XpG(2);e.R7$(2),e.JRh(t.marketDataSelected.symbol),e.R7$(),e.Lme(" = ",t.marketDataSelected.current_price," ",t.fiat," ")}}function As(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",86)(1,"div",87)(2,"div",67)(3,"div",68)(4,"label",69),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",88,3),e.nI1(9,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.marketDataSelected.current_price,n)||(i.marketDataSelected.current_price=n),e.Njj(n)}),e.k0s(),e.j41(10,"i",71),e.nrm(11,"ion-icon",72),e.k0s()()()(),e.j41(12,"div",89)(13,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.editBalance())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(2),a=e.sdS(26);e.R7$(5),e.Lme("",e.bMT(6,7,"operation_exchange_page.price")," ",t.marketDataSelected.symbol,""),e.R7$(2),e.FS9("value",t.marketDataSelected.current_price),e.FS9("placeholder",e.bMT(9,9,"operation_exchange_page.newPrice")),e.R50("ngModel",t.marketDataSelected.current_price),e.R7$(6),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(15,11,"operation_exchange_page.save")," ")}}function Os(s,o){if(1&s&&(e.j41(0,"div",29)(1,"div",83),e.DNE(2,js,4,3,"div",56),e.j41(3,"div",84),e.DNE(4,As,16,13,"div",85),e.k0s()()()),2&s){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",!t.isEditSellBalance),e.R7$(2),e.Y8G("ngIf",t.isEditSellBalance)}}function $s(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditFees=!0)}),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"strong"),e.EFF(4),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,3,"operation_exchange_page.fees"),": "),e.R7$(3),e.Lme(" ",t.fees," ",t.assetToSell.symbol,"")}}function Gs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",65)(1,"div",66)(2,"div",67)(3,"div",68)(4,"label",69),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",70,3),e.nI1(9,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.fees,n)||(i.fees=n),e.Njj(n)}),e.k0s(),e.j41(10,"i",71),e.nrm(11,"ion-icon",72),e.k0s()()()(),e.j41(12,"div",73)(13,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditFees=!1)}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(2),a=e.sdS(26);e.R7$(5),e.Lme("",e.bMT(6,7,"operation_exchange_page.editFees")," ",t.marketDataSelected.symbol,""),e.R7$(2),e.FS9("value",t.fees),e.FS9("placeholder",e.bMT(9,9,"operation_exchange_page.updateFees")),e.R50("ngModel",t.fees),e.R7$(6),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(15,11,"operation_exchange_page.save")," ")}}function Ns(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",28)(1,"div",51)(2,"div",45)(3,"div",52)(4,"div",53)(5,"label",76),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",55),e.DNE(9,$s,5,5,"div",56)(10,Gs,16,13,"div",57),e.k0s()(),e.j41(11,"div",39)(12,"div",90)(13,"div",58)(14,"div",59)(15,"input",91,6),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.balanceToTransfer,n)||(i.balanceToTransfer=n),e.Njj(n)}),e.k0s()()()(),e.j41(17,"div",92)(18,"app-asset-select",81),e.bIt("emitSelectAsset",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.emitOperationSelectAsset(n))}),e.k0s()()()()()()()}if(2&s){const t=e.XpG();e.R7$(6),e.JRh(e.bMT(7,9,"operation_exchange_page.to")),e.R7$(3),e.Y8G("ngIf",!t.isEditFees),e.R7$(),e.Y8G("ngIf",t.isEditFees),e.R7$(5),e.FS9("value",t.balanceToTransfer),e.R50("ngModel",t.balanceToTransfer),e.R7$(3),e.Y8G("wrapperID",t.assetConstant.TRANSFER)("fiat",t.fiat)("isOperation",!0)("cryptoPrices",t.wallet.assets)}}function Ps(s,o){1&s&&(e.j41(0,"div",75),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"operation_exchange_page.warning")," "))}function Bs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",28)(1,"div",51)(2,"div",45)(3,"div",52)(4,"div",53)(5,"label",76),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",55),e.EFF(9),e.nI1(10,"translate"),e.j41(11,"strong"),e.EFF(12),e.k0s()()(),e.j41(13,"div",39)(14,"div",90)(15,"div",58)(16,"div",59)(17,"input",93,7),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.assetNewBalance,n)||(i.assetNewBalance=n),e.Njj(n)}),e.k0s()()()(),e.j41(19,"div",92)(20,"app-asset-select",81),e.bIt("emitSelectAsset",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.emitSelectAsset(n))}),e.k0s()()()()()()()}if(2&s){const t=e.XpG();e.R7$(6),e.JRh(e.bMT(7,10,"operation_exchange_page.to")),e.R7$(3),e.SpI(" ",e.bMT(10,12,"operation_exchange_page.balance")," "),e.R7$(3),e.Lme(" ",t.assetInWallet.balance?t.assetInWallet.balance:0," ",t.assetInWallet.symbol,""),e.R7$(5),e.FS9("value",t.assetNewBalance),e.R50("ngModel",t.assetNewBalance),e.R7$(3),e.Y8G("wrapperID",t.assetConstant.NEWINVESTMENT)("fiat",t.fiat)("isOperation",!0)("cryptoPrices",t.marketData)}}function Ys(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.isEditBalance=!0)}),e.j41(1,"b"),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()}if(2&s){const t=e.XpG(3);e.R7$(2),e.JRh(t.marketDataSelected.symbol),e.R7$(),e.Lme(" = ",t.marketDataSelected.current_price," ",t.fiat," ")}}function Vs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",86)(1,"div",87)(2,"div",67)(3,"div",68)(4,"label",69),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",70,3),e.nI1(9,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(3);return e.DH7(i.marketDataSelected.current_price,n)||(i.marketDataSelected.current_price=n),e.Njj(n)}),e.k0s(),e.j41(10,"i",71),e.nrm(11,"ion-icon",72),e.k0s()()()(),e.j41(12,"div",89)(13,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.editBalance())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(3),a=e.sdS(26);e.R7$(5),e.Lme("",e.bMT(6,7,"operation_exchange_page.price")," ",t.marketDataSelected.symbol,""),e.R7$(2),e.FS9("value",t.marketDataSelected.current_price),e.FS9("placeholder",e.bMT(9,9,"operation_exchange_page.newPrice")),e.R50("ngModel",t.marketDataSelected.current_price),e.R7$(6),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(15,11,"operation_exchange_page.save")," ")}}function Ls(s,o){if(1&s&&(e.j41(0,"div",95)(1,"div",83),e.DNE(2,Ys,4,3,"div",56),e.j41(3,"div",84),e.DNE(4,Vs,16,13,"div",85),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",!t.isEditBalance),e.R7$(2),e.Y8G("ngIf",t.isEditBalance)}}function Ws(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.isEditBalance=!0)}),e.j41(1,"b"),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()}if(2&s){const t=e.XpG(3);e.R7$(2),e.JRh(t.assetToSell.symbol),e.R7$(),e.Lme(" = ",t.assetToSell.current_price," ",t.fiat," ")}}function Xs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",86)(1,"div",87)(2,"div",67)(3,"div",68)(4,"label",69),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",70,3),e.nI1(9,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(3);return e.DH7(i.assetToSell.current_price,n)||(i.assetToSell.current_price=n),e.Njj(n)}),e.k0s(),e.j41(10,"i",71),e.nrm(11,"ion-icon",72),e.k0s()()()(),e.j41(12,"div",89)(13,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.editBalance())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(3),a=e.sdS(26);e.R7$(5),e.Lme("",e.bMT(6,7,"operation_exchange_page.price")," ",t.assetToSell.symbol,""),e.R7$(2),e.FS9("value",t.assetToSell.current_price),e.FS9("placeholder",e.bMT(9,9,"operation_exchange_page.newPrice")),e.R50("ngModel",t.assetToSell.current_price),e.R7$(6),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(15,11,"operation_exchange_page.save")," ")}}function Us(s,o){if(1&s&&(e.j41(0,"div",95)(1,"div",83),e.DNE(2,Ws,4,3,"div",56),e.j41(3,"div",84),e.DNE(4,Xs,16,13,"div",85),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",!t.isEditBalance),e.R7$(2),e.Y8G("ngIf",t.isEditBalance)}}function Hs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditDate=!0)}),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.nI1(5,"date"),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,2,"operation_exchange_page.last")," "),e.R7$(3),e.JRh(t.operationDate?e.i5U(5,4,t.operationDate,"d MMM y"):"NEVER")}}function qs(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",86)(1,"div",98)(2,"div",67)(3,"div",68)(4,"label",99),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"input",100,8),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.DH7(i.operationDate,n)||(i.operationDate=n),e.Njj(n)}),e.k0s()()()(),e.j41(9,"div",89)(10,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isEditDate=!1)}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()}if(2&s){const t=e.XpG(2),a=e.sdS(26);e.R7$(5),e.SpI("",e.bMT(6,5,"operation_exchange_page.date")," "),e.R7$(2),e.FS9("value",t.operationDate),e.R50("ngModel",t.operationDate),e.R7$(3),e.Y8G("disabled",a.invalid),e.R7$(),e.SpI(" ",e.bMT(12,7,"operation_exchange_page.save")," ")}}function zs(s,o){if(1&s&&(e.j41(0,"div",50)(1,"div",94),e.DNE(2,Ls,5,2,"div",95)(3,Us,5,2,"div",95),e.j41(4,"div",95)(5,"div",96),e.DNE(6,Hs,6,7,"div",56),e.j41(7,"div",97),e.DNE(8,qs,13,9,"div",85),e.k0s()()()()()),2&s){const t=e.XpG();e.R7$(2),e.vxM(t.marketDataSelected.category==t.marktDataCategory.CRYPTOCURRENCY||t.operationType!=t.operations.HOLDING?2:-1),e.R7$(),e.vxM(t.marketDataSelected.category==t.marktDataCategory.STABLECOIN&&t.operationType==t.operations.HOLDING?3:-1),e.R7$(3),e.Y8G("ngIf",!t.isEditDate),e.R7$(2),e.Y8G("ngIf",t.isEditDate)}}function Js(s,o){if(1&s){const t=e.RV6();e.j41(0,"div",101)(1,"button",102),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exchangeInvestments())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const t=e.XpG(),a=e.sdS(26);e.R7$(),e.Y8G("disabled",t.operationsValidation(a)),e.R7$(),e.SpI(" ",e.bMT(3,2,"operation_exchange_page.exchange")," ")}}let Zs=(()=>{class s{cryptoService;shared;route;router;cdref;translate;saveWalletSubscribe=new g.yU;routeSubscribe=new g.yU;saveWalletsSubscribe=new g.yU;getPriceSubscribe=new g.yU;getCryptoWalletSubscribe=new g.yU;fiat="";operationType="";walletSelect="";wallet=new w.uW;isEditSellBalance=!1;isEditBalance=!1;isEditDate=!1;marketData=[];marketDataSelected=new B;assetInWallet=new B;investedMoney=100;assetNewBalance=0;investedBalance=0;stablecoin=[];walletToTansfer=new w.uW;wallets=[];isWalletSelected=!1;balanceToTransfer=0;isEditFees=!1;fees=0;operationDate=c.A.formatDate(new Date);assetToSell=new B;cryptoCurrency="";constructor(t,a,n,i,r,l){this.cryptoService=t,this.shared=a,this.route=n,this.router=i,this.cdref=r,this.translate=l,S.i.hideFooter()}ngOnDestroy(){this.saveWalletSubscribe.unsubscribe(),this.saveWalletsSubscribe.unsubscribe(),this.routeSubscribe.unsubscribe(),this.getPriceSubscribe.unsubscribe(),this.getCryptoWalletSubscribe.unsubscribe()}get modalConstant(){return d.mX}get assetConstant(){return d.Zl}get operations(){return d.fW}get marktDataCategory(){return d.bb}ngOnInit(){this.cryptoCurrency=I.D.getUserData().attributes.money_stats_settings.cryptoCurrency,this.getOperationExchange()}ngAfterContentChecked(){this.cdref.detectChanges()}getOperationExchange(){this.routeSubscribe=this.route.params.subscribe(t=>{this.operationType=t.operationType,this.walletSelect=t.wallet,this.fiat=t.fiat;let a=c.A.isNullOrEmpty(this.shared.getCryptoWallets())?null:c.A.copyObject(this.shared.getCryptoWallets().slice());c.A.isNullOrEmpty(a)?this.getWalletsCryptoData(t.fiat):this.resumeData(a,t.fiat)})}getWalletsCryptoData(t){this.getCryptoWalletSubscribe=this.cryptoService.getWalletsCryptoData().subscribe(a=>{this.cryptoService.cache.cacheWalletsCryptoData(a),v.$.info(a.message,"CryptoDashboardComponent"),this.resumeData(a.data,t)})}resumeData(t,a){if(this.filterWalletsTransfer(t),this.wallet=t.find(n=>n.name==this.walletSelect),this.getCryptoPrices(a),this.operationType==this.operations.TRADING){let n=c.A.copyObject(this.wallet.assets);this.stablecoin=n.filter(i=>i.category==d.bb.STABLECOIN)}}filterWalletsTransfer(t){this.wallets=c.A.copyObject(t).filter(a=>a.name!=this.walletSelect)}getCryptoPrices(t){this.getPriceSubscribe=this.cryptoService.getCryptoPriceData(t).subscribe(a=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(a),v.$.info(a.message,"OperationExchangeComponent"),this.marketData=a.data})}emitOperationSelectAsset(t){switch(this.assetToSell=t,this.operationType){case d.fW.HOLDING:case d.fW.TRADING:this.investedBalance=this.assetToSell.balance,this.makeNewBalance();break;case d.fW.TRANSFER:this.balanceToTransfer=this.assetToSell.balance,this.marketDataSelected=t}}emitSelectAsset(t){t.id=void 0,t.lastUpdate=new Date,t.performance=0,t.trend=0,this.marketDataSelected=t;let a=c.A.copyObject(this.wallet.assets);this.assetInWallet=a&&a.find(n=>n.identifier==t.identifier)?a.find(n=>n.identifier==t.identifier):t,this.makeNewBalance()}makeNewBalance(){switch(this.operationType){case d.fW.HOLDING:case d.fW.TRADING:this.investedMoney=this.assetToSell.current_price*this.investedBalance,this.assetNewBalance=parseFloat((this.assetToSell.current_price*(this.investedBalance-this.fees)/this.marketDataSelected.current_price).toFixed(8));break;case d.fW.NEWINVESTMENT:this.assetNewBalance=parseFloat((this.investedMoney/this.marketDataSelected.current_price-this.fees).toFixed(8))}this.isEditFees=!1}selectTransferWallet(t){this.walletToTansfer=t,this.isWalletSelected=!0}exchangeInvestments(){let t=this.getAssetToBuy();t.lastUpdate=new Date;let a=new U,n=new B,i=0,r=new B;switch(this.operationType){case d.fW.NEWINVESTMENT:this.handleNewInvestment(t,a);break;case d.fW.HOLDING:case d.fW.TRADING:n=this.handleTradingHolding(t);break;case d.fW.TRANSFER:if(i=t.invested*(this.balanceToTransfer/t.value),t.balance-=this.balanceToTransfer,0==t.balance&&(i=t.invested),t.invested-=i,r=this.walletToTansfer.assets?c.A.copyObject(this.walletToTansfer.assets).find(l=>l.identifier==t.identifier):void 0,null==r&&(r=c.A.copyObject(this.marketDataSelected),r.balance=0,r.id=void 0,r.invested=0,r.performance=0,r.trend=0,r.lastUpdate=t.lastUpdate,r.history=[]),r.balance+=this.balanceToTransfer-this.fees,r.invested+=i,a.entryPriceValue=parseFloat((this.balanceToTransfer*this.marketDataSelected.current_price).toFixed(2)),a.entryQuantity=this.balanceToTransfer,a.exitPriceValue=parseFloat(((this.balanceToTransfer-this.fees)*this.marketDataSelected.current_price).toFixed(2)),a.exitQuantity=parseFloat((this.balanceToTransfer-this.fees).toFixed(8)),a.performance=0,a.trend=0,t.operations.filter(l=>"OPEN"===l.status).length>0){let l=t.operations.filter(h=>"OPEN"===h.status)[0];l.status="CLOSED",l.exitDate=new Date,l.exitPrice=t.current_price;let p=l.entryQuantity*t.current_price;l.exitPriceValue=parseFloat(p.toFixed(2)),l.exitQuantity=parseFloat(p.toFixed(8)),l.performance=parseFloat(((p-l.entryPriceValue)/p*100).toFixed(2)),l.trend=parseFloat((p-l.entryPriceValue).toFixed(2)),t.operations=[l]}}this.finalizeOperation(t,n,r,a)}getAssetToBuy(){return c.A.copyObject(this.operationType===d.fW.NEWINVESTMENT?this.assetInWallet:this.assetToSell)}handleNewInvestment(t,a){t.invested=(t.invested||0)+this.investedMoney,t.balance=(t.balance||0)+this.assetNewBalance,a.entryCoin=this.fiat,a.entryPrice=this.marketDataSelected.current_price,a.exitCoin=t.symbol,a.exitPrice=this.marketDataSelected.current_price}handleTradingHolding(t){let a=c.A.copyObject(this.assetInWallet);const n=this.calculatePercentageInvested(t.balance,this.investedBalance),i=this.calculateInvestment(t.invested,n),r=t.invested-i;return t.invested=Math.max(0,i),t.balance-=this.investedBalance,a.invested=(a.invested||0)+r,a.balance=(a.balance||0)+this.assetNewBalance,a}handleTransfer(t,a){}getTransferredAsset(t){let a=this.walletToTansfer.assets?.find(n=>n.identifier===t.identifier);return a||(a={...c.A.copyObject(this.marketDataSelected),balance:0,invested:0,performance:0,trend:0,history:[]}),a}closeOpenOperations(t){let a=t.operations.filter(n=>"OPEN"===n.status);if(a.length>0){let n=a[0];n.status="CLOSED",n.exitDate=new Date,n.exitPrice=t.current_price;let i=n.entryQuantity*t.current_price;n.exitPriceValue=parseFloat(i.toFixed(2)),n.exitQuantity=parseFloat(i.toFixed(8)),n.performance=parseFloat(((i-n.entryPriceValue)/i*100).toFixed(2)),n.trend=parseFloat((i-n.entryPriceValue).toFixed(2)),t.operations=[n]}}finalizeOperation(t,a,n,i){i.identifier=(0,Y.A)(),i.type=this.operationType,i.status=this.operationType!==d.fW.TRADING?"CLOSED":"OPEN",i.entryDate=new Date(this.operationDate),i.fees=this.fees,this.operationType!==d.fW.NEWINVESTMENT&&(i.entryCoin=t.symbol,i.entryPrice=this.marketDataSelected.category===d.bb.STABLECOIN?this.assetToSell.current_price:this.marketDataSelected.current_price,i.exitCoin=a.symbol,this.operationType!==d.fW.TRADING&&(i.exitPrice=this.marketDataSelected.category===d.bb.STABLECOIN?this.assetToSell.current_price:this.marketDataSelected.current_price)),this.operationType!==d.fW.TRANSFER&&(i.entryPriceValue=parseFloat(this.investedMoney.toFixed(2)),i.entryQuantity=this.assetNewBalance,this.operationType!==d.fW.TRADING&&(i.exitDate=new Date(this.operationDate),i.exitPriceValue=parseFloat(this.investedMoney.toFixed(2)),i.exitQuantity=this.investedMoney));let r=c.A.copyObject(this.wallet);if(this.operationType!==d.fW.TRANSFER)this.operationType===d.fW.NEWINVESTMENT?(t.operations=[i],r.assets=[t]):(a.operations=[i],r.assets=[a,t]),this.saveWallet(r);else{i.exitCoin=i.entryCoin,n.operations=[i];let l=c.A.copyObject(this.wallet),p=c.A.copyObject(this.walletToTansfer);l.assets=[t],p.assets=[n],this.saveWallets([l,p])}}saveWallet(t){this.saveWalletSubscribe=this.cryptoService.updateCryptoAsset(t).subscribe(a=>{v.$.info(a.message,"OperationExchangeComponent");let n=t.assets.length>1?this.translate.instant("response.operation").replace("$OP1$",t.assets[1].symbol).replace("$OP2$",t.assets[0].symbol):this.translate.instant("response.operation").replace("$OP1$","USD").replace("$OP2$",t.assets[0].symbol);H.X.toastMessage(Q.J.SUCCESS,n),this.router.navigate(["/crypto/dashboard"])})}saveWallets(t){this.saveWalletsSubscribe=this.cryptoService.addOrUpdateCryptoAssets(t).subscribe(a=>{v.$.info(a.message,"OperationExchangeComponent"),H.X.toastMessage(Q.J.SUCCESS,this.translate.instant("response.operation").replace("$OP1$",t[0].name).replace("$OP2$",t[1].name)),this.router.navigate(["/crypto/dashboard"])})}editBalance(){this.isEditBalance=!1,this.isEditSellBalance=!1,this.makeNewBalance()}operationsValidation(t){switch(this.operationType){case d.fW.NEWINVESTMENT:return t.invalid||!this.disableOnEdit();case d.fW.HOLDING:case d.fW.TRADING:return t.invalid||!this.validateSelect()||!this.disableOnEdit()||0==this.assetToSell.balance;case d.fW.TRANSFER:return t.invalid||!this.validateSelect()||!this.disableOnEdit()||!this.isWalletSelected;default:return!1}}disableOnEdit(){return!this.isEditBalance&&!this.isEditDate}validateSelect(){return!(!this.wallet.assets&&this.operationType!=d.fW.NEWINVESTMENT)}calculateInvestment(t,a){return t*(a/100)}calculatePercentageInvested(t,a){return 0===t?0:t===a?100:(t-a)/t*100}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(O.d),e.rXU(C.nX),e.rXU(C.Ix),e.rXU(e.gRc),e.rXU(f.c$))};static \u0275cmp=e.VBU({type:s,selectors:[["app-operation-exchange"]],standalone:!1,decls:44,vars:30,consts:[["openInfo",""],["f","ngForm"],["investedMoney1","ngModel"],["price1","ngModel"],["assetHoldingBalance1","ngModel"],["assetTradingBalance1","ngModel"],["balanceToTransfer1","ngModel"],["assetNewBalance1","ngModel"],["date1","ngModel"],[1,"mx-auto","section-width"],[3,"emitInfo","routerLinks","title","isMenuActive","isInfoActive"],["type","hidden","data-bs-toggle","modal"],["id","appCapsule"],[1,"row","margin"],[1,"col-12","col-md-6"],[1,"title-section","row"],[1,"col-2","col-md-2","col-xl-1",2,"display","flex","align-items","center"],["alt","",1,"walletLogo",3,"src"],[1,"col-10","col-md-10","col-xl-11"],[1,"title"],[1,"col-6","hidden_mobile","text-end"],[1,"title-section"],["action","",2,"margin-bottom","50px"],[4,"ngIf"],[1,"mx-auto",2,"max-width","1500px"],["class","section mt-2",4,"ngIf"],["class","alert alert-danger mb-1","role","alert",4,"ngIf"],["class","section",4,"ngIf"],[1,"section"],[1,"fontsize-caption","mt-2"],[1,"exchange-line"],[1,"exchange-icon"],["name","swap-vertical-outline"],["class","form-button-group transparent",4,"ngIf"],[3,"operationType","modalId"],[1,"title-section","text-center","mb-3"],[1,"title",2,"margin-top","0px !important"],["role","alert",1,"alert","alert-danger","m-2","text-center"],[1,"container","parent"],[1,"row"],["class","col text-center",4,"ngFor","ngForOf"],[1,"col","text-center"],["type","radio","name","imgbackground","required","",1,"d-none","imgbgchk",3,"click","id"],[3,"for"],[1,"card",2,"min-width","120px"],[1,"card-body"],["width","48","height","48","alt","Image 2",1,"border_round","mb-1",3,"src"],[1,"tick_container"],[1,"tick"],[1,"fa","fa-check"],[1,"section","mt-2"],[1,"card","border"],[1,"form-group","basic","p-0"],[1,"exchange-heading"],["for","fromAmount",1,"group-label"],[1,"exchange-wallet-info"],["class","clickable",3,"click",4,"ngIf"],["class","row editFees",4,"ngIf"],[1,"exchange-group"],[1,"input-col"],["type","number","id","fromAmount","placeholder","0","id","investedMoney","name","investedMoney","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"keyup","ngModelChange","ngModel","value"],[1,"select-col"],[1,"form-select","form-select-lg","currency"],["selected","",3,"value"],[1,"clickable",3,"click"],[1,"row","editFees"],[1,"col-7","col-md-8"],[1,"form-group","basic"],[1,"input-wrapper"],["for","price",1,"label"],["type","number","id","price","name","price","required","",1,"form-control",3,"ngModelChange","ngModel","value","placeholder"],[1,"clear-input"],["name","close-circle"],[1,"col-1"],["type","button",1,"btn","btn-primary","rounded","me-1",2,"vertical-align","-25px",3,"click","disabled"],["role","alert",1,"alert","alert-danger","mb-1"],["for","toAmount",1,"group-label"],[1,"exchange-wallet-info",2,"position","absolute","bottom","9px","right","13px"],[1,"col-md-8","col-7","mt-1"],["type","number","id","toAmount","placeholder","0","id","assetHoldingBalance","name","assetHoldingBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"keyup","ngModelChange","ngModel","value","max"],[1,"col-md-4","col-5","mb-2",2,"max-height","55px"],[3,"emitSelectAsset","wrapperID","fiat","isOperation","cryptoPrices"],["type","number","id","toTradingAmount","placeholder","0","id","assetTradingBalance","name","assetTradingBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"keyup","ngModelChange","ngModel","value","max"],[1,"row","text-start"],[1,"d-flex","justify-content-start"],["class","row","style","max-width: 300px",4,"ngIf"],[1,"row",2,"max-width","300px"],[1,"col-md","col-sm-12"],["type","number","id","price","name","price","required","",1,"form-control",2,"max-width","300px",3,"ngModelChange","ngModel","value","placeholder"],[1,"col",2,"max-width","80px"],[1,"col-md-8","col-7"],["type","number","id","toNewBalanceAmount","placeholder","0","id","balanceToTransfer","name","balanceToTransfer","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModelChange","ngModel","value"],[1,"col-md-4","col-5",2,"max-height","55px"],["type","number","id","toNewBalanceAmount","placeholder","0","id","assetNewBalance","name","assetNewBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModelChange","ngModel","value"],[1,"row","fontsize-caption"],[1,"col-6"],[1,"row","text-end"],[1,"d-flex","justify-content-end"],[1,"col"],["for","date",1,"label"],["type","date","id","date","name","date","required","",1,"form-control",3,"ngModelChange","ngModel","value"],[1,"form-button-group","transparent"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click","disabled"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",9)(1,"app-crypto-header",10),e.bIt("emitInfo",function(){e.eBV(i);const l=e.sdS(3);return e.Njj(l.click())}),e.k0s(),e.nrm(2,"input",11,0),e.j41(4,"div",12)(5,"div",13)(6,"div",14)(7,"div",15)(8,"div",16),e.nrm(9,"img",17),e.k0s(),e.j41(10,"div",18)(11,"h2",19),e.EFF(12),e.k0s(),e.j41(13,"small")(14,"p"),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()(),e.j41(17,"div",20)(18,"div",21)(19,"h2",19),e.EFF(20),e.k0s(),e.j41(21,"small")(22,"p"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()()()(),e.j41(25,"form",22,1),e.DNE(27,vs,9,5,"div",23),e.j41(28,"section",24),e.DNE(29,Ts,19,9,"div",25)(30,Fs,3,3,"div",26)(31,Ds,25,18,"div",27)(32,ws,25,18,"div",27),e.j41(33,"div",28),e.DNE(34,Os,5,2,"div",29),e.j41(35,"div",30)(36,"div",31),e.nrm(37,"ion-icon",32),e.k0s()()(),e.DNE(38,Ns,19,11,"div",27)(39,Ps,3,3,"div",26)(40,Bs,21,14,"div",27)(41,zs,9,4,"div",25),e.k0s(),e.DNE(42,Js,4,4,"div",33),e.k0s()()(),e.nrm(43,"app-info-modal",34)}2&a&&(e.R7$(),e.Y8G("routerLinks","/crypto/dashboard")("title",n.operationType)("isMenuActive",!1)("isInfoActive",!0),e.R7$(),e.x72("data-bs-target","#",n.modalConstant.INFO,""),e.R7$(7),e.FS9("src",n.wallet.img,e.B4B),e.R7$(3),e.JRh(n.wallet.name),e.R7$(3),e.E5c(" ",e.bMT(16,26,"operation_exchange_page.balance")," ",n.wallet.balance," ",n.fiat," "),e.R7$(5),e.JRh(n.operationType),e.R7$(3),e.JRh(e.bMT(24,28,"operation_exchange_page.type")),e.R7$(4),e.Y8G("ngIf",n.operationType==n.operations.TRANSFER),e.R7$(2),e.Y8G("ngIf",n.operationType==n.operations.NEWINVESTMENT),e.R7$(),e.Y8G("ngIf",!n.validateSelect()&&n.operationType!=n.operations.TRANSFER),e.R7$(),e.Y8G("ngIf",n.operationType==n.operations.HOLDING&&n.validateSelect()),e.R7$(),e.Y8G("ngIf",n.operationType==n.operations.TRADING),e.R7$(2),e.vxM(n.validateSelect()&&n.marketDataSelected.category==n.marktDataCategory.STABLECOIN&&n.operationType==n.operations.HOLDING?34:-1),e.R7$(4),e.Y8G("ngIf",n.operationType==n.operations.TRANSFER&&n.validateSelect()),e.R7$(),e.Y8G("ngIf",!n.validateSelect()&&n.operationType==n.operations.TRANSFER),e.R7$(),e.Y8G("ngIf",n.operationType!=n.operations.TRANSFER),e.R7$(),e.Y8G("ngIf",n.validateSelect()),e.R7$(),e.Y8G("ngIf",n.operationType),e.R7$(),e.Y8G("operationType",n.operationType)("modalId",n.modalConstant.INFO))},dependencies:[_.Sq,_.bT,G,ne,J.Z,T.iq,m.qT,m.xH,m.y7,m.me,m.Q0,m.BC,m.cb,m.YS,m.tU,m.zX,m.vS,m.cV,_.vh,f.D9],styles:["@media screen and (max-width: 780px){.title[_ngcontent-%COMP%]{font-size:larger}.margin[_ngcontent-%COMP%]{margin-top:10px!important;margin-left:20px!important;margin-right:20px!important}.walletLogo[_ngcontent-%COMP%]{vertical-align:-60px!important}.editFees[_ngcontent-%COMP%]{max-width:210px}}.margin[_ngcontent-%COMP%]{margin:20px}.walletLogo[_ngcontent-%COMP%]{border-radius:50%;vertical-align:-65px;width:80px}.border[_ngcontent-%COMP%]{border-color:#372648!important}.col[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer;transition:transform 1s;object-fit:cover}.col[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{overflow:hidden;position:relative}.imgbgchk[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > .tick_container[_ngcontent-%COMP%]{opacity:1}.imgbgchk[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{transform:scale(1.25);transition:.8s ease;opacity:.3}.tick_container[_ngcontent-%COMP%]{transition:.8s ease;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);cursor:pointer;text-align:center}.tick[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-size:16px;padding:6px 12px;height:40px;width:40px;border-radius:100%}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}"]})}return s})();function Qs(s,o){if(1&s&&(e.j41(0,"div",4)(1,"div",5)(2,"h2",6),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"a",7),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.nrm(8,"app-operations-list",8),e.k0s()),2&s){const t=o.$implicit,a=e.XpG();e.R7$(3),e.Lme(" ",e.bMT(4,8,"crypto_asset_page.details.operations")," for ",t," "),e.R7$(3),e.JRh(e.bMT(7,10,"crypto_asset_page.details.view")),e.R7$(2),e.Y8G("modalID",a.modalConstant.CRYPTOOPERATION+t)("walletsAsset",a.cryptoWallets)("isFullList",!0)("operationsMapByYear",a.operationsMapByYear)("year",t)}}let Ks=(()=>{class s{cryptoService;shared;route;routeSubscribe=new g.yU;operations=[];cryptoCurrency="";uniqueYears;operationsMapByYear=new Map;operationSelect;cryptoWallets=[];constructor(t,a,n){this.cryptoService=t,this.shared=a,this.route=n}get modalConstant(){return d.mX}ngOnDestroy(){this.routeSubscribe.unsubscribe()}ngOnInit(){this.cryptoWallets=this.shared.getCryptoWallets(),this.routeSubscribe=this.route.params.subscribe(t=>{this.cryptoCurrency=t.currency;let a=this.cryptoService.operationsMap.get(t.uuid);this.mapOperationsByYear(a)})}mapOperationsByYear(t){let a=[];t.forEach(i=>{a.push(i.entryDate.toString().split("-")[0])});let n=c.A.copyObject(t);this.uniqueYears=[...new Set(a)],this.uniqueYears.forEach(i=>{this.operationsMapByYear?.set(i,n.filter(r=>r.entryDate.toString().includes(i)))})}selectOperation(t){this.operationSelect=t}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(O.d),e.rXU(C.nX))};static \u0275cmp=e.VBU({type:s,selectors:[["app-operations"]],outputs:{cryptoWallets:"cryptoWallets"},standalone:!1,decls:5,vars:5,consts:[[1,"mx-auto","section-width"],[3,"title","isMenuActive"],["id","appCapsule"],["class","section mt-4",4,"ngFor","ngForOf"],[1,"section","mt-4"],[1,"section-heading"],[1,"title"],["hidden","","href","#",1,"link"],[3,"modalID","walletsAsset","isFullList","operationsMapByYear","year"]],template:function(a,n){1&a&&(e.j41(0,"div",0),e.nrm(1,"app-crypto-header",1),e.nI1(2,"translate"),e.j41(3,"div",2),e.DNE(4,Qs,9,12,"div",3),e.k0s()()),2&a&&(e.R7$(),e.Y8G("title",e.bMT(2,3,"operation_exchange_page.history"))("isMenuActive",!1),e.R7$(3),e.Y8G("ngForOf",null==n.uniqueYears?null:n.uniqueYears.slice()))},dependencies:[_.Sq,G,q,f.D9],styles:[".icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}"]})}return s})(),ei=(()=>{class s{cryptoService;route;shared;getDashboardSubscribe=new g.yU;marketDataSubscribe=new g.yU;getCryptoWalletSubscribe=new g.yU;cryptoCurrency;marketData=[];updateDate;search="";filterMarketData=[];cryptoDashboard=new E;cryptoWallets=[];constructor(t,a,n){this.cryptoService=t,this.route=a,this.shared=n}get modalConstant(){return d.mX}ngOnDestroy(){this.marketDataSubscribe.unsubscribe(),this.getDashboardSubscribe.unsubscribe(),this.getCryptoWalletSubscribe.unsubscribe()}ngOnInit(){S.i.hideFooter(),this.getMarketData()}getMarketData(){this.route.params.subscribe(t=>{this.cryptoCurrency=t.currency,this.marketDataSubscribe=this.cryptoService.getCryptoPriceData(t.currency).subscribe(a=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(a),v.$.info(a.message,"MarketDataComponent"),this.marketData=a.data,this.updateDate=this.marketData[0].updateDate,this.filterMarketData=a.data})})}onKeySearch(t){setTimeout(()=>{this.filterMarketDatas(this.search)},10)}filterMarketDatas(t){this.filterMarketData=this.marketData.filter(a=>a.name?.toLocaleLowerCase().includes(t.toLocaleLowerCase())||a.symbol?.toLocaleLowerCase().includes(t.toLocaleLowerCase()))}emitOperationClick(t){this.getDashboard(),this.getWalletsCryptoData()}getDashboard(){c.A.isNullOrEmpty(this.shared.getCryptoDashboardData())?this.getDashboardSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(t=>{this.cryptoService.cache.cacheCryptoDashboardData(t),v.$.info(t.message,"MarketDataComponent"),this.cryptoDashboard=this.shared.setCryptoDashboardData(t.data)}):this.cryptoDashboard=this.shared.getCryptoDashboardData()}getWalletsCryptoData(){c.A.isNullOrEmpty(this.shared.getCryptoWallets())?this.getCryptoWalletSubscribe=this.cryptoService.getWalletsCryptoData().subscribe(t=>{this.cryptoService.cache.cacheWalletsCryptoData(t),v.$.info(t.message,"MarketDataComponent"),this.cryptoWallets=this.shared.setCryptoWallets(t.data)}):this.cryptoWallets=this.shared.getCryptoWallets()}static \u0275fac=function(a){return new(a||s)(e.rXU(M),e.rXU(C.nX),e.rXU(O.d))};static \u0275cmp=e.VBU({type:s,selectors:[["app-market-data"]],outputs:{cryptoDashboard:"cryptoDashboard",cryptoWallets:"cryptoWallets"},standalone:!1,decls:30,vars:28,consts:[["name","ngModel"],[1,"mx-auto","section-width"],[3,"emitOperationClick","title"],["id","appCapsule"],[1,"section","mt-2"],[1,"row"],[1,"col-12","col-md-8"],[1,"title-section",2,"margin-bottom","0px"],[1,"title"],[2,"margin-top","-10px"],["hidden","",1,"col-12","col-md-4"],[1,"form-group","basic","margin"],[1,"input-wrapper"],["spellcheck","false","type","text",1,"form-control",3,"ngModelChange","keyup","ngModel","placeholder"],[1,"clear-input"],["name","close-circle"],[3,"tableId","filterMarketData"],[3,"modalId","wallets","assets","currency","statsAssetsDays"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"app-crypto-header",2),e.nI1(2,"translate"),e.bIt("emitOperationClick",function(l){return e.eBV(i),e.Njj(n.emitOperationClick(l))}),e.k0s(),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p",9)(12,"small"),e.EFF(13),e.nI1(14,"translate"),e.nI1(15,"date"),e.k0s(),e.EFF(16," | "),e.j41(17,"small"),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"div",10)(21,"div",11)(22,"div",12)(23,"input",13,0),e.nI1(25,"translate"),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.search,l)||(n.search=l),e.Njj(l)}),e.bIt("keyup",function(l){return e.eBV(i),e.Njj(n.onKeySearch(l))}),e.k0s(),e.j41(26,"i",14),e.nrm(27,"ion-icon",15),e.k0s()()()()(),e.nrm(28,"app-market-data-table",16),e.k0s()()(),e.nrm(29,"app-operations-modal",17)}2&a&&(e.R7$(),e.FS9("title",e.bMT(2,15,"market_data_page.title")),e.R7$(8),e.JRh(e.bMT(10,17,"market_data_page.title")),e.R7$(4),e.Lme("",e.bMT(14,19,"market_data_page.updated")," ",e.i5U(15,21,n.updateDate,"d MMM y, HH:mm"),""),e.R7$(5),e.Lme(" ",e.bMT(19,24,"market_data_page.currency")," ",n.cryptoCurrency,""),e.R7$(5),e.FS9("placeholder",e.bMT(25,26,"market_data_page.search")),e.R50("ngModel",n.search),e.R7$(5),e.Y8G("tableId","market_data_table_full")("filterMarketData",n.filterMarketData),e.R7$(),e.Y8G("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoWallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},dependencies:[G,X,se,T.iq,m.me,m.BC,m.vS,_.vh,f.D9],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -60px 30px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}.margin[_ngcontent-%COMP%]{margin-top:40px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:15px!important;margin-bottom:15px!important}.margin[_ngcontent-%COMP%]{margin-top:0!important}}.section[_ngcontent-%COMP%]{margin-bottom:-40px}"]})}return s})();var L=u(641);const ti=[{path:"",component:ye,children:[{path:"dashboard",component:Vt,canActivate:[L.o]},{path:"requirements",component:Kt,canActivate:[L.o],data:{animation:P.I_}},{path:"asset",component:hn,canActivate:[L.o],data:{animation:P.I_}},{path:"asset/details/:identifier",component:Ra,canActivate:[L.o]},{path:"resume",component:bs,canActivate:[L.o],data:{animation:P.I_}},{path:"operation/:operationType/:wallet/:fiat",component:Zs,canActivate:[L.o],data:{animation:P.I_}},{path:"operations/:currency/:uuid",component:Ks,data:{animation:P.I_}},{path:"market-data/:currency",component:ei,data:{animation:P.I_}}]}];let ni=(()=>{class s{static \u0275fac=function(a){return new(a||s)};static \u0275mod=e.$C({type:s});static \u0275inj=e.G2t({imports:[C.iI.forChild(ti),C.iI]})}return s})();var ai=u(7315);let si=(()=>{class s{static \u0275fac=function(a){return new(a||s)};static \u0275mod=e.$C({type:s});static \u0275inj=e.G2t({imports:[ni,_.MD,he.U,pe.I,V.J,ai.Q,me.G,T.bv.forRoot(),m.YN,de.b,f.h.forChild({loader:{provide:f.Wr,useFactory:ce.M,deps:[j.Qq]}}),le.WJ.register("ngsw-worker.js",{enabled:F.c.production,registrationStrategy:"registerWhenStable:30000"})]})}return s})()}}]);