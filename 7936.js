"use strict";(self.webpackChunkangular_moneystats=self.webpackChunkangular_moneystats||[]).push([[7936],{7936:(Yi,z,m)=>{m.r(z),m.d(z,{CryptoModule:()=>Pi});var u=m(6895),A=m(6521),p=m(4006),_=m(4484),E=m(529),de=m(9256),y=m(4766),pe=m(6684),ge=m(7461),ue=m(3700),he=m(8779),me=m(8151),v=m(8093),T=m(727),L=m(7327),c=m(3648),e=m(4650),B=m(3993),J=m(9646),_e=m(8161),F=m(991),Ze=m(8063);class O{constructor(){this.balance=0,this.currency="USD",this.btcBalance=0,this.lastUpdate=new Date,this.statsAssetsDays=[],this.holdingLong=new X,this.trading=new X,this.assets=[],this.wallets=[]}}class X{constructor(){this.balance=0,this.performance=0,this.trend=0,this.lastUpdate=new Date}}class S extends F.v{constructor(){super(...arguments),this.balance=0,this.invested=0,this.lastUpdate=new Date,this.performance=0,this.trend=0,this.history=[],this.operations=[]}}class N extends F.v{}var H=m(5203),ve=m(5090);let C=(()=>{class a{constructor(t,n,i){this.http=t,this.swalService=n,this.cache=i,this.environment=y.N,this.user=new Ze.n5,this.currency=_e.s.USD,this.cryptoDashboard=new O,this.assets=[],this.operationsMap=new Map,this.cryptoResume=new Map}getCryptoDashboardData(){if(this.cache.getCryptoDashboardCache())return(0,J.of)(this.cache.getCryptoDashboardCache());const t=localStorage.getItem(c.Vs.ACCESSTOKEN),n=new E.WM({"Content-Type":"application/json",Authorization:t});return this.user.mockedUser?this.http.get(y.N.getCryptoDashboardMock):this.http.get(y.N.getCryptoDashboardDataUrl,{headers:n})}getCryptoPriceData(t){if(this.cache.getMarketDataByCurrencyCache())return(0,J.of)(this.cache.getMarketDataByCurrencyCache());const n=localStorage.getItem(c.Vs.ACCESSTOKEN),i=new E.WM({"Content-Type":"application/json",Authorization:n});return this.user.mockedUser?this.http.get(y.N.getCryptoPriceMock):this.http.get(y.N.getMarketDataUrl+"?currency="+t,{headers:i})}getCryptoResumeData(){if(this.cache.getCryptoResumeCache())return(0,J.of)(this.cache.getCryptoResumeCache());const t=localStorage.getItem(c.Vs.ACCESSTOKEN),n=new E.WM({"Content-Type":"application/json",Authorization:t});return this.user.mockedUser?this.http.get(y.N.getCryptoResumeMock):this.http.get(y.N.getCryptoResumeDataUrl,{headers:n})}getCryptoAssetsData(){if(this.cache.getAssetsCache())return(0,J.of)(this.cache.getAssetsCache());const t=localStorage.getItem(c.Vs.ACCESSTOKEN),n=new E.WM({"Content-Type":"application/json",Authorization:t});return this.user.mockedUser?this.http.get(y.N.getCryptoAssetsMock):this.http.get(y.N.getCryptoAssetDataUrl,{headers:n})}getCryptoDetails(t){const n=localStorage.getItem(c.Vs.ACCESSTOKEN),i=new E.WM({"Content-Type":"application/json",Authorization:n});return this.user.mockedUser?this.http.get(y.N.getCryptoDetailsMock):this.http.get(y.N.getCryptoDetailsDataUrl+"?identifier="+t,{headers:i})}addOrUpdateCryptoAsset(t){this.cache.clearCache();const n=localStorage.getItem(c.Vs.ACCESSTOKEN),i=new E.WM({"Content-Type":"application/json",Authorization:n});if(this.user.mockedUser){let o=new F.C;return o.data=t,(0,J.of)(o)}return this.http.post(y.N.addCryptoAssetDataUrl,t,{headers:i})}addOrUpdateCryptoAssets(t){this.cache.clearCache();const n=localStorage.getItem(c.Vs.ACCESSTOKEN),i=new E.WM({"Content-Type":"application/json",Authorization:n});if(this.user.mockedUser){let o=new F.C;return o.data=t,(0,J.of)(o)}return this.http.post(y.N.addCryptoAssetsDataUrl,t,{headers:i})}getAssetList(t){const n=[];return t.forEach(i=>{i.assets.forEach(o=>{var r;if(n.find(l=>l.name==o.name)){const l=n.indexOf(n.find(d=>d.name==o.name));n[l].balance+=o.balance,n[l].value+=o.value,n[l].performance=(n[l].performance+o.performance)/2,n[l].trend=n[l].trend+o.trend,null===(r=o.history)||void 0===r||r.forEach(d=>{let h=n[l].history.find(Z=>Z.date==d.date);n[l].history.find(Z=>Z.date==d.date).balance+=d.balance,n[l].history.find(Z=>Z.date==d.date).trend+=d.trend,n[l].history.find(Z=>Z.date==d.date).percentage=(h.percentage+d.percentage)/2}),o.operations.forEach(d=>{n[l].operations.push(d)}),n[l].operations.sort(d=>null!=d.exitDate?d.exitDate:d.entryDate)}else n.push(o)})}),n}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(E.eN),e.LFG(H.J),e.LFG(ve.Q))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var W=m(645),Ae=m(894);const Te=function(a){return["/crypto/market-data",a]};function ye(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"a",2),e.NdJ("click",function(){return e.CHM(t),e.oxw().vibrate()}),e.TgZ(2,"div",3),e._UZ(3,"ion-icon",4),e.TgZ(4,"strong"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"a",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().vibrate()}),e.TgZ(8,"div",3),e.TgZ(9,"div",6),e._UZ(10,"img",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().vibrate()}),e.TgZ(12,"div",3),e._UZ(13,"ion-icon",9),e.TgZ(14,"strong"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",10),e.TgZ(18,"div",3),e._UZ(19,"ion-icon",11),e.TgZ(20,"strong"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(12,Te,null==t.user||null==t.user.settings?null:t.user.settings.cryptoCurrency)),e.xp6(4),e.Oqu(e.lcZ(6,6,"crypto.footer.tab4")),e.xp6(5),e.MGl("src","",t.environment.baseUrlSettings,"assets/images/logos/favicon_trasparent.png",e.LSH),e.xp6(5),e.Oqu(e.lcZ(16,8,"crypto.footer.tab3")),e.xp6(2),e.Q2q("data-bs-target","#",t.modalConstant.ADDOPERATIONS,""),e.xp6(4),e.Oqu(e.lcZ(22,10,"crypto.footer.tab1"))}}let fe=(()=>{class a{constructor(t,n,i,o,r){this.router=t,this.appService=n,this.cryptoService=i,this.contexts=o,this.dashboardService=r,this.cryptoDashboardSub=new T.w0,this.environment=y.N,this.isFooterActive=!1,t.events.subscribe(l=>{let d=l.url;this.isFooterActive=!d||"/crypto/requirements"!=d&&!d.includes("/crypto/asset/details")})}get modalConstant(){return c.Dq}ngOnDestroy(){this.cryptoDashboardSub.unsubscribe()}ngOnInit(){this.user=this.appService.user,this.cryptoDashboardSub=this.cryptoService.getCryptoDashboardData().subscribe(t=>{this.cryptoService.cache.cacheCryptoDashboardData(t);let n=t.data;if(null!=n.wallets&&0!=n.wallets.length){let i=n.wallets.filter(o=>"Crypto"==o.category);(null==i||0==i.length||!i.find(o=>null!=o.assets))&&this.onBoard()}else this.onBoard()})}onBoard(){this.appService.isOnboardingCrypto?this.router.navigate(["crypto/requirements"]):(this.appService.isOnboardingCrypto=!0,this.router.navigate(["on-boarding"]))}vibrate(){this.user=this.appService.user,this.appService.vibrate()}getRouteAnimationData(){var t,n,i,o;return null===(o=null===(i=null===(n=null===(t=this.contexts.getContext("primary"))||void 0===t?void 0:t.route)||void 0===n?void 0:n.snapshot)||void 0===i?void 0:i.data)||void 0===o?void 0:o.animation}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.F0),e.Y36(B.z),e.Y36(C),e.Y36(v.y6),e.Y36(W.s))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-crypto"]],decls:4,vars:2,consts:[["id","footer","class","appBottomMenu mx-auto",4,"ngIf"],["id","footer",1,"appBottomMenu","mx-auto"],[1,"item",3,"routerLink","click"],[1,"col"],["name","trending-up"],["routerLink","",1,"item",3,"click"],[1,"action-button","large"],["alt","","width","60","height","60",3,"src"],["routerLink","/wallet",1,"item",3,"click"],["name","wallet"],["hidden","","data-bs-toggle","modal",1,"item"],["name","swap-horizontal"]],template:function(t,n){1&t&&(e._UZ(0,"app-loading"),e.TgZ(1,"div"),e._UZ(2,"router-outlet"),e.qZA(),e.YNc(3,ye,23,14,"div",0)),2&t&&(e.xp6(1),e.Q6J("@routeAnimations",n.getRouteAnimationData()),e.xp6(2),e.Q6J("ngIf",n.isFooterActive))},directives:[Ae.N,v.lC,u.O5,v.yS,A.Fo,A.gu],pipes:[_.X$],styles:[".appBottomMenu[_ngcontent-%COMP%]{max-width:250px;border-radius:20px;height:45px;bottom:10px}"],data:{animation:[L.g8]}}),a})();var g=m(5930),I=m(3859),M=m(97),K=m(8116),be=m(385);function xe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"a",2),e.NdJ("click",function(){return e.CHM(t),e.oxw().goToInfo()}),e._UZ(2,"ion-icon",8),e.qZA(),e.qZA()}}const Ce=function(a){return["/crypto/market-data",a]};function qe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",9),e.TgZ(2,"div",10),e.TgZ(3,"a",11),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",12),e.TgZ(7,"h6",13),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"a",14),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"a",15),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"div",16),e.TgZ(17,"a",17),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"a",18),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"a",19),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.TgZ(26,"div",20),e.TgZ(27,"a",21),e._UZ(28,"img",22),e._UZ(29,"span",23),e.qZA(),e.TgZ(30,"div",12),e.TgZ(31,"h6",13),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"a",24),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"a",25),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"div",16),e.TgZ(41,"a",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().logout()}),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,15,"crypto.header.tabOpt")," "),e.xp6(4),e.hij(" ",e.lcZ(9,17,"dashboard.sidebar.dropdown.options")," "),e.xp6(2),e.Q6J("routerLink",e.VKq(37,Ce,t.userService.user.settings.cryptoCurrency)),e.xp6(1),e.Oqu(e.lcZ(12,19,"crypto.header.tab5")),e.xp6(3),e.Oqu(e.lcZ(15,21,"crypto.header.tab2")),e.xp6(4),e.Oqu(e.lcZ(19,23,"crypto.header.tab1")),e.xp6(2),e.Q2q("data-bs-target","#",t.modalConstant.ADDOPERATIONS,""),e.xp6(1),e.hij(" ",e.lcZ(22,25,"crypto.header.tab3")," "),e.xp6(3),e.Oqu(e.lcZ(25,27,"crypto.header.tab4")),e.xp6(4),e.s9C("src",t.userService.user.profilePhoto,e.LSH),e.xp6(4),e.hij(" ",e.lcZ(33,29,"dashboard.sidebar.dropdown.options")," "),e.xp6(3),e.hij(" ",e.lcZ(36,31,"dashboard.sidebar.dropdown.settings"),""),e.xp6(2),e.Q2q("data-bs-target","#",t.modalConstant.VERSION,""),e.xp6(1),e.hij(" ",e.lcZ(39,33,"dashboard.sidebar.dropdown.version"),""),e.xp6(4),e.Oqu(e.lcZ(43,35,"dashboard.sidebar.dropdown.logout"))}}let k=(()=>{class a{constructor(t,n,i,o){this.location=t,this.router=n,this.userService=i,this.appService=o,this.title="Crypto",this.isMenuActive=!0,this.isInfoActive=!1,this.emitInfo=new e.vpe,n.events.subscribe(r=>{this.isMenuActive="/crypto/requirements"!=r.url})}get modalConstant(){return c.Dq}ngOnInit(){}goBack(){this.vibrate(),null!=this.routerLinks?this.router.navigate([this.routerLinks]):this.location.back()}logout(){this.userService.logout()}goToInfo(){this.emitInfo.emit("go")}vibrate(){this.appService.vibrate()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(u.Ye),e.Y36(v.F0),e.Y36(K.K),e.Y36(B.z))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-crypto-header"]],inputs:{routerLinks:"routerLinks",title:"title",isMenuActive:"isMenuActive",isInfoActive:"isInfoActive"},outputs:{emitInfo:"emitInfo"},decls:9,vars:5,consts:[["id","cryptoHeader",1,"appHeader","no-border","mx-auto"],[1,"left"],[1,"headerButton","goBack","clickable",3,"click"],["name","arrow-back-outline"],[1,"pageTitle","clickable",3,"routerLink","click"],["class","right",4,"ngIf"],[3,"modalId"],[1,"right"],["name","alert-circle-outline"],[1,"menu","hidden_mobile"],[1,"dropdown","d-inline"],["href","#","data-bs-toggle","dropdown",1,"d-inline","me-2","title-page"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"dropdown-item",3,"routerLink"],["routerLink","/crypto/asset",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/wallet",1,"dropdown-item"],["data-bs-toggle","modal","aria-disabled","true",1,"d-inline","me-2","title-page","clickable","effect-underline"],["routerLink","/crypto/resume",1,"d-inline","me-2","title-page"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown",1,"headerButton"],["alt","image",1,"imaged","w32",3,"src"],[1,"badge","badge-danger"],["routerLink","/settings",1,"dropdown-item"],["href","#","data-bs-toggle","modal",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e.NdJ("click",function(){return n.goBack()}),e._UZ(3,"ion-icon",3),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.NdJ("click",function(){return n.vibrate()}),e._uU(5),e.qZA(),e.YNc(6,xe,3,0,"div",5),e.YNc(7,qe,44,39,"div",5),e.qZA(),e._UZ(8,"app-version",6)),2&t&&(e.xp6(4),e.s9C("routerLink",n.isMenuActive?"/crypto/dashboard":""),e.xp6(1),e.hij(" ",n.title," "),e.xp6(1),e.Q6J("ngIf",n.isInfoActive&&!n.isMenuActive),e.xp6(1),e.Q6J("ngIf",n.isMenuActive),e.xp6(1),e.Q6J("modalId",n.modalConstant.VERSION))},directives:[A.gu,v.rH,A.YI,u.O5,v.yS,A.Fo,be.g],pipes:[_.X$],styles:[".imaged[_ngcontent-%COMP%]{width:32px!important;height:32px!important;object-position:center center!important;object-fit:cover!important}.headerButton[_ngcontent-%COMP%]{max-width:200px}.dropdown-header[_ngcontent-%COMP%]{margin-top:0}.menu[_ngcontent-%COMP%]{margin-top:15px}.appHeader[_ngcontent-%COMP%]{background-color:#121212!important;max-width:2500px}"]}),a})();var we=m(7149),Oe=m(6608),ee=m(4837);function Me(a,s){if(1&a&&(e.TgZ(0,"tr"),e.TgZ(1,"th",7),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",8),e._uU(5),e.qZA(),e.TgZ(6,"td",9),e._uU(7),e.qZA(),e.TgZ(8,"td",10),e.TgZ(9,"div",11),e.TgZ(10,"span"),e._UZ(11,"ion-icon",12),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"td",10),e._uU(14),e.qZA(),e.TgZ(15,"td",10),e._uU(16),e.qZA(),e.TgZ(17,"td",10),e._uU(18),e.qZA(),e.qZA()),2&a){const t=s.$implicit;e.xp6(2),e.hij("#",t.rank,""),e.xp6(2),e.s9C("src",t.icon,e.LSH),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.currency," ",t.current_price," "),e.xp6(3),e.Gre("badge ",0==t.price_change_percentage_24h?"badge-warning":t.price_change_percentage_24h>0?"badge-success":"badge-danger",""),e.xp6(1),e.s9C("name",t.price_change_percentage_24h>0?"arrow-up-outline":"arrow-down-outline"),e.xp6(1),e.AsE(" ",null!=t.price_change_24h?t.price_change_24h.toFixed(2):t.price_change_24h," (",null!=t.price_change_percentage_24h?t.price_change_percentage_24h.toFixed(2):t.price_change_percentage_24h,"%) "),e.xp6(2),e.AsE(" ",t.currency," ",t.high_24h," "),e.xp6(2),e.AsE(" ",t.currency," ",t.low_24h," "),e.xp6(2),e.AsE(" ",t.currency," ",t.market_cap," ")}}let te=(()=>{class a{constructor(){this.filterMarketData=[],this.limit=0}ngOnChanges(t){this.ngOnInit()}ngOnInit(){0!=this.limit&&this.filterMarketData.splice(this.limit,this.filterMarketData.length)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-market-data-table"]],inputs:{filterMarketData:"filterMarketData",limit:"limit"},features:[e.TTD],decls:28,vars:22,consts:[[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-end"],["scope","col",1,"text-end","hidden_mobile"],[4,"ngFor","ngForOf"],["scope","row",1,"align-middle"],["alt","img",1,"image-block","imaged","me-2",3,"src"],[1,"align-middle","text-primary","text-end"],[1,"align-middle","text-end","hidden_mobile"],[1,"text-small"],[3,"name"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"table",2),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"th",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",4),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",5),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",5),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th",5),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th",5),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,Me,19,17,"tr",6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.hij(" ",e.lcZ(7,8,"crypto.marketData.table.tab1")," "),e.xp6(3),e.hij(" ",e.lcZ(10,10,"crypto.marketData.table.tab2")," "),e.xp6(3),e.hij(" ",e.lcZ(13,12,"crypto.marketData.table.tab3")," "),e.xp6(3),e.hij(" ",e.lcZ(16,14,"crypto.marketData.table.tab4")," "),e.xp6(3),e.hij(" ",e.lcZ(19,16,"crypto.marketData.table.tab5")," "),e.xp6(3),e.hij(" ",e.lcZ(22,18,"crypto.marketData.table.tab6")," "),e.xp6(3),e.hij(" ",e.lcZ(25,20,"crypto.marketData.table.tab7")," "),e.xp6(3),e.Q6J("ngForOf",n.filterMarketData))},directives:[u.sg,A.gu],pipes:[_.X$],styles:[".imaged[_ngcontent-%COMP%]{width:32px!important;height:32px!important;object-position:center center!important;object-fit:cover!important}"]}),a})();var ne=m(7856);function De(a,s){if(1&a&&(e.TgZ(0,"span"),e._UZ(1,"img",12),e._uU(2),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.s9C("src",null==t.assetSelected?null:t.assetSelected.icon,e.LSH),e.xp6(1),e.AsE(" ",null==t.assetSelected?null:t.assetSelected.name," - ",null==t.assetSelected?null:t.assetSelected.symbol,"")}}function Se(a,s){if(1&a&&(e.TgZ(0,"span",13),e._UZ(1,"img",14),e._uU(2),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.s9C("src",null==t.assetSelected?null:t.assetSelected.icon,e.LSH),e.xp6(1),e.hij(" ",null==t.assetSelected?null:t.assetSelected.symbol,"")}}function Ue(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"li",1),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().selectAssetInput(o.name)}),e._UZ(1,"img",12),e._uU(2),e.qZA()}if(2&a){const t=s.$implicit;e.xp6(1),e.s9C("src",t.icon,e.LSH),e.xp6(1),e.AsE(" ",t.name," - ",t.symbol," ")}}let ae=(()=>{class a{constructor(){this.wrapperID="",this.cryptoCurrency="",this.isOperation=!1,this.emitSelectAsset=new e.vpe,this.filterCryptoPrices=[],this.cryptoPrices=[],this.search="",this.isFilterActive=!1}ngOnChanges(t){this.getCryptoPrices()}ngOnInit(){this.getCryptoPrices()}selectAssetInput(t){this.search="",this.isFilterActive=!1,this.assetSelected=this.filterCryptoPrices.slice().find(n=>n.name==t),this.emitSelectAsset.emit(this.assetSelected),this.openCloseSelect()}onKeySearch(t){setTimeout(()=>{this.filterCryptoPrice(this.search)},10)}filterCryptoPrice(t){this.filterCryptoPrices=this.cryptoPrices.filter(n=>{var i,o;return(null===(i=n.name)||void 0===i?void 0:i.toLocaleLowerCase().includes(t.toLocaleLowerCase()))||(null===(o=n.symbol)||void 0===o?void 0:o.toLocaleLowerCase().includes(t.toLocaleLowerCase()))})}getCryptoPrices(){this.cryptoPrices&&this.cryptoPrices.length>0&&(this.filterCryptoPrices=this.cryptoPrices.slice(),this.assetSelected=(0,g.p)(this.cryptoPrices[0]),this.emitSelectAsset.emit(this.assetSelected)),this.wrapperID==c.KT.TRANSFER&&(this.filterCryptoPrices=this.filterCryptoPrices.filter(t=>t.balance>0))}openCloseSelect(){let t=document.getElementById(this.wrapperID);t?.classList.contains("active")?t.classList.remove("active"):t?.classList.add("active")}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-asset-select"]],inputs:{wrapperID:"wrapperID",cryptoCurrency:["fiat","cryptoCurrency"],isOperation:"isOperation",cryptoPrices:"cryptoPrices"},outputs:{emitSelectAsset:"emitSelectAsset"},features:[e.TTD],decls:12,vars:9,consts:[[1,"wrapper","selectCryptoAsset",3,"id"],[3,"click"],[4,"ngIf"],["style","color: aliceblue",4,"ngIf"],["name","chevron-down-outline"],[1,"content"],[1,"search"],["name","search-outline"],["spellcheck","false","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["name","ngModel"],[1,"options"],[3,"click",4,"ngFor","ngForOf"],["alt","avatar",1,"imaged","d-inline","w30","rounded","me-1",3,"src"],[2,"color","aliceblue"],["alt","avatar",1,"imaged","d-inline","w30s","rounded","me-1",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.NdJ("click",function(){return n.openCloseSelect()}),e.YNc(2,De,3,3,"span",2),e.YNc(3,Se,3,2,"span",3),e._UZ(4,"ion-icon",4),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"ion-icon",7),e.TgZ(8,"input",8,9),e.NdJ("ngModelChange",function(o){return n.search=o})("keyup",function(o){return n.onKeySearch(o)}),e.qZA(),e.qZA(),e.TgZ(10,"ul",10),e.YNc(11,Ue,3,3,"li",11),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.s9C("id",n.wrapperID),e.xp6(1),e.Tol(n.isOperation?"select-btn-op float-end":"select-btn"),e.xp6(1),e.Q6J("ngIf",!n.isOperation),e.xp6(1),e.Q6J("ngIf",n.isOperation),e.xp6(2),e.uIk("style",n.isOperation?"position: absolute; z-index: 1":"",e.Ckj),e.xp6(3),e.Q6J("ngModel",n.search),e.xp6(3),e.Q6J("ngForOf",n.filterCryptoPrices))},directives:[u.O5,A.gu,p.Fj,p.JJ,p.On,u.sg],styles:[".w30[_ngcontent-%COMP%], .w30s[_ngcontent-%COMP%]{width:30px;height:30px}[_ngcontent-%COMP%]::selection{color:#fff;background:#4285f4}.wrapper[_ngcontent-%COMP%]{width:100%}.select-btn[_ngcontent-%COMP%], .select-btn-op[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.select-btn[_ngcontent-%COMP%]{height:55px;padding:0 20px;font-size:16px;background:#141025;border:1px solid #372648;border-radius:10px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}@media screen and (max-width: 780px){.select-btn-op[_ngcontent-%COMP%]{margin-left:0!important;padding:0!important}.w30s[_ngcontent-%COMP%]{width:20px;height:20px}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{left:0}}.select-btn-op[_ngcontent-%COMP%]{max-width:180px!important;margin-left:50%;height:55px;font-size:18px;font-weight:700;background:#141025;border-radius:10px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}.select-btn[_ngcontent-%COMP%], .select-btn-op[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;transition:transform .3s linear}.wrapper.active[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(-180deg)}.content[_ngcontent-%COMP%]{display:none;padding:15px;margin-top:15px;background:#141025;border-radius:10px;box-shadow:0 10px 25px #0000001a}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{top:50%;left:15px;color:#999;font-size:20px;pointer-events:none;transform:translateY(-50%);position:absolute}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;width:100%;outline:none;font-size:16px;border-radius:5px;padding:0 20px 0 43px;background:#141025;border:1px solid #372648}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{padding-left:42px;border:2px solid #4285f4}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bfbfbf}.content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{margin-top:10px;max-height:250px;overflow-y:auto;padding-right:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#372648;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#27173e}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;font-size:16px;margin-left:-20px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, li.selected[_ngcontent-%COMP%]{border-radius:5px;background:#27173e}"]}),a})();function Ee(a,s){1&a&&(e.TgZ(0,"h5",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.cryptoModal.addAsset.title")," "))}function Ie(a,s){1&a&&(e.TgZ(0,"h5",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.cryptoModal.editAsset.title")," "))}function Ne(a,s){if(1&a&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.Q6J("selected",n.modelWallet===t.name)("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function ke(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"div",14),e.TgZ(2,"div",15),e.TgZ(3,"h2",16),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p"),e.TgZ(7,"small"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",14),e.TgZ(11,"div",17),e.TgZ(12,"div",18),e.TgZ(13,"select",19,20),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().modelWallet=i}),e.TgZ(15,"option",21),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,Ne,2,3,"option",22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,6,"crypto.cryptoModal.addAsset.selectWalletTitle")," "),e.xp6(4),e.Oqu(e.lcZ(9,8,"crypto.cryptoModal.addAsset.selectWalletSubTitle")),e.xp6(5),e.Q6J("ngModel",t.modelWallet),e.xp6(2),e.Q6J("value",t.modelWallet),e.xp6(1),e.hij(" ",e.lcZ(17,10,"crypto.cryptoModal.addAsset.selectWalletTitle")," "),e.xp6(2),e.Q6J("ngForOf",t.wallets)}}function Le(a,s){if(1&a&&(e.TgZ(0,"div",24),e.TgZ(1,"div",25),e._UZ(2,"img",26),e.TgZ(3,"h2",16),e._uU(4),e.qZA(),e.TgZ(5,"p"),e.TgZ(6,"small"),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",27),e.TgZ(9,"span",28),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw(2);e.xp6(2),e.s9C("src",null==t.asset?null:t.asset.icon,e.LSH),e.xp6(2),e.hij(" ",null==t.asset?null:t.asset.name," "),e.xp6(3),e.hij("USD ",null==t.asset?null:t.asset.current_price,""),e.xp6(3),e.Oqu(e.lcZ(11,4,"crypto.cryptoModal.addAsset.selectedAsset"))}}function Je(a,s){1&a&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.cryptoModal.addAsset.warning")," "))}function Pe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"app-asset-select",33),e.NdJ("emitSelectAsset",function(i){return e.CHM(t),e.oxw(2).emitSelectAsset(i)}),e.qZA(),e.YNc(2,Je,3,3,"div",34),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("wrapperID",t.assetConstant.ADDASSET)("fiat",t.cryptoCurrency)("isOperation",!1)("cryptoPrices",t.marketData),e.xp6(1),e.Q6J("ngIf",t.warning)}}function Fe(a,s){if(1&a&&(e.TgZ(0,"div",13),e.TgZ(1,"div",14),e.TgZ(2,"div",24),e.TgZ(3,"div",25),e._UZ(4,"img",26),e.TgZ(5,"h2",16),e._uU(6),e.qZA(),e.TgZ(7,"p"),e.TgZ(8,"small"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",27),e.TgZ(12,"span",28),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",14),e._UZ(16,"hr",29),e.YNc(17,Le,12,6,"div",30),e.YNc(18,Pe,3,5,"div",31),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.s9C("src",null==t.wallet?null:t.wallet.img,e.LSH),e.xp6(2),e.hij(" ",null==t.wallet?null:t.wallet.name," "),e.xp6(3),e.lnq("",e.lcZ(10,8,"crypto.cryptoModal.addAsset.currentBalance")," ",t.dashboardService.coinSymbol," ",null==t.wallet?null:t.wallet.balance,""),e.xp6(4),e.Oqu(e.lcZ(14,10,"crypto.cryptoModal.addAsset.selectedWallet")),e.xp6(4),e.Q6J("ngIf",t.isAssetSelected),e.xp6(1),e.Q6J("ngIf",!t.isAssetSelected)}}function Ye(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"div",14),e.TgZ(2,"div",17),e.TgZ(3,"div",18),e.TgZ(4,"label",36),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"input",37,38),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().balance=i}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",39),e.TgZ(11,"small"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",14),e.TgZ(15,"div",17),e.TgZ(16,"div",18),e.TgZ(17,"label",40),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"input",41,42),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().invested=i}),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"p",39),e.TgZ(24,"small"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,13,"crypto.cryptoModal.addAsset.balance")),e.xp6(2),e.hYB("placeholder","",e.lcZ(9,15,"crypto.cryptoModal.addAsset.balancePla"),"",null==t.asset?null:t.asset.symbol,""),e.Q6J("ngModel",t.balance),e.xp6(5),e.AsE("",e.lcZ(13,17,"crypto.cryptoModal.addAsset.balancePla"),"",null==t.asset?null:t.asset.symbol,""),e.xp6(6),e.AsE("",e.lcZ(19,19,"crypto.cryptoModal.addAsset.invested")," (",t.cryptoCurrency,")"),e.xp6(2),e.hYB("placeholder","",e.lcZ(22,21,"crypto.cryptoModal.addAsset.investedPla"),"",t.cryptoCurrency,""),e.Q6J("ngModel",t.invested),e.xp6(5),e.AsE("",e.lcZ(26,23,"crypto.cryptoModal.addAsset.investedPla"),"",t.cryptoCurrency,"")}}function Qe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectWallet()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",""==t.modelWallet),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.addAsset.selectWalletTitle")," ")}}function je(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectAsset()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",""==t.modelAsset),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.addAsset.selectAsset")," ")}}function Re(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveAsset()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(),n=e.MAs(8);e.xp6(1),e.Q6J("disabled",n.invalid||t.warning),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.addAsset.add")," ")}}function Be(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",46),e.TgZ(1,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectWallet()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",""==t.modelWallet),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.addAsset.selectWalletTitle")," ")}}function He(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",46),e.TgZ(1,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectAsset()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",""==t.modelAsset),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.addAsset.selectAsset")," ")}}function We(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",46),e.TgZ(1,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveAsset()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(),n=e.MAs(8);e.xp6(1),e.Q6J("disabled",n.invalid||t.warning),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.addAsset.add")," ")}}let ie=(()=>{class a{constructor(t,n,i){this.dashboardService=t,this.cryptoService=n,this.logger=i,this.getMarketDataSubscribe=new T.w0,this.saveAssetSubscription=new T.w0,this.environment=y.N,this.modalId="",this.cryptoCurrency="",this.emitAddAsset=new e.vpe,this.modelAsset="",this.isAssetSelected=!1,this.warning=!1,this.marketData=[],this.wallets=[],this.modelWallet="",this.isWalletSelected=!1,this.cryptoTypes=["Holding","Trading"],this.cryptoPrices=[],this.search="",this.categories=[],this.falseIf=!1}get modalConstant(){return c.Dq}get assetConstant(){return c.KT}ngOnInit(){this.getCryptoPrices(),this.categories=this.dashboardService.dashboard.categories,null==this.wallets&&this.dashboardService.dashboard.wallets&&(this.wallets=this.dashboardService.dashboard.wallets.filter(t=>"Crypto"==t.category))}getCryptoPrices(){this.getMarketDataSubscribe=this.cryptoService.getCryptoPriceData(this.cryptoCurrency).subscribe(t=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(t),this.logger.LOG(t.message,"AddAssetModalComponent"),this.marketData=t.data})}selectWallet(){this.wallet=this.wallets.find(t=>t.name==this.modelWallet),this.isWalletSelected=!0}selectAsset(){var t,n,i;null===(t=this.wallet)||void 0===t||!t.assets||(null===(n=this.wallet)||void 0===n?void 0:n.assets.length)>0&&(null===(i=this.wallet)||void 0===i||!i.assets.find(o=>o.name==this.modelAsset))?(this.warning=!1,this.asset=this.cryptoPrices.find(o=>o.name==this.modelAsset),this.isAssetSelected=!0):this.warning=!0}saveAsset(){var t,n,i,o;null===(t=this.wallet)||void 0===t||!t.assets||(null===(n=this.wallet)||void 0===n?void 0:n.assets.length)>0&&(null===(i=this.wallet)||void 0===i||!i.assets.find(r=>{var l;return r.name==(null===(l=this.asset)||void 0===l?void 0:l.name)}))?(this.warning=!1,null==(null===(o=this.wallet)||void 0===o?void 0:o.assets)&&(this.wallet.assets=[]),this.asset.id=void 0,this.asset.balance=this.balance,this.asset.invested=this.invested,this.asset.performance=0,this.asset.trend=0,this.asset.lastUpdate=new Date,this.wallet.assets=[this.asset],this.saveAssetSubscription=this.cryptoService.addOrUpdateCryptoAsset(this.wallet).subscribe(r=>{this.logger.LOG(r.message,"AddAssetModalComponent"),this.emitAddAsset.emit(r.data),this.resetModal()})):(this.isAssetSelected=!1,this.modelAsset="",this.warning=!0)}resetModal(){this.warning=!1,this.isAssetSelected=!1,this.isWalletSelected=!1,this.modelAsset="",this.modelWallet=""}emitSelectAsset(t){this.warning=!1,this.cryptoPrices=[t],this.modelAsset=t.name}ngOnDestroy(){this.getMarketDataSubscribe.unsubscribe(),this.saveAssetSubscription.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(W.s),e.Y36(C),e.Y36(M.m))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-asset-modal"]],inputs:{modalId:"modalId",cryptoCurrency:"cryptoCurrency",wallets:"wallets"},outputs:{emitAddAsset:"emitAddAsset"},decls:19,vars:12,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["type","submit"],["f","ngForm"],[1,"action-sheet-content"],["class","row",4,"ngIf"],["class","addWallet text-end hidden_mobile",4,"ngIf"],["class","mt-1 form-group basic hidden_desktop",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-6"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed"],[1,"input-wrapper"],["id","wallet","name","wallet","required","","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["wallet1","ngModel"],["selected","","disabled","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],[1,"card-title","row"],[1,"col-8"],["alt","avatar",1,"imaged","d-inline","w30","rounded",3,"src"],[1,"col-4"],[1,"mt-2","badge","badge-info","float-end"],[1,"hidden_desktop","hr"],["class","card-title row",4,"ngIf"],["class","col-md-8 col-12 float-end",4,"ngIf"],[1,"col-md-8","col-12","float-end"],[3,"wrapperID","fiat","isOperation","cryptoPrices","emitSelectAsset"],["class","mx-auto alert alert-danger mb-1 mt-2","role","alert",4,"ngIf"],["role","alert",1,"mx-auto","alert","alert-danger","mb-1","mt-2"],["for","balance",1,"label",2,"margin-left","5px"],["type","text","name","balance","id","balance",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["balance1","ngModel"],[2,"margin-left","5px"],["for","invested",1,"label",2,"margin-left","5px"],["type","text","required","","name","invested","id","invested",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["invested1","ngModel"],[1,"addWallet","text-end","hidden_mobile"],["type","button",1,"btn","btn-primary","me-1","mb-1",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mb-1",3,"disabled","click"],[1,"mt-1","form-group","basic","hidden_desktop"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,Ee,3,3,"h5",4),e.YNc(5,Ie,3,3,"h5",4),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6,7),e.TgZ(9,"div",8),e.YNc(10,ke,19,12,"div",9),e.YNc(11,Fe,19,12,"div",9),e.YNc(12,Ye,27,25,"div",9),e.YNc(13,Qe,4,4,"div",10),e.YNc(14,je,4,4,"div",10),e.YNc(15,Re,4,4,"div",10),e.YNc(16,Be,4,4,"div",11),e.YNc(17,He,4,4,"div",11),e.YNc(18,We,4,4,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.s9C("id",n.modalId),e.xp6(4),e.Q6J("ngIf",!(null!=n.asset&&n.asset.id)),e.xp6(1),e.Q6J("ngIf",null==n.asset?null:n.asset.id),e.xp6(5),e.Q6J("ngIf",!n.isWalletSelected),e.xp6(1),e.Q6J("ngIf",n.isWalletSelected),e.xp6(1),e.Q6J("ngIf",n.isAssetSelected),e.xp6(1),e.Q6J("ngIf",!n.isWalletSelected),e.xp6(1),e.Q6J("ngIf",n.isWalletSelected&&!n.isAssetSelected),e.xp6(1),e.Q6J("ngIf",n.isAssetSelected),e.xp6(1),e.Q6J("ngIf",!n.isWalletSelected),e.xp6(1),e.Q6J("ngIf",n.isWalletSelected&&!n.isAssetSelected),e.xp6(1),e.Q6J("ngIf",n.isAssetSelected))},directives:[u.O5,p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,p.YN,p.Kr,u.sg,ae,p.Fj],pipes:[_.X$],styles:['.w30[_ngcontent-%COMP%]{width:30px;height:30px}@media screen and (max-width: 780px){.addWallet[_ngcontent-%COMP%]{display:none}.hr[_ngcontent-%COMP%]{margin-top:-10px}}.addWallet[_ngcontent-%COMP%]{margin-top:5px;padding-right:20px}.select[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:100%;height:55px}.select[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{padding:0 30px 0 10px;min-height:55px;display:flex;align-items:center;background:#27173e;position:absolute;top:0;width:100%;height:50px;pointer-events:none;order:2;z-index:1;transition:background .4s ease-in-out;box-sizing:border-box;overflow:hidden;white-space:nowrap;border-radius:10px}.select[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background:#284bff}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;left:-99999px}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:1;z-index:2;background:#141025;border:1px solid #372648;position:relative}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid white;position:absolute;right:10px;top:calc(50% - 2.5px);pointer-events:none;z-index:3}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{position:absolute;right:0;height:0px;width:0px;content:"";background:#141025}.select[_ngcontent-%COMP%]:focus   .option[_ngcontent-%COMP%]{position:relative;pointer-events:all}']}),a})();var D=m(1454),Ve=m(5646),Ge=m(633);function $e(a,s){1&a&&(e.TgZ(0,"div",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"insertStats.dataPresent")," "))}function ze(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",8),e.TgZ(2,"div",9),e.TgZ(3,"h2",10),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p"),e.TgZ(7,"small"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",11),e.TgZ(12,"div",12),e.TgZ(13,"input",13,14),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dateStats=i}),e.qZA(),e.YNc(15,$e,3,3,"div",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"crypto.cryptoModal.operations.stats.title")," "),e.xp6(4),e.Oqu(e.lcZ(9,7,"crypto.cryptoModal.operations.stats.subTitle")),e.xp6(5),e.Q6J("ngModel",t.dateStats)("disabled",t.currentIndex>0),e.xp6(2),e.Q6J("ngIf",t.dateValidation)}}function Xe(a,s){1&a&&(e.TgZ(0,"div",7),e.TgZ(1,"h2",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p"),e.TgZ(5,"small"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.operations.stats.resumeTitle")," "),e.xp6(4),e.Oqu(e.lcZ(7,4,"crypto.cryptoModal.operations.stats.resumeSubTitle")))}function Ke(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"div",8),e.TgZ(2,"div",22),e.TgZ(3,"h5",23),e._uU(4),e.qZA(),e.TgZ(5,"div",34),e.TgZ(6,"div",12),e.TgZ(7,"input",35,36),e.NdJ("ngModelChange",function(i){const r=e.CHM(t).$implicit,l=e.oxw(2).$implicit;return e.oxw(2).filterAsset(r,l.name).newValue=i}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"i",37),e._UZ(11,"ion-icon",38),e.qZA(),e.qZA(),e.TgZ(12,"div",25),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",26),e._UZ(16,"img",27),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=s.$implicit,n=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(4),e.AsE(" ",t.name," (",t.category,") "),e.xp6(3),e.MGl("name","balance",t.name,""),e.s9C("placeholder",e.lcZ(9,10,"insertStats.newBal")),e.Q6J("ngModel",i.filterAsset(t,n.name).newValue),e.xp6(6),e.HOy(" ",n.name," ",e.lcZ(14,12,"insertStats.balance")," ",i.filterAsset(t,n.name).value," ",i.currency," "),e.xp6(3),e.s9C("src",null==t?null:t.img,e.LSH)}}function et(a,s){if(1&a&&(e.TgZ(0,"div"),e.TgZ(1,"div",21),e.TgZ(2,"div",8),e.TgZ(3,"div",22),e.TgZ(4,"h5",23),e._uU(5),e.qZA(),e.TgZ(6,"span",24),e._uU(7),e.qZA(),e.TgZ(8,"div",25),e.TgZ(9,"small"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",26),e._UZ(13,"img",27),e.qZA(),e.qZA(),e.TgZ(14,"p",28),e.TgZ(15,"span",29),e.TgZ(16,"span"),e._UZ(17,"i"),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"span",30),e._uU(20),e.ALo(21,"translate"),e.ALo(22,"date"),e.qZA(),e.qZA(),e._UZ(23,"hr"),e.qZA(),e.TgZ(24,"div",31),e.YNc(25,Ke,17,14,"div",32),e.qZA(),e.qZA()),2&a){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(5),e.AsE(" ",t.name," (",t.symbol,") "),e.xp6(2),e.AsE("",n.currency," ",t.value,""),e.xp6(3),e.HOy(" ",t.name," ",e.lcZ(11,20,"insertStats.balance")," ",t.balance," ",t.symbol,""),e.xp6(3),e.s9C("src",null==t?null:t.icon,e.LSH),e.xp6(3),e.Gre("",0==t.history[t.history.length-1].percentage?"text-warning":t.history[t.history.length-1].percentage>0?"text-success":"text-danger"," mr-2"),e.xp6(1),e.Gre("fa ",t.history[t.history.length-1].percentage>0?"fa-arrow-up":"fa-arrow-down",""),e.xp6(1),e.AsE("",1e3==t.history[t.history.length-1].percentage?" +":""," ",t.history[t.history.length-1].percentage,"%"),e.xp6(2),e.AsE("",e.lcZ(21,22,"stats.since")," ",e.xi3(22,24,t.history[t.history.length-1].date,"dd MMM y"),""),e.xp6(5),e.Q6J("ngForOf",n.filterWallets(n.wallets,t.name))}}function tt(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,et,26,27,"div",20),e.qZA()),2&a){const t=s.$implicit,n=s.index,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n==i.currentIndex&&!i.isResumeAddAssets&&t.balance>0)}}function nt(a,s){if(1&a&&(e.TgZ(0,"li"),e.TgZ(1,"a",47),e.TgZ(2,"div",48),e._UZ(3,"img",49),e.qZA(),e.TgZ(4,"div",50),e.TgZ(5,"div"),e.TgZ(6,"strong"),e._uU(7),e.qZA(),e.TgZ(8,"div",51),e.TgZ(9,"strong"),e.TgZ(10,"span"),e._UZ(11,"ion-icon",52),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"strong"),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",53),e.TgZ(16,"strong"),e._uU(17),e.qZA(),e.TgZ(18,"div",54),e._uU(19),e.ALo(20,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(3),e.s9C("src",t.img,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(3),e.Gre("badge me-1 ",0==i.filterAsset(t,n.name).history[i.filterAsset(t,n.name).history.length-1].percentage?"badge-warning":i.filterAsset(t,n.name).history[i.filterAsset(t,n.name).history.length-1].percentage>0?"badge-success":"badge-danger",""),e.xp6(1),e.s9C("name",i.filterAsset(t,n.name).history[i.filterAsset(t,n.name).history.length-1].percentage>0?"arrow-up-outline":"arrow-down-outline"),e.xp6(1),e.hij(" ",i.filterAsset(t,n.name).history[i.filterAsset(t,n.name).history.length-1].percentage.toFixed(2),"% "),e.xp6(1),e.Tol(0==i.filterAsset(t,n.name).history[i.filterAsset(t,n.name).history.length-1].trend?"text-warning":i.filterAsset(t,n.name).history[i.filterAsset(t,n.name).history.length-1].trend>0?"text-success":"text-danger"),e.xp6(1),e.AsE("",i.currency," ",i.filterAsset(t,n.name).history[i.filterAsset(t,n.name).history.length-1].trend,""),e.xp6(3),e.AsE("",i.currency," ",i.filterAsset(t,n.name).value,""),e.xp6(2),e.hij(" ",e.xi3(20,15,i.filterAsset(t,n.name).lastUpdate,"d MMM y")," ")}}function at(a,s){1&a&&e._UZ(0,"hr",55)}function it(a,s){if(1&a&&(e.TgZ(0,"div"),e.TgZ(1,"h5",41),e._UZ(2,"img",42),e._uU(3),e.qZA(),e.TgZ(4,"div",43),e.TgZ(5,"small"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.TgZ(8,"div",44),e.TgZ(9,"ul",45),e.YNc(10,nt,21,18,"li",18),e.qZA(),e.qZA(),e.YNc(11,at,1,0,"hr",46),e.qZA()),2&a){const t=e.oxw(),n=t.$implicit,i=t.index,o=e.oxw(3);e.xp6(2),e.s9C("src",null==n?null:n.icon,e.LSH),e.xp6(1),e.AsE(" ",n.name," (",n.symbol,") "),e.xp6(3),e.HOy(" ",n.name," ",e.lcZ(7,9,"insertStats.balance")," ",n.balance," ",n.symbol,""),e.xp6(4),e.Q6J("ngForOf",o.filterWallets(o.wallets,n.name)),e.xp6(1),e.Q6J("ngIf",i<o.assets.length-1)}}function ot(a,s){if(1&a&&(e.TgZ(0,"div",39),e.YNc(1,it,12,11,"div",20),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.balance>0)}}function st(a,s){if(1&a&&(e.TgZ(0,"div",39),e.YNc(1,ot,2,1,"div",40),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.assets)}}function rt(a,s){if(1&a&&(e.TgZ(0,"div",17),e._UZ(1,"hr"),e.YNc(2,tt,2,1,"div",18),e.YNc(3,st,2,1,"div",19),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.assets),e.xp6(1),e.Q6J("ngIf",t.isResumeAddAssets)}}function lt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changeAsset()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(1);e.Q6J("disabled",n.invalid&&!t.validateDate()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"crypto.cryptoModal.operations.stats.next")," ")}}function ct(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).save()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.cryptoModal.operations.stats.save")," "))}function dt(a,s){if(1&a&&(e.TgZ(0,"div",56),e.YNc(1,lt,3,4,"button",57),e.YNc(2,ct,3,3,"button",58),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.currentIndex!=t.assets.length),e.xp6(1),e.Q6J("ngIf",t.isResumeAddAssets)}}function pt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changeAsset()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(1);e.Q6J("disabled",n.invalid&&!t.validateDate()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"crypto.cryptoModal.operations.stats.next")," ")}}function gt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).save()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.cryptoModal.operations.stats.save")," "))}function ut(a,s){if(1&a&&(e.TgZ(0,"div",61),e.YNc(1,pt,3,4,"button",62),e.YNc(2,gt,3,3,"button",63),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.currentIndex!=t.assets.length),e.xp6(1),e.Q6J("ngIf",t.isResumeAddAssets)}}let ht=(()=>{class a{constructor(t,n,i,o,r){this.cryptoService=t,this.errorService=n,this.router=i,this.statsService=o,this.logger=r,this.addStats=new T.w0,this.assets=[],this.currency="",this.wallets=[],this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.statsAssetsDays=[],this.currentIndex=0,this.emitAddStats=new e.vpe,this.saveValidation=!1,this.dateValidation=!1,this.dateStats=""}ngOnInit(){this.deleteTradingWallet()}ngOnChanges(t){this.deleteTradingWallet()}deleteTradingWallet(){this.getTodayAsString(),this.wallets&&this.wallets.length>0&&(this.wallets=this.wallets.filter(n=>n.type&&"Holding"==n.type));let t=[];this.wallets.forEach(n=>{n.assets&&n.assets.forEach(i=>{t.includes(i.symbol)||t.push(i.symbol)})}),this.assets=this.assets.filter(n=>t.includes(n.symbol))}filterWallets(t,n){return t.filter(o=>null!=o.assets&&o.assets.length>0?o.assets.find(r=>r.name==n):null)}filterAsset(t,n){return t.assets.find(i=>i.name==n)}changeAsset(){if(this.currentIndex+=1,document.getElementById("action-scheet")?.scrollTo(0,0),this.currentIndex==this.assets.length)return this.confirm(),void(this.isResumeAddAssets=!0);(null==this.assets[this.currentIndex]||0==this.assets[this.currentIndex].balance)&&this.changeAsset()}validateDate(){this.dateValidation=!1;let t=!1,n=this.statsAssetsDays;return n&&n.find(i=>i===this.dateStats)&&(this.dateValidation=!0,t=!0),n&&n.length&&parseInt(n[0].split("-")[0])>parseInt(this.dateStats.split("-")[0])&&(this.dateValidation=!0,t=!0),t}confirm(){let t=this.statsAssetsDays;this.wallets.forEach(n=>{n.assets&&n.assets.forEach(i=>{if(i.balance>0){let o=new D.jk;this.setDataForNewStats(i,t,o),i.newValue=parseFloat("")}})}),this.cryptoService.cryptoDashboard.statsAssetsDays?this.cryptoService.cryptoDashboard.statsAssetsDays.push(this.dateStats):this.cryptoService.cryptoDashboard.statsAssetsDays=[this.dateStats],this.cryptoService.cryptoDashboard.statsAssetsDays.sort(),this.saveValidation=!0}setDataForNewStats(t,n,i){var o,r,l;const d=[];n&&n.length>0&&n.forEach(b=>{d.push(b)}),d.push(this.dateStats),d.sort();let h=d.indexOf(this.dateStats),Z=new D.jk,f=new D.jk;if(f.balance=.001,d[h+1]){(null==Z||(null===(o=t.history)||void 0===o?void 0:o.find(q=>null==q.date)))&&(this.errorService.handleWalletStatsError(),this.router.navigate(["error"])),Z=null===(r=t.history)||void 0===r?void 0:r.find(q=>q.date.toString()===d[h+1]);let b=((Z.balance-(0!=t.newValue?t.newValue:.001))/(0!=t.newValue?t.newValue:.001)*100).toFixed(2);Z.percentage=parseFloat(b)>1e4?1e3:parseFloat(b),Z.trend=parseFloat((Z.balance-t.newValue).toFixed(2))}d[h-1]&&(f=null===(l=t.history)||void 0===l?void 0:l.find(b=>null!=b.date&&b.date.toString()===d[h-1]),null==f&&(f=new D.jk,f.balance=.001));let w=0!=f.balance?((t.newValue-f.balance)/f.balance*100).toFixed(2):"0";i.balance=t.newValue,i.date=new Date(this.dateStats),i.percentage=parseFloat(w)>1e4?1e3:parseFloat(w),i.trend=d.length>1?parseFloat((i.balance-(.001!=f.balance?f.balance:0)).toFixed(2)):0,Z.balance?t.history=[Z,i]:(f.date||(i.percentage=0),t.lastUpdate=i.date,t.value=i.balance,t.history=[i])}save(){this.saveValidation=!1,this.addStats=this.statsService.addStatsData(this.wallets).subscribe(t=>{this.logger.LOG(t.message,"AddCryptoStatsComponent"),this.wallets=t.data,this.emitAddStats.emit(this.wallets)}),this.getTodayAsString(),this.resetForm()}getTodayAsString(){let t=(new Date).toISOString().split("T")[0];this.dateStats=t}resetForm(){this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateValidation=!1,this.dateStats="",this.currentIndex=0}ngOnDestroy(){this.addStats.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(Ve.T),e.Y36(v.F0),e.Y36(Ge.G),e.Y36(M.m))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-crypto-stats"]],inputs:{assets:"assets",currency:"currency",wallets:"wallets",isAddStatsSelected:"isAddStatsSelected",isResumeAddAssets:"isResumeAddAssets",statsAssetsDays:"statsAssetsDays",currentIndex:"currentIndex"},outputs:{emitAddStats:"emitAddStats"},features:[e.TTD],decls:8,vars:5,consts:[["type","submit"],["f","ngForm"],["class","card-title",4,"ngIf"],["class","transactions row",4,"ngIf"],["class","addWallet text-end hidden_mobile",4,"ngIf"],[1,"hidden_desktop"],["class","form-group basic",4,"ngIf"],[1,"card-title"],[1,"row"],[1,"col-md-6"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed","float-end","ms-1","me-1","date-form"],[1,"input-wrapper"],["name","date","type","date","id","text4b","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["date1","ngModel"],["class","alert alert-danger mb-1","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","mb-1"],[1,"transactions","row"],[4,"ngFor","ngForOf"],["style","margin-top: -20px",4,"ngIf"],[4,"ngIf"],[1,"card-body",2,"margin-top","-30px","margin-bottom","-20px"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],["id","tot1",1,"h2","font-weight-bold","mb-0"],[1,"input-info"],[1,"col-auto"],["alt","img",1,"image-block","imaged","round-img",3,"src"],[1,"mt-3","mb-0","text-muted","text-sm"],[1,"performancesingle0","float-end"],[1,"text-nowrap","sincetot"],[1,"row",2,"margin-top","-45px"],["class","card-body col-md-4",4,"ngFor","ngForOf"],[1,"card-body","col-md-4"],[1,"form-group","boxed"],["required","","type","number","id","text4b",1,"form-control",3,"name","ngModel","placeholder","ngModelChange"],["balance1","ngModel"],[1,"clear-input"],["name","close-circle","role","img","aria-label","close circle",1,"md","hydrated"],[2,"margin-top","-20px"],["style","margin-top: -20px",4,"ngFor","ngForOf"],[1,"card-title","text-uppercase","text-muted","mb-0","ms-2"],["alt","img",1,"image-block","imaged","round-img","me-1",2,"width","30px !important","height","30px !important","vertical-align","-11px",3,"src"],[1,"input-info","ms-2"],[1,"card"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","mt-1","mb-1"],["style","margin-top: -10px",4,"ngIf"],[1,"item"],[1,"icon-box"],["alt","",2,"border-radius","50%",3,"src"],[1,"in"],[1,"text-small","text-secondary"],[3,"name"],[1,"text-end"],[1,"text-small"],[2,"margin-top","-10px"],[1,"addWallet","text-end","hidden_mobile"],["type","button","class","btn btn-primary me-1",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary me-1 mt-3","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","me-1",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mt-3",3,"click"],[1,"form-group","basic"],["type","button","class","btn btn-primary btn-block btn-lg",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-block btn-lg","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0,1),e.YNc(2,ze,16,9,"div",2),e.YNc(3,Xe,8,6,"div",2),e.YNc(4,rt,4,2,"div",3),e.YNc(5,dt,3,2,"div",4),e.TgZ(6,"div",5),e.YNc(7,ut,3,2,"div",6),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.isAddStatsSelected&&!n.isResumeAddAssets),e.xp6(1),e.Q6J("ngIf",n.isResumeAddAssets),e.xp6(1),e.Q6J("ngIf",n.isAddStatsSelected),e.xp6(1),e.Q6J("ngIf",n.isAddStatsSelected),e.xp6(2),e.Q6J("ngIf",n.isAddStatsSelected))},directives:[p._Y,p.JL,p.F,u.O5,p.Fj,p.Q7,p.JJ,p.On,u.sg,p.wV,A.gu],pipes:[_.X$,u.uU],styles:[".round-img[_ngcontent-%COMP%]{margin-top:20px;width:70px;height:70px}.action-sheet-content[_ngcontent-%COMP%]{overflow-x:hidden!important}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}@media screen and (max-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:auto!important}.date-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:7px}}@media screen and (min-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:200px}}"]}),a})();function mt(a,s){if(1&a&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw();e.s9C("value",t),e.Q6J("selected",t==n.operationSelect),e.xp6(1),e.hij(" ",t," ")}}function _t(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().isOperationSel=!0}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("disabled",t.invalid),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.operations.operation.selectType")," ")}}function Zt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",21),e.TgZ(2,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().isOperationSel=!0}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){e.oxw();const t=e.MAs(4);e.xp6(2),e.Q6J("disabled",t.invalid),e.xp6(1),e.hij(" ",e.lcZ(4,2,"crypto.cryptoModal.operations.operation.selectType")," ")}}function vt(a,s){if(1&a&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.s9C("selected",t.name==n.walletSelect),e.s9C("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function At(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"div",5),e.TgZ(2,"label",6),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",23,8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().walletSelect=i}),e.TgZ(7,"option",9),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,vt,2,3,"option",24),e.qZA(),e.qZA(),e.TgZ(11,"div",11),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,"crypto.cryptoModal.operations.operation.selectWallet")),e.xp6(2),e.Q6J("ngModel",t.walletSelect),e.xp6(2),e.Q6J("value",t.walletSelect),e.xp6(1),e.hij(" ",e.lcZ(9,8,"crypto.cryptoModal.operations.operation.selectWallet")," "),e.xp6(2),e.Q6J("ngForOf",t.filterWallets),e.xp6(2),e.hij(" ",e.lcZ(13,10,"crypto.cryptoModal.operations.operation.selectWalletDesc")," ")}}function Tt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectWallet()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.isWalletPresent()),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.operations.operation.selectWallet")," ")}}function yt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",21),e.TgZ(2,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectWallet()}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.isWalletPresent()),e.xp6(1),e.hij(" ",e.lcZ(4,2,"crypto.cryptoModal.operations.operation.selectWallet")," ")}}let ft=(()=>{class a{constructor(t){this.router=t,this.wallets=[],this.assets=[],this.operations=c.BX,this.operationSelect="",this.isOperationSel=!1,this.filterWallets=[]}ngOnInit(){}isWalletPresent(){return null!=this.walletSelect}selectOperation(t){let n=t.target.value,i=(0,g.p)(this.wallets);this.filterWallets=n!=c.jw.NEWINVESTMENT&&n!=c.jw.TRANSFER?i.filter(o=>o.type==t.target.value):i}selectWallet(){this.router.navigate(["crypto/operation/"+this.operationSelect+"/"+this.walletSelect+"/"+this.fiat])}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-crypto-operation"]],inputs:{wallets:"wallets",assets:"assets",fiat:"fiat"},decls:30,vars:18,consts:[[1,"transactions","row"],[1,"section","mb-2"],["type","submit"],["f","ngForm"],[1,"form-group","boxed"],[1,"input-wrapper"],["for","select4b",1,"label"],["id","operationSelect","name","operationSelect","required","",1,"form-control","custom-select",3,"ngModel","disabled","ngModelChange","change"],["operationSelect1","ngModel"],["selected","","disabled","",3,"value"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"input-info"],[1,"text-end","hidden_mobile"],["class","addWallet d-inline",4,"ngIf"],[1,"hidden_desktop"],[4,"ngIf"],["g","ngForm"],["class","form-group boxed",4,"ngIf"],[3,"value","selected"],[1,"addWallet","d-inline"],["type","button",1,"btn","btn-primary","me-1",3,"disabled","click"],[1,"form-group","basic",2,"margin-bottom","-20px"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],["id","operationSelect","name","operationSelect","required","",1,"form-control","custom-select",3,"ngModel","ngModelChange"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","me-1",3,"disabled","click"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"hr"),e.TgZ(2,"div",1),e.TgZ(3,"form",2,3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"select",7,8),e.NdJ("ngModelChange",function(o){return n.operationSelect=o})("change",function(o){return n.selectOperation(o)}),e.TgZ(12,"option",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,mt,2,3,"option",10),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.qZA(),e.TgZ(19,"div",12),e.YNc(20,_t,4,4,"div",13),e.qZA(),e.TgZ(21,"div",14),e.YNc(22,Zt,5,4,"div",15),e.qZA(),e.qZA(),e.TgZ(23,"form",2,16),e.YNc(25,At,14,12,"div",17),e.TgZ(26,"div",12),e.YNc(27,Tt,4,4,"div",13),e.qZA(),e.TgZ(28,"div",14),e.YNc(29,yt,5,4,"div",15),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Oqu(e.lcZ(9,12,"crypto.cryptoModal.operations.operation.selectOperation")),e.xp6(2),e.Q6J("ngModel",n.operationSelect)("disabled",n.isOperationSel&&""!=n.operationSelect),e.xp6(2),e.Q6J("value",n.operationSelect),e.xp6(1),e.hij(" ",e.lcZ(14,14,"crypto.cryptoModal.operations.operation.selectOperation")," "),e.xp6(2),e.Q6J("ngForOf",n.operations),e.xp6(2),e.hij(" ",e.lcZ(18,16,"crypto.cryptoModal.operations.operation.selectDescription")," "),e.xp6(3),e.Q6J("ngIf",!n.isOperationSel),e.xp6(2),e.Q6J("ngIf",!n.isOperationSel),e.xp6(3),e.Q6J("ngIf",n.isOperationSel),e.xp6(2),e.Q6J("ngIf",n.isOperationSel),e.xp6(2),e.Q6J("ngIf",n.isOperationSel))},directives:[p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,p.YN,p.Kr,u.sg,u.O5],pipes:[_.X$],styles:[""]}),a})();function bt(a,s){1&a&&(e.TgZ(0,"div",9),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.info.operation.title")," "),e.xp6(3),e.hij(" ",e.lcZ(6,4,"crypto.cryptoModal.info.operation.details")," "))}function xt(a,s){1&a&&(e.TgZ(0,"div",9),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"p",10),e.ALo(5,"translate"),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.info.newInvestment.title")," "),e.xp6(2),e.Q6J("innerHTML",e.lcZ(5,4,"crypto.cryptoModal.info.newInvestment.details"),e.oJD))}function Ct(a,s){1&a&&(e.TgZ(0,"div",9),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"p",10),e.ALo(5,"translate"),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.info.holding.title")," "),e.xp6(2),e.Q6J("innerHTML",e.lcZ(5,4,"crypto.cryptoModal.info.holding.details"),e.oJD))}function qt(a,s){1&a&&(e.TgZ(0,"div",9),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"p",10),e.ALo(5,"translate"),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.info.trading.title")," "),e.xp6(2),e.Q6J("innerHTML",e.lcZ(5,4,"crypto.cryptoModal.info.trading.details"),e.oJD))}function wt(a,s){1&a&&(e.TgZ(0,"div",9),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"p",10),e.ALo(5,"translate"),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.info.closeOperation.title")," "),e.xp6(2),e.Q6J("innerHTML",e.lcZ(5,4,"crypto.cryptoModal.info.closeOperation.details"),e.oJD))}function Ot(a,s){1&a&&(e.TgZ(0,"div",9),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"p",10),e.ALo(5,"translate"),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.info.transfer.title")," "),e.xp6(2),e.Q6J("innerHTML",e.lcZ(5,4,"crypto.cryptoModal.info.transfer.details"),e.oJD))}function Mt(a,s){if(1&a&&(e.TgZ(0,"a",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const t=e.oxw();e.Q2q("data-bs-target","#",t.modalConstant.ADDOPERATIONS,""),e.xp6(1),e.Oqu(e.lcZ(2,2,"crypto.cryptoModal.info.close"))}}function Dt(a,s){if(1&a&&(e.TgZ(0,"a",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const t=e.oxw();e.Q2q("data-bs-target","#",t.modalConstant.CLOSEOPERATION,""),e.xp6(1),e.Oqu(e.lcZ(2,2,"crypto.cryptoModal.info.close"))}}function St(a,s){1&a&&(e.TgZ(0,"a",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"crypto.cryptoModal.info.close")))}let V=(()=>{class a{constructor(){this.modalId="",this.isOperation=!1,this.isClosingOperation=!1,this.operationType="",this.operation=c.BX}get modalConstant(){return c.Dq}get operationTypeConstant(){return c.jw}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-info-modal"]],inputs:{modalId:"modalId",isOperation:"isOperation",isClosingOperation:"isClosingOperation",operationType:"operationType"},decls:16,vars:10,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-body"],[1,"action-sheet-content"],[1,"iconbox","text-warning"],["name","alert-circle"],["class","text-center",4,"ngIf"],["class","btn btn-primary btn-lg btn-block","data-bs-toggle","modal",4,"ngIf"],[1,"text-center"],[3,"innerHTML"],["data-bs-toggle","modal",1,"btn","btn-primary","btn-lg","btn-block"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"ion-icon",6),e.qZA(),e.YNc(7,bt,7,6,"div",7),e.YNc(8,xt,6,6,"div",7),e.YNc(9,Ct,6,6,"div",7),e.YNc(10,qt,6,6,"div",7),e.YNc(11,wt,6,6,"div",7),e.YNc(12,Ot,6,6,"div",7),e.YNc(13,Mt,3,4,"a",8),e.YNc(14,Dt,3,4,"a",8),e.YNc(15,St,3,3,"a",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.s9C("id",n.modalId),e.xp6(7),e.Q6J("ngIf",n.isOperation),e.xp6(1),e.Q6J("ngIf",n.operationType==n.operationTypeConstant.NEWINVESTMENT),e.xp6(1),e.Q6J("ngIf",n.operationType==n.operationTypeConstant.HOLDING),e.xp6(1),e.Q6J("ngIf",n.operationType==n.operationTypeConstant.TRADING),e.xp6(1),e.Q6J("ngIf",n.operationType==n.operationTypeConstant.CLOSEOPERATION),e.xp6(1),e.Q6J("ngIf",n.operationType==n.operationTypeConstant.TRANSFER),e.xp6(1),e.Q6J("ngIf",n.isOperation&&!n.isClosingOperation),e.xp6(1),e.Q6J("ngIf",n.isClosingOperation&&!n.isOperation),e.xp6(1),e.Q6J("ngIf",!n.isOperation&&!n.isClosingOperation))},directives:[A.gu,u.O5],pipes:[_.X$],styles:[""]}),a})();function Ut(a,s){1&a&&(e.TgZ(0,"div",16),e.TgZ(1,"h2",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p"),e.TgZ(5,"small"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"crypto.cryptoModal.operations.title")," "),e.xp6(4),e.Oqu(e.lcZ(7,4,"crypto.cryptoModal.operations.subTitle")))}function Et(a,s){if(1&a&&(e.TgZ(0,"div",16),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"h2",17),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"ion-icon",20),e.TgZ(7,"p"),e.TgZ(8,"small"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,3,"crypto.cryptoModal.operations.operation.title")," "),e.xp6(2),e.Q2q("data-bs-target","#",t.modalConstant.INFO,""),e.xp6(3),e.Oqu(e.lcZ(10,5,"crypto.cryptoModal.operations.operation.subTitle"))}}function It(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"div",22),e.TgZ(2,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().addStatsClick()}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",22),e.TgZ(6,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().addOperationClick()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.qZA(),e.qZA()}2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"crypto.cryptoModal.operations.stats.title")," "),e.xp6(4),e.hij(" ",e.lcZ(8,4,"crypto.cryptoModal.operations.operation.title")," "))}function Nt(a,s){if(1&a&&e._UZ(0,"app-add-crypto-operation",24),2&a){const t=e.oxw();e.Q6J("wallets",t.wallets)("fiat",t.currency)("assets",t.assets)}}function kt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"div",25),e.TgZ(2,"div",26),e.TgZ(3,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().addStatsClick()}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",25),e.TgZ(7,"div",26),e.TgZ(8,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().addOperationClick()}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&a&&(e.xp6(4),e.hij(" ",e.lcZ(5,2,"crypto.cryptoModal.operations.stats.title")," "),e.xp6(5),e.hij(" ",e.lcZ(10,4,"crypto.cryptoModal.operations.operation.title")," "))}let Y=(()=>{class a{constructor(){this.modalId="",this.wallets=[],this.assets=[],this.currency="",this.statsAssetsDays=[],this.emitAddStats=new e.vpe,this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateStats="",this.currentIndex=0,this.isOperationSelected=!1}get modalConstant(){return c.Dq}ngOnInit(){}addStatsClick(){this.isAddStatsSelected=!0;let t=new D.jk;t.balance=0,t.date=new Date,t.percentage=0,t.trend=0,this.assets.forEach(n=>{(null==n.history||0==n.history.length)&&(n.history=[t])})}addOperationClick(){this.isOperationSelected=!0}addStats(t){this.resetForm(),this.emitAddStats.emit(t)}resetForm(){this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateStats="",this.currentIndex=0}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-operations-modal"]],inputs:{modalId:"modalId",wallets:"wallets",assets:"assets",currency:"currency",statsAssetsDays:"statsAssetsDays"},outputs:{emitAddStats:"emitAddStats"},decls:19,vars:18,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["type","submit"],["f","ngForm"],["id","action-scheet",1,"action-sheet-content"],["class","card-title",4,"ngIf"],["class","text-end hidden_mobile",4,"ngIf"],[3,"statsAssetsDays","assets","currency","currentIndex","isAddStatsSelected","isResumeAddAssets","wallets","emitAddStats"],[3,"wallets","fiat","assets",4,"ngIf"],[1,"hidden_desktop"],["class","row",4,"ngIf"],[3,"isOperation","modalId"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"row"],[1,"col-md-12"],["name","alert-circle","data-bs-toggle","modal",2,"width","20px","height","20px","vertical-align","-5px"],[1,"text-end","hidden_mobile"],[1,"addWallet","d-inline"],["type","button",1,"btn","btn-primary","me-1","mb-1","hover-btn",3,"click"],[3,"wallets","fiat","assets"],[1,"col-6"],[1,"form-group","basic"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"form",6,7),e.TgZ(10,"div",8),e.YNc(11,Ut,8,6,"div",9),e.YNc(12,Et,11,7,"div",9),e.YNc(13,It,9,6,"div",10),e.TgZ(14,"app-add-crypto-stats",11),e.NdJ("emitAddStats",function(o){return n.addStats(o)}),e.qZA(),e.YNc(15,Nt,1,3,"app-add-crypto-operation",12),e.TgZ(16,"div",13),e.YNc(17,kt,11,6,"div",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(18,"app-info-modal",15)),2&t&&(e.s9C("id",n.modalId),e.xp6(5),e.hij(" ",e.lcZ(6,16,"crypto.cryptoModal.operations.title")," "),e.xp6(6),e.Q6J("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),e.xp6(1),e.Q6J("ngIf",n.isOperationSelected),e.xp6(1),e.Q6J("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),e.xp6(1),e.Q6J("statsAssetsDays",n.statsAssetsDays)("assets",n.assets)("currency",n.currency)("currentIndex",n.currentIndex)("isAddStatsSelected",n.isAddStatsSelected)("isResumeAddAssets",n.isResumeAddAssets)("wallets",n.wallets),e.xp6(1),e.Q6J("ngIf",n.isOperationSelected),e.xp6(2),e.Q6J("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),e.xp6(1),e.Q6J("isOperation",!0)("modalId",n.modalConstant.INFO))},directives:[p._Y,p.JL,p.F,u.O5,A.gu,ht,ft,V],pipes:[_.X$],styles:[".round-img[_ngcontent-%COMP%]{margin-top:20px;width:70px;height:70px}.action-sheet-content[_ngcontent-%COMP%]{overflow-x:hidden!important}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}@media screen and (max-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:auto!important}.date-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:7px}}@media screen and (min-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:200px}}"]}),a})();const Lt=["tradingViewListCrypto"],Jt=["tradingViewPrices"],Pt=["tradingViewPricesScroll"],Ft=["selectGraph"],Yt=["dayGraph"];function Qt(a,s){1&a&&e._UZ(0,"ion-icon",87)}function jt(a,s){1&a&&e._UZ(0,"ion-icon",88)}function Rt(a,s){1&a&&e._UZ(0,"app-loading-card")}function Bt(a,s){if(1&a&&e._UZ(0,"app-transaction-card",90),2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("assets",t)("currency",n.cryptoDashboard.currency)("hiddenAmount",n.hidden)}}function Ht(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Bt,1,3,"app-transaction-card",89),e.qZA()),2&a){const t=s.index;e.xp6(1),e.Q6J("ngIf",t<4)}}function Wt(a,s){if(1&a&&(e.TgZ(0,"option",91),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.s9C("value",t.split("-")[0]+t.split("-")[1]),e.xp6(1),e.hij(" ",t," ")}}function Vt(a,s){1&a&&e._UZ(0,"app-loading-card")}const oe=function(){return[1,2,3]},Gt=function(a){return["/crypto/market-data",a]};let $t=(()=>{class a{constructor(t,n,i,o,r){this.screenService=t,this._renderer2=n,this.cryptoService=i,this.logger=o,this.appService=r,this.getDashboardSubscribe=new T.w0,this.marketDataSubscribe=new T.w0,this.filterMarketData=[],this.amount="******",this.hidden=!1,this.environment=y.N,this.selectedSymbol="BTCUSDT",this.symbolList=[],this.cryptoDashboard=new O,this.assets=[]}get modalConstant(){return c.Dq}ngOnInit(){this.getDashboard(),this.screenService.showFooter()}ngAfterViewInit(){this.appendListGraph(),this.appendPrices(),this.appendSelectGraph(this.selectedSymbol),this.appendPricesScroll(),this.appendDayGraph()}getDashboard(){this.getDashboardSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(t=>{this.cryptoService.cache.cacheCryptoDashboardData(t),this.logger.LOG(t.message,"CryptoDashboardComponent"),this.cryptoDashboard=t.data,this.cryptoService.cryptoDashboard=t.data,this.assets=t.data.assets,this.cryptoWallet=this.cryptoDashboard.wallets.filter(n=>"Crypto"==n.category),this.getCoinForGraph(),this.getMarketData()}),this.isWalletBalanceHidden()}vibrate(){this.appService.vibrate()}getCoinForGraph(){this.symbolList=[];let t=(0,g.p)(this.assets);t=t.filter(n=>n.balance>0&&"USDT"!=n.symbol),t.forEach(n=>this.symbolList.push(n.symbol+"-USDT")),0==this.symbolList.length&&this.symbolList.push("BTC-USDT")}onChange(t){var n;null===(n=document.getElementById("selectSymbol"))||void 0===n||n.remove(),this.appendSelectGraph(t)}appendListGraph(){var t;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",n.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "defaultColumn": "overview",\n      "screener_type": "crypto_mkt",\n      "displayCurrency": "USD",\n      "colorTheme": "dark",\n      "locale": "it",\n      "isTransparent": true\n    }',null===(t=this.tradingViewListCrypto)||void 0===t||t.nativeElement.appendChild(n)}appendPrices(){var t;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-tickers.js",n.text='\n    {\n      "symbols": [\n        {\n          "proName": "BINANCE:BTCUSDT",\n          "title": "Bitcoin"\n        },\n        {\n          "proName": "BINANCE:ETHUSDT",\n          "title": "Ethereum"\n        },\n        {\n          "proName": "BINANCE:BNBUSDT",\n          "title": "Binance Coin"\n        },\n        {\n          "proName": "CROUSDT",\n          "title": "Crypto.com"\n        },\n        {\n          "proName": "BINANCE:SANDUSDT",\n          "title": "Sandbox"\n        },\n        {\n          "proName": "FX_IDC:EURUSD",\n          "title": "EUR/USD"\n        }\n      ],\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "showSymbolLogo": true,\n      "locale": "it"\n    }',null===(t=this.tradingViewPrices)||void 0===t||t.nativeElement.appendChild(n)}appendPricesScroll(){var t;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",n.text='\n    {\n      "symbols": [\n        {\n          "proName": "FX_IDC:EURUSD",\n          "title": "EUR/USD"\n        },\n        {\n          "description": "Bitcoin",\n          "proName": "BINANCE:BTCUSD"\n        },\n        {\n          "description": "Ethereum",\n          "proName": "BINANCE:ETHUSD"\n        },\n        {\n          "description": "Crypto.com",\n          "proName": "COINBASE:CROUSD"\n        },\n        {\n          "description": "Binance Coin",\n          "proName": "BINANCE:BNBUSD"\n        },\n        {\n          "description": "Sandbox",\n          "proName": "COINBASE:SANDUSD"\n        }\n      ],\n      "showSymbolLogo": true,\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "displayMode": "compact",\n      "locale": "it"\n    }',null===(t=this.tradingViewPricesScroll)||void 0===t||t.nativeElement.appendChild(n)}appendDayGraph(){var t;let n=this._renderer2.createElement("div");n.style.height="100%",n.id="selectSymbol1";let i=this._renderer2.createElement("script");i.type="text/javascript",i.src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js",i.text='\n      {\n        "container_id": "test",\n        "symbol": "$SYMBOL$",\n        "width": "100%",\n        "height": "100%",\n        "locale": "it",\n        "dateRange": "1D",\n        "colorTheme": "dark",\n        "isTransparent": true,\n        "autosize": true,\n        "largeChartUrl": ""\n      }'.replace("$SYMBOL$","BTCUSDT"),this._renderer2.appendChild(n,i),this._renderer2.appendChild(null===(t=this.dayGraph)||void 0===t?void 0:t.nativeElement,n)}appendSelectGraph(t){var n;let i=this._renderer2.createElement("div");i.style.height="100%",i.id="selectSymbol";let o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js",o.text='\n    {\n      "symbols": [\n        [\n          "$SYMBOL$|7D"\n        ]\n      ],\n      "chartOnly": false,\n      "width": "100%",\n      "height": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "autosize": true,\n      "showVolume": false,\n      "showMA": false,\n      "hideDateRanges": false,\n      "hideMarketStatus": false,\n      "hideSymbolLogo": false,\n      "scalePosition": "right",\n      "scaleMode": "Normal",\n      "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",\n      "fontSize": "10",\n      "noTimeScale": false,\n      "valuesTracking": "1",\n      "changeMode": "price-and-percent",\n      "chartType": "area",\n      "maLineColor": "#2962FF",\n      "maLineWidth": 1,\n      "maLength": 9,\n      "backgroundColor": "rgba(19, 23, 34, 0)",\n      "lineWidth": 2,\n      "lineType": 0,\n      "dateRanges": [\n        "1d|1",\n        "1w|15",\n        "1m|30",\n        "3m|60",\n        "12m|1D",\n        "60m|1W",\n        "all|1M"\n      ]\n    }'.replace("$SYMBOL$",t),this._renderer2.appendChild(i,o),this._renderer2.appendChild(null===(n=this.selectGraph)||void 0===n?void 0:n.nativeElement,i)}saveWallet(t){this.getDashboard()}hiddenShowAmount(){this.hidden=!this.hidden,localStorage.setItem(c.Vs.HIDDENAMOUNT,this.hidden.toString())}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(c.Vs.HIDDENAMOUNT));null!=t&&(this.hidden=t)}getMarketData(){this.marketDataSubscribe=this.cryptoService.getCryptoPriceData(this.cryptoDashboard.currency).subscribe(t=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(t),this.filterMarketData=t.data})}calculateTrend(t,n){return parseFloat((t-t/(1+n/100)).toFixed(2))}ngOnDestroy(){this.getDashboardSubscribe.unsubscribe(),this.marketDataSubscribe.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(I.H),e.Y36(e.Qsj),e.Y36(C),e.Y36(M.m),e.Y36(B.z))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-crypto-dashboard"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Lt,5),e.Gf(Jt,5),e.Gf(Pt,5),e.Gf(Ft,5),e.Gf(Yt,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.tradingViewListCrypto=i.first),e.iGM(i=e.CRH())&&(n.tradingViewPrices=i.first),e.iGM(i=e.CRH())&&(n.tradingViewPricesScroll=i.first),e.iGM(i=e.CRH())&&(n.selectGraph=i.first),e.iGM(i=e.CRH())&&(n.dayGraph=i.first)}},decls:173,vars:126,consts:[[1,"mx-auto","section-width"],[3,"routerLinks"],["id","appCapsule"],[1,"title-section"],[1,"title","hidden_mobile"],[1,"row","mx-auto"],[1,"col-xl-4","col-md-6"],[1,"section","mt-2"],[1,"card","border_round","d-flex",2,"margin","-10px"],["alt","media",1,"cover","imgCover",3,"src"],[1,"card-body"],[1,"d-flex","float-end"],["width","100px","alt","","srcset","",3,"src"],[1,"clickable",3,"click"],[1,"card-title"],["name","eye-outline","style","\n                      height: 20px;\n                      width: 20px;\n                      align-self: center;\n                      position: absolute;\n                      top: 3px;\n                      color: aliceblue;\n                    ","class","ps-1",4,"ngIf"],["name","eye-off-outline","style","\n                      height: 20px;\n                      width: 20px;\n                      align-self: center;\n                      position: absolute;\n                      top: 3px;\n                      color: aliceblue;\n                    ","class","ps-1",4,"ngIf"],[1,"card-text","fs-3","balance","load-text"],[1,"hidden"],[1,"load-text",2,"margin-top","-15px"],[1,"card-text","load-text",2,"margin-top","-15px"],[1,"row","text-center",2,"height","25px"],["data-bs-toggle","modal",1,"col-6",2,"position","absolute","left","0px","z-index","99","pointer-events","visible","cursor","pointer"],["name","add-circle",1,"icon-size","icon-color"],[2,"vertical-align","-1px",3,"click"],["routerLink","/crypto/asset",1,"col-6","hidden_desktop",2,"position","absolute","right","0px","border-left","solid 1px","z-index","99","pointer-events","visible","cursor","pointer",3,"click"],["name","albums-outline",1,"icon-size","icon-color"],[2,"vertical-align","-1px","color","#958d9e"],["data-bs-toggle","modal",1,"col-6","hidden_mobile",2,"position","absolute","right","0px","border-left","solid 1px","z-index","99","pointer-events","visible","cursor","pointer"],[1,"hidden_desktop","mt-3","text-center"],[1,"row"],[1,"col-3",2,"margin-left","-1px"],["data-bs-toggle","modal",1,"inline-block","quick-action","clickable"],[1,"user-card"],[1,"icon-wrapper","bg-danger"],["name","duplicate"],[1,"title_text"],[1,"icon-wrapper","bg-success"],["name","swap-horizontal"],["routerLink","/crypto/resume",1,"inline-block","quick-action"],[1,"icon-wrapper","bg-warning"],["name","bar-chart"],["routerLink","/settings",1,"inline-block","quick-action"],[1,"icon-wrapper",2,"background","#337ab7"],["name","settings",2,"color","aliceblue"],[1,"section","mt-1","mb-1","hidden_desktop"],[1,"card"],[1,"tradingview-widget-container"],[1,"tradingview-widget-container__widget"],["tradingViewPricesScroll",""],[1,"section","stats-section","col-xl-5"],[1,"row","mt-1"],[1,"col-6"],[3,"title","value"],[1,"row","mt-2"],[1,"section","col-12","col-md-3","section-performance","mx-auto"],[1,"section-heading"],[1,"card","loading-hidden",2,"margin-top","-30px"],[1,"card-body","text-center","mx-auto"],["dayGraph",""],[1,"section","mt-5","col-xl-6"],[1,"title","ms-2"],["routerLink","/crypto/asset",1,"link"],[1,"transactions"],[4,"ngFor","ngForOf"],[1,"col-xl-6"],[1,"section","mt-4"],[1,"title"],[1,"form-group","boxed",2,"width","150px","margin-bottom","-10px","margin-top","-20px"],[1,"input-wrapper"],[1,"form-control","custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card",2,"margin-left","-10px","margin-right","-10px"],[1,"card-body",2,"height","380px"],[2,"height","360px"],["selectGraph",""],[1,"col-12"],["tradingViewPrices",""],[1,"section","mt-3","col-12"],[1,"link","me-2",3,"routerLink"],[1,"transactions","marketData"],[3,"filterMarketData","limit"],[1,"appFooter","fixed"],[1,"footer-title"],[3,"modalId","isCrypto","emitAddWallet"],[3,"cryptoCurrency","modalId","wallets","emitAddAsset"],[3,"modalId","wallets","assets","currency","statsAssetsDays","emitAddStats"],["name","eye-outline",1,"ps-1",2,"height","20px","width","20px","align-self","center","position","absolute","top","3px","color","aliceblue"],["name","eye-off-outline",1,"ps-1",2,"height","20px","width","20px","align-self","center","position","absolute","top","3px","color","aliceblue"],[3,"assets","currency","hiddenAmount",4,"ngIf"],[3,"assets","currency","hiddenAmount"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-crypto-header",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e._UZ(11,"img",9),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e._UZ(14,"img",12),e.qZA(),e.TgZ(15,"div",13),e.NdJ("click",function(){return n.hiddenShowAmount()}),e.TgZ(16,"p",14),e._uU(17),e.ALo(18,"translate"),e.YNc(19,Qt,1,0,"ion-icon",15),e.YNc(20,jt,1,0,"ion-icon",16),e.qZA(),e.qZA(),e.TgZ(21,"h5",17),e._uU(22),e.TgZ(23,"small",18),e._uU(24),e.qZA(),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.qZA(),e.TgZ(27,"p",20),e.TgZ(28,"small"),e._uU(29),e.ALo(30,"translate"),e.ALo(31,"date"),e.qZA(),e.qZA(),e._UZ(32,"hr"),e.TgZ(33,"div",21),e.TgZ(34,"div",22),e._UZ(35,"ion-icon",23),e.TgZ(36,"a",24),e.NdJ("click",function(){return n.vibrate()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.qZA(),e.TgZ(39,"div",25),e.NdJ("click",function(){return n.vibrate()}),e._UZ(40,"ion-icon",26),e.TgZ(41,"a",27),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.qZA(),e.TgZ(44,"div",28),e._UZ(45,"ion-icon",23),e.TgZ(46,"a",27),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",29),e.TgZ(50,"div",30),e.TgZ(51,"div",31),e.TgZ(52,"a",32),e.TgZ(53,"div",33),e.TgZ(54,"div",34),e._UZ(55,"ion-icon",35),e.qZA(),e.TgZ(56,"strong",36),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",31),e.TgZ(60,"a",32),e.TgZ(61,"div",33),e.TgZ(62,"div",37),e._UZ(63,"ion-icon",38),e.qZA(),e.TgZ(64,"strong",36),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",31),e.TgZ(68,"a",39),e.TgZ(69,"div",33),e.TgZ(70,"div",40),e._UZ(71,"ion-icon",41),e.qZA(),e.TgZ(72,"strong"),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"div",31),e.TgZ(76,"a",42),e.TgZ(77,"div",33),e.TgZ(78,"div",43),e._UZ(79,"ion-icon",44),e.qZA(),e.TgZ(80,"strong"),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",45),e.TgZ(84,"div",46),e.TgZ(85,"div",10),e.TgZ(86,"div",47),e._UZ(87,"div",48),e._UZ(88,"div",null,49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(90,"div",50),e.TgZ(91,"div",51),e.TgZ(92,"div",52),e._UZ(93,"app-stats-card",53),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"div",52),e._UZ(96,"app-stats-card",53),e.ALo(97,"translate"),e.qZA(),e.qZA(),e.TgZ(98,"div",54),e.TgZ(99,"div",52),e._UZ(100,"app-stats-card",53),e.ALo(101,"translate"),e.ALo(102,"date"),e.qZA(),e.TgZ(103,"div",52),e._UZ(104,"app-stats-card",53),e.ALo(105,"translate"),e.ALo(106,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(107,"div",55),e.TgZ(108,"div",56),e.TgZ(109,"p"),e._uU(110),e.ALo(111,"translate"),e.qZA(),e.qZA(),e.TgZ(112,"div",57),e.TgZ(113,"div",58),e.TgZ(114,"div",47),e._UZ(115,"div",48),e._UZ(116,"div",null,59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(118,"div",30),e.TgZ(119,"div",60),e.TgZ(120,"div",56),e.TgZ(121,"h2",61),e._uU(122),e.ALo(123,"translate"),e.qZA(),e.TgZ(124,"a",62),e._uU(125),e.ALo(126,"translate"),e.qZA(),e.qZA(),e.TgZ(127,"div",63),e.YNc(128,Rt,1,0,"app-loading-card",64),e.YNc(129,Ht,2,1,"div",64),e.qZA(),e.qZA(),e.TgZ(130,"div",65),e.TgZ(131,"div",66),e.TgZ(132,"div",56),e.TgZ(133,"h2",67),e._uU(134),e.ALo(135,"translate"),e.qZA(),e.TgZ(136,"div",68),e.TgZ(137,"div",69),e.TgZ(138,"select",70),e.NdJ("ngModelChange",function(o){return n.onChange(o)}),e.YNc(139,Wt,2,2,"option",71),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(140,"div",72),e.TgZ(141,"div",73),e.TgZ(142,"div",47),e._UZ(143,"div",48),e._UZ(144,"div",74,75),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(146,"div",30),e.TgZ(147,"div",76),e.TgZ(148,"div",66),e.TgZ(149,"div",72),e.TgZ(150,"div",10),e.TgZ(151,"div",47),e._UZ(152,"div",48),e._UZ(153,"div",null,77),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(155,"div",78),e.TgZ(156,"div",56),e.TgZ(157,"h2",61),e._uU(158),e.ALo(159,"translate"),e.qZA(),e.TgZ(160,"a",79),e._uU(161),e.ALo(162,"translate"),e.qZA(),e.qZA(),e.TgZ(163,"div",80),e.YNc(164,Vt,1,0,"app-loading-card",64),e._UZ(165,"app-market-data-table",81),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(166,"div",82),e.TgZ(167,"div",83),e._uU(168),e.ALo(169,"translate"),e.qZA(),e.qZA(),e.TgZ(170,"app-add-wallet",84),e.NdJ("emitAddWallet",function(o){return n.saveWallet(o)}),e.qZA(),e.TgZ(171,"app-add-asset-modal",85),e.NdJ("emitAddAsset",function(o){return n.saveWallet(o)}),e.qZA(),e.TgZ(172,"app-operations-modal",86),e.NdJ("emitAddStats",function(){return n.getDashboard()}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("routerLinks",""),e.xp6(4),e.hij(" ",e.lcZ(6,71,"crypto.dashboard.title")," "),e.xp6(6),e.MGl("src","",n.environment.baseUrlHeader,"assets/images/crypto/card.svg",e.LSH),e.xp6(3),e.MGl("src","",n.environment.baseUrlHeader,"assets/images/crypto/Bitcoin-icon.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(18,73,"crypto.dashboard.cardRes.title")," "),e.xp6(2),e.Q6J("ngIf",!n.hidden),e.xp6(1),e.Q6J("ngIf",n.hidden),e.xp6(2),e.hij(" ",n.hidden?n.amount:n.cryptoDashboard.balance," "),e.xp6(2),e.Oqu(n.cryptoDashboard.currency),e.xp6(2),e.hij(" ",n.hidden?n.amount:n.cryptoDashboard.btcBalance," BTC "),e.xp6(3),e.AsE("",e.lcZ(30,75,"crypto.dashboard.cardRes.lastUpdate")," ",e.xi3(31,77,n.cryptoDashboard.lastUpdate,"d MMM y HH:mm"),""),e.xp6(5),e.Q2q("data-bs-target","#",n.modalConstant.ADDASSET,""),e.xp6(3),e.Oqu(e.lcZ(38,80,"crypto.dashboard.cardRes.opt1")),e.xp6(5),e.Oqu(e.lcZ(43,82,"crypto.dashboard.cardRes.opt2")),e.xp6(2),e.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.xp6(3),e.Oqu(e.lcZ(48,84,"crypto.dashboard.cardRes.opt3")),e.xp6(5),e.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.xp6(5),e.Oqu(e.lcZ(58,86,"crypto.dashboard.mobileBtn.opt1")),e.xp6(3),e.Q2q("data-bs-target","#",n.modalConstant.ADDOPERATIONS,""),e.xp6(5),e.Oqu(e.lcZ(66,88,"crypto.dashboard.mobileBtn.opt2")),e.xp6(8),e.Oqu(e.lcZ(74,90,"crypto.dashboard.mobileBtn.opt3")),e.xp6(8),e.Oqu(e.lcZ(82,92,"crypto.dashboard.mobileBtn.opt4")),e.xp6(12),e.MGl("value","<h5 class='card-text fs-3 m-0'>",(n.hidden?n.amount:n.cryptoDashboard.holdingLong.balance).toString()+" <small>"+n.cryptoDashboard.currency.toString()+"</small></h5>","\n              "),e.Q6J("title",e.lcZ(94,94,"crypto.dashboard.performanceCard.holding")),e.xp6(3),e.Tol("date"),e.s9C("title",e.lcZ(97,96,"crypto.dashboard.performanceCard.trading")),e.hYB("value","<h5 class='card-text fs-3 m-0'>\n                ",n.hidden?n.amount:n.cryptoDashboard.trading.balance,"\n                <small>",n.cryptoDashboard.currency,"</small>\n              </h5>"),e.xp6(4),e.Tol(0==n.cryptoDashboard.holdingLong.performance?"text-warning":n.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger"),e.hYB("title","",e.lcZ(101,98,"crypto.dashboard.performanceCard.lastUpdate"),"\n                ",e.xi3(102,100,n.cryptoDashboard.holdingLong.lastUpdate,"d MMM y"),""),e.FAE("value","",n.hidden?n.amount:n.calculateTrend(n.cryptoDashboard.holdingLong.balance,n.cryptoDashboard.holdingLong.performance)+" "+n.cryptoDashboard.currency,"\n              <span class='badge align-top ",0==n.cryptoDashboard.holdingLong.performance?"badge-warning":n.cryptoDashboard.holdingLong.performance>0?"badge-success":"badge-danger","'\n            >\n              <ion-icon\n                name='",n.cryptoDashboard.holdingLong.performance>0?"arrow-up-outline":"arrow-down-outline","'\n              ></ion-icon>\n              ",n.cryptoDashboard.holdingLong.performance,"%\n            </span>"),e.xp6(4),e.Tol(0==n.cryptoDashboard.trading.performance?"text-warning":n.cryptoDashboard.trading.performance>0?"text-success":"text-danger"),e.hYB("title","",e.lcZ(105,103,"crypto.dashboard.performanceCard.lastUpdate"),"\n                ",e.xi3(106,105,n.cryptoDashboard.trading.lastUpdate,"d MMM y"),""),e.FAE("value","",n.hidden?n.amount:n.calculateTrend(n.cryptoDashboard.trading.balance,n.cryptoDashboard.trading.performance)+" "+n.cryptoDashboard.currency,"\n              <span class='badge align-top ",0==n.cryptoDashboard.trading.performance?"badge-warning":n.cryptoDashboard.trading.performance>0?"badge-success":"badge-danger","'\n            >\n              <ion-icon\n                name='",n.cryptoDashboard.trading.performance>0?"arrow-up-outline":"arrow-down-outline","'\n              ></ion-icon>\n              ",n.cryptoDashboard.trading.performance,"%\n            </span>"),e.xp6(6),e.hij(" ",e.lcZ(111,108,"crypto.dashboard.performanceCard.title")," "),e.xp6(12),e.hij(" ",e.lcZ(123,110,"crypto.dashboard.assetsCard.title")," "),e.xp6(3),e.Oqu(e.lcZ(126,112,"crypto.dashboard.assetsCard.view")),e.xp6(3),e.Q6J("ngForOf",e.DdM(122,oe)),e.xp6(1),e.Q6J("ngForOf",n.assets),e.xp6(5),e.hij(" ",e.lcZ(135,114,"crypto.dashboard.assetsCard.assetGraph")," "),e.xp6(4),e.Q6J("ngModel",n.selectedSymbol),e.xp6(1),e.Q6J("ngForOf",n.symbolList),e.xp6(19),e.hij(" ",e.lcZ(159,116,"crypto.dashboard.marketData.title")," "),e.xp6(2),e.Q6J("routerLink",e.VKq(123,Gt,n.cryptoDashboard.currency)),e.xp6(1),e.Oqu(e.lcZ(162,118,"crypto.dashboard.marketData.view")),e.xp6(3),e.Q6J("ngForOf",e.DdM(125,oe)),e.xp6(1),e.Q6J("filterMarketData",n.filterMarketData)("limit",15),e.xp6(3),e.hij(" ",e.lcZ(169,120,"copyright")," "),e.xp6(2),e.Q6J("modalId",n.modalConstant.ADDWALLET)("isCrypto",!0),e.xp6(1),e.Q6J("cryptoCurrency",n.cryptoDashboard.currency)("modalId",n.modalConstant.ADDASSET)("wallets",n.cryptoWallet),e.xp6(1),e.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoDashboard.wallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},directives:[k,u.O5,A.gu,v.rH,A.YI,v.yS,A.Fo,we.v,u.sg,Oe.o,ee.s,p.EJ,p.JJ,p.On,p.YN,p.Kr,te,ne.Z,ie,Y],pipes:[_.X$,u.uU],styles:[".cover[_ngcontent-%COMP%]{height:100%;inset:0;position:absolute;border-radius:20px}.imgCover[_ngcontent-%COMP%]{display:block;object-fit:cover;width:100%}.icon-size[_ngcontent-%COMP%]{height:30px;width:30px;margin-top:-10px;margin-bottom:-10px;margin-right:10px}.icon-color[_ngcontent-%COMP%]{color:#5a75ff}.badge[_ngcontent-%COMP%]{margin-top:-10px}.w50[_ngcontent-%COMP%]{max-width:50%!important}@media screen and (max-width: 580px){.line[_ngcontent-%COMP%]{border-left:none!important}.line[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .line[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:0!important}}.statics[_ngcontent-%COMP%]{width:max-content;align-items:center;align-self:center;text-align:center}.card-body[_ngcontent-%COMP%]{width:100%}.line[_ngcontent-%COMP%]{border-left:solid 1px}.inline-block[_ngcontent-%COMP%]{display:inline-block}.title-section[_ngcontent-%COMP%]{margin-left:30px;margin-top:10px}@media screen and (max-width: 780px){.fixed[_ngcontent-%COMP%]{width:100%;bottom:0;height:120px;margin-top:-70px}.balance[_ngcontent-%COMP%]{font-size:xx-large!important}.section-performance[_ngcontent-%COMP%]{margin-top:30px;max-width:98%}.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px!important}.marketData[_ngcontent-%COMP%]{margin-bottom:30px!important;margin-left:5px!important;margin-right:5px!important}}@media screen and (min-width: 780px){.loading-hidden[_ngcontent-%COMP%]{margin-right:10px}}.row[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.quick-action[_ngcontent-%COMP%]{width:80px}.quick-action[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]{background-color:transparent}.quick-action[_ngcontent-%COMP%]   .title_text[_ngcontent-%COMP%]{width:70px;margin-left:calc(50% - 34px);text-align:center}.quick-action[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{border-radius:50px;width:60px;height:60px}.quick-action[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:30px!important;height:30px!important;margin-top:calc(50% - 15px)}.priority[_ngcontent-%COMP%]{position:absolute;z-index:999!important}@media screen and (min-width: 780px) and (max-width: 1200px){.section-performance[_ngcontent-%COMP%]{margin-top:40px}}@media screen and (min-width: 580px) and (max-width: 770px){.line[_ngcontent-%COMP%]{border-left:solid 0px}}.card-title[_ngcontent-%COMP%]{position:relative;z-index:9!important}.marketData[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-bottom:-30px}.section-performance[_ngcontent-%COMP%]{max-width:98%!important}.title[_ngcontent-%COMP%]{margin-left:5px}"]}),a})();function zt(a,s){if(1&a&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&a){const t=s.$implicit,n=e.oxw();e.s9C("value",t),e.Q6J("selected",n.currency==t),e.xp6(1),e.hij(" ",t," ")}}let Xt=(()=>{class a{constructor(t,n){this.userService=t,this.logger=n,this.updateUserSub=new T.w0,this.environment=y.N,this.modalId="",this.currency="",this.emitAddCurrency=new e.vpe,this.currencies=["EUR","USD","GBP"]}ngOnDestroy(){this.updateUserSub.unsubscribe()}selectCurrency(){let t=this.userService.user;t.settings.cryptoCurrency=this.currency,this.updateUserSub=this.userService.updateUserData(t).subscribe(n=>{this.logger.LOG(n.message,"SettingsComponent"),this.userService.user=n.data,this.userService.setUserGlobally(),this.emitAddCurrency.emit(this.currency),this.currency=""})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(K.K),e.Y36(M.m))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-select-crypto-currency"]],inputs:{modalId:"modalId"},outputs:{emitAddCurrency:"emitAddCurrency"},decls:38,vars:24,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["type","submit"],["f","ngForm"],[1,"action-sheet-content"],[1,"row"],[1,"col-md-6"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed"],[1,"input-wrapper"],["id","currency","name","wallet","required","","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["currency1","ngModel"],["selected","","disabled","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"addWallet","text-end","hidden_mobile"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mb-1",3,"disabled","click"],[1,"mt-1","form-group","basic","hidden_desktop"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],[3,"selected","value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"form",6,7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"h2",12),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p"),e.TgZ(18,"small"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",10),e.TgZ(22,"div",13),e.TgZ(23,"div",14),e.TgZ(24,"select",15,16),e.NdJ("ngModelChange",function(o){return n.currency=o}),e.TgZ(26,"option",17),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,zt,2,3,"option",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",19),e.TgZ(31,"button",20),e.NdJ("click",function(){return n.selectCurrency()}),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.qZA(),e.TgZ(34,"div",21),e.TgZ(35,"button",22),e.NdJ("click",function(){return n.selectCurrency()}),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(9);e.s9C("id",n.modalId),e.xp6(5),e.hij(" ",e.lcZ(6,12,"crypto.cryptoModal.selectCurrency.title")," "),e.xp6(10),e.hij(" ",e.lcZ(16,14,"crypto.cryptoModal.selectCurrency.title")," "),e.xp6(4),e.Oqu(e.lcZ(20,16,"crypto.cryptoModal.selectCurrency.subtitle")),e.xp6(5),e.Q6J("ngModel",n.currency),e.xp6(2),e.Q6J("value",n.currency),e.xp6(1),e.hij(" ",e.lcZ(28,18,"crypto.cryptoModal.selectCurrency.title")," "),e.xp6(2),e.Q6J("ngForOf",n.currencies),e.xp6(2),e.Q6J("disabled",i.invalid),e.xp6(1),e.hij(" ",e.lcZ(33,20,"crypto.cryptoModal.selectCurrency.save")," "),e.xp6(3),e.Q6J("disabled",i.invalid),e.xp6(1),e.hij(" ",e.lcZ(37,22,"crypto.cryptoModal.selectCurrency.save")," ")}},directives:[p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,p.YN,p.Kr,u.sg],pipes:[_.X$],styles:[""]}),a})();function Kt(a,s){1&a&&e._UZ(0,"ion-icon",22)}function en(a,s){1&a&&e._UZ(0,"ion-icon",23)}function tn(a,s){1&a&&e._UZ(0,"ion-icon",22)}function nn(a,s){1&a&&e._UZ(0,"ion-icon",23)}function an(a,s){1&a&&e._UZ(0,"ion-icon",22)}function on(a,s){1&a&&e._UZ(0,"ion-icon",23)}function sn(a,s){1&a&&e._UZ(0,"ion-icon",22)}function rn(a,s){1&a&&e._UZ(0,"ion-icon",23)}let ln=(()=>{class a{constructor(t,n){this.dashboardService=t,this.router=n,this.isWalletCreated=!1,this.isCryptoWalletCreated=!1,this.isAssetCreated=!1,this.isCurrencyAdded=!1,this.currency="",this.CRYPTO="Crypto",this.enableModalCrypto=!1}get modalConstant(){return c.Dq}ngOnInit(){let t=this.dashboardService.user;if(this.wallets=this.dashboardService.dashboard.wallets,this.dashboard=this.dashboardService.dashboard,this.wallets&&null!=this.wallets&&(this.cryptoWallet=this.wallets.filter(n=>n.category==this.CRYPTO)),null!=this.wallets&&0!=this.wallets.length){this.isWalletCreated=!0;let n=this.wallets.filter(i=>i.category==this.CRYPTO);null!=n&&0!=n.length&&(this.isCryptoWalletCreated=!0,n.find(i=>null!=i.assets&&0!=i.assets.length)&&(this.isAssetCreated=!0))}t?.settings.cryptoCurrency&&(this.isCurrencyAdded=!0,this.currency=t.settings.cryptoCurrency),this.goToDashboard()}validateBtn(){return this.isCryptoWalletCreated&&this.isWalletCreated&&this.isAssetCreated&&this.isCurrencyAdded}saveWallet(t){var n;if(null!=this.wallets){let i=null===(n=this.wallets)||void 0===n?void 0:n.indexOf(this.wallets.find(o=>o.name==t.name));this.wallets[i]=t,this.isWalletCreated=!0,this.cryptoWallet=this.wallets.filter(o=>o.category==this.CRYPTO),this.wallets[i].category==this.CRYPTO&&(this.isCryptoWalletCreated=!0),null!=this.wallets[i].assets&&0!=this.wallets[i].assets.length&&(this.isAssetCreated=!0)}else null==this.wallets&&t.category==this.CRYPTO?(this.isCryptoWalletCreated=!0,this.dashboardService.dashboard.wallets=[t],this.cryptoWallet=[t],this.wallets=[t],this.isWalletCreated=!0):(this.dashboardService.dashboard.wallets=[t],this.wallets=[t],this.isWalletCreated=!0)}selectCurrency(t){this.isCurrencyAdded=!0,this.currency=t}goToDashboard(){this.isAssetCreated&&this.isCryptoWalletCreated&&this.isCurrencyAdded&&this.isWalletCreated&&this.router.navigate(["/crypto/dashboard"])}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(W.s),e.Y36(v.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-requirements"]],decls:77,vars:67,consts:[[1,"mx-auto","section-width"],[3,"routerLinks","title"],["id","appCapsule"],[1,"title-section"],[1,"title"],[1,"section","mt-3","mx-auto",2,"max-width","600px"],[1,"card","border_round","mb-3"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","mt-1","mb-1"],["data-bs-toggle","modal",1,"item","clickable"],[1,"icon-box"],["class","icon-medium bg-orange","name","alert-circle-outline",4,"ngIf"],["class","icon-medium bg-blue","name","checkmark-circle",4,"ngIf"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],["data-bs-toggle","modal",3,"click"],["data-bs-toggle","modal"],[1,"form-button-group","transparent","section-width","mx-auto"],["type","button","routerLink","/crypto/dashboard",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled"],[3,"modalId","categoriesInput","isCrypto","wallets","emitAddWallet"],[3,"modalId","wallets","cryptoCurrency","emitAddAsset"],[3,"modalId","emitAddCurrency"],["name","alert-circle-outline",1,"icon-medium","bg-orange"],["name","checkmark-circle",1,"icon-medium","bg-blue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-crypto-header",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"h2",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"div",6),e.TgZ(13,"ul",7),e.TgZ(14,"li"),e.TgZ(15,"a",8),e.TgZ(16,"div",9),e.YNc(17,Kt,1,0,"ion-icon",10),e.YNc(18,en,1,0,"ion-icon",11),e.qZA(),e.TgZ(19,"div",12),e.TgZ(20,"div"),e.TgZ(21,"strong"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",13),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e._UZ(27,"div",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"li"),e.TgZ(29,"a",15),e.NdJ("click",function(){return n.enableModalCrypto=!1}),e.TgZ(30,"div",9),e.YNc(31,tn,1,0,"ion-icon",10),e.YNc(32,nn,1,0,"ion-icon",11),e.qZA(),e.TgZ(33,"div",12),e.TgZ(34,"div"),e.TgZ(35,"strong"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",13),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.qZA(),e._UZ(41,"div",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"li"),e.TgZ(43,"a",15),e.NdJ("click",function(){return n.enableModalCrypto=!0}),e.TgZ(44,"div",9),e.YNc(45,an,1,0,"ion-icon",10),e.YNc(46,on,1,0,"ion-icon",11),e.qZA(),e.TgZ(47,"div",12),e.TgZ(48,"div"),e.TgZ(49,"strong"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"div",13),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.qZA(),e._UZ(55,"div",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"li"),e.TgZ(57,"a",16),e.TgZ(58,"div",9),e.YNc(59,sn,1,0,"ion-icon",10),e.YNc(60,rn,1,0,"ion-icon",11),e.qZA(),e.TgZ(61,"div",12),e.TgZ(62,"div"),e.TgZ(63,"strong"),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"div",13),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.qZA(),e._UZ(69,"div",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",17),e.TgZ(71,"button",18),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"app-add-wallet",19),e.NdJ("emitAddWallet",function(o){return n.saveWallet(o)}),e.qZA(),e.TgZ(75,"app-add-asset-modal",20),e.NdJ("emitAddAsset",function(o){return n.saveWallet(o)}),e.qZA(),e.TgZ(76,"app-select-crypto-currency",21),e.NdJ("emitAddCurrency",function(o){return n.selectCurrency(o)}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("routerLinks","")("title",e.lcZ(2,43,"crypto.requirements.headerTitle")),e.xp6(5),e.Oqu(e.lcZ(7,45,"crypto.requirements.title")),e.xp6(3),e.hij(" ",e.lcZ(10,47,"crypto.requirements.subTitle")," "),e.xp6(6),e.Q2q("data-bs-target","#",n.modalConstant.ADDCRYPTOCURRENCY,""),e.xp6(2),e.Q6J("ngIf",!n.isCurrencyAdded),e.xp6(1),e.Q6J("ngIf",n.isCurrencyAdded),e.xp6(4),e.hij(" ",e.lcZ(23,49,"crypto.requirements.req4.title"),""),e.xp6(3),e.hij(" ",e.lcZ(26,51,"crypto.requirements.req4.subTitle")," "),e.xp6(4),e.Gre("item clickable ",n.isCurrencyAdded?"":"disabled",""),e.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.xp6(2),e.Q6J("ngIf",!n.isWalletCreated),e.xp6(1),e.Q6J("ngIf",n.isWalletCreated),e.xp6(4),e.Oqu(e.lcZ(37,53,"crypto.requirements.req1.title")),e.xp6(3),e.hij(" ",e.lcZ(40,55,"crypto.requirements.req1.subTitle")," "),e.xp6(4),e.Gre("item clickable ",n.isCurrencyAdded?"":"disabled",""),e.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),e.xp6(2),e.Q6J("ngIf",!n.isCryptoWalletCreated),e.xp6(1),e.Q6J("ngIf",n.isCryptoWalletCreated),e.xp6(4),e.Oqu(e.lcZ(51,57,"crypto.requirements.req2.title")),e.xp6(3),e.hij(" ",e.lcZ(54,59,"crypto.requirements.req2.subTitle")," "),e.xp6(4),e.Gre("item clickable ",n.isCryptoWalletCreated?"":"disabled",""),e.Q2q("data-bs-target","#",n.modalConstant.ADDASSET,""),e.xp6(2),e.Q6J("ngIf",!n.isAssetCreated),e.xp6(1),e.Q6J("ngIf",n.isAssetCreated),e.xp6(4),e.hij(" ",e.lcZ(65,61,"crypto.requirements.req3.title"),""),e.xp6(3),e.hij(" ",e.lcZ(68,63,"crypto.requirements.req3.subTitle")," "),e.xp6(4),e.Q6J("disabled",!n.validateBtn()),e.xp6(1),e.hij(" ",e.lcZ(73,65,"crypto.requirements.next")," "),e.xp6(2),e.Q6J("modalId",n.modalConstant.ADDWALLET)("categoriesInput",null==n.dashboard?null:n.dashboard.categories)("isCrypto",n.enableModalCrypto)("wallets",n.wallets),e.xp6(1),e.Q6J("modalId",n.modalConstant.ADDASSET)("wallets",n.cryptoWallet)("cryptoCurrency",n.currency),e.xp6(1),e.Q6J("modalId",n.modalConstant.ADDCRYPTOCURRENCY))},directives:[k,u.O5,A.gu,v.rH,A.YI,ne.Z,ie,Xt],pipes:[_.X$],styles:[".title-section[_ngcontent-%COMP%]{margin-left:30px;margin-top:45px;margin-right:30px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:30px!important;margin-bottom:20px!important}.title[_ngcontent-%COMP%]{font-size:larger}}.icon-medium[_ngcontent-%COMP%]{width:25px;height:25px}.bg-orange[_ngcontent-%COMP%]{color:#ffcd67}.bg-blue[_ngcontent-%COMP%]{color:#284bff}.disabled[_ngcontent-%COMP%]{pointer-events:none}"]}),a})();var Q=m(8862),P=m(4243);function cn(a,s){if(1&a&&(e.TgZ(0,"div",36),e.TgZ(1,"div",37),e.TgZ(2,"a",38),e.TgZ(3,"div",39),e.TgZ(4,"div",40),e.TgZ(5,"div",41),e._UZ(6,"i",42),e.qZA(),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"strong"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p",43),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",44),e.TgZ(16,"div",45),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",37),e.TgZ(19,"a",38),e.TgZ(20,"div",39),e.TgZ(21,"div",40),e.TgZ(22,"div",46),e._UZ(23,"i",47),e.qZA(),e.qZA(),e.TgZ(24,"div"),e.TgZ(25,"strong"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"p",43),e._uU(29),e.ALo(30,"translate"),e.ALo(31,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",44),e.TgZ(33,"div",48),e.TgZ(34,"div"),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"div",49),e.TgZ(37,"span"),e._UZ(38,"i"),e._uU(39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,20,"stats.total")),e.xp6(3),e.AsE(" ",e.lcZ(13,22,"stats.since")," ",e.xi3(14,24,t.cryptoDashboard.lastUpdate,"dd MMM y")," "),e.xp6(5),e.AsE(" ",t.cryptoDashboard.currency," ",t.hidden?t.amount:t.cryptoDashboard.balance," "),e.xp6(9),e.Oqu(e.lcZ(27,27,"stats.performance")),e.xp6(3),e.AsE(" ",e.lcZ(30,29,"stats.since")," ",e.xi3(31,31,t.cryptoDashboard.holdingLong.lastUpdate,"dd MMM y")," "),e.xp6(4),e.Gre("price ",0==t.cryptoDashboard.holdingLong.performance?"text-warning":t.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger",""),e.xp6(2),e.AsE(" ",t.cryptoDashboard.currency," ",t.hidden?t.amount:t.cryptoDashboard.holdingLong.balance," "),e.xp6(2),e.Gre("",0==t.cryptoDashboard.holdingLong.performance?"text-warning":t.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger"," mr-2"),e.xp6(1),e.Gre("fa ",t.cryptoDashboard.holdingLong.performance>0?"fa-arrow-up":"fa-arrow-down",""),e.xp6(1),e.hij(" ",t.cryptoDashboard.holdingLong.performance,"%")}}function dn(a,s){1&a&&(e.TgZ(0,"div",50),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function pn(a,s){if(1&a&&e._UZ(0,"apx-chart",51),2&a){const t=e.oxw();e.Q6J("series",t.chart1Y.series)("chart",t.chart1Y.chart)("title",t.chart1Y.title)("colors",t.chart1Y.colors)("legend",t.chart1Y.legend)("stroke",t.chart1Y.stroke)("labels",t.chart1Y.labels)}}function gn(a,s){1&a&&(e.TgZ(0,"div",50),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function un(a,s){if(1&a&&e._UZ(0,"apx-chart",51),2&a){const t=e.oxw();e.Q6J("series",t.chart3Y.series)("chart",t.chart3Y.chart)("title",t.chart3Y.title)("colors",t.chart3Y.colors)("legend",t.chart3Y.legend)("stroke",t.chart3Y.stroke)("labels",t.chart3Y.labels)}}function hn(a,s){1&a&&(e.TgZ(0,"div",50),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function mn(a,s){if(1&a&&e._UZ(0,"apx-chart",52),2&a){const t=e.oxw();e.Q6J("series",t.chartOptions.series)("chart",t.chartOptions.chart)("title",t.chartOptions.title)("colors",t.chartOptions.colors)("legend",t.chartOptions.legend)("stroke",t.chartOptions.stroke)("labels",t.chartOptions.labels)}}function _n(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().zeroBalanceSwitch()}),e._UZ(1,"ion-icon",54),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"crypto.asset.show"),""))}function Zn(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().zeroBalanceSwitch()}),e._UZ(1,"ion-icon",55),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"crypto.asset.hidden"),""))}function vn(a,s){if(1&a&&e._UZ(0,"app-transaction-card",57),2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("hiddenAmount",n.hidden)("assets",t)("currency",n.cryptoDashboard.currency)}}function An(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,vn,1,3,"app-transaction-card",56),e.qZA()),2&a){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.showZeroBalance?t.balance>=0:t.balance>0)}}let Tn=(()=>{class a{constructor(t,n,i,o){this.cryptoService=t,this.charts=n,this.screenService=i,this.logger=o,this.cryptoAssetSubscribe=new T.w0,this.amount="******",this.hidden=!1,this.cryptoDashboard=new O,this.assets=[],this.showZeroBalance=!1,this.thisYear=(new Date).getFullYear()}get modalConstant(){return c.Dq}ngOnDestroy(){this.cryptoAssetSubscribe.unsubscribe()}ngOnInit(){this.screenService.hideFooter(),this.getAssets()}getAssets(){this.cryptoDashboard=(0,g.p)(this.cryptoService.cryptoDashboard),this.cryptoAssetSubscribe=this.cryptoService.getCryptoAssetsData().subscribe(t=>{this.cryptoService.cache.cacheAssetsData(t),this.logger.LOG(t.message,"CryptoAssetComponent"),this.assets=t.data,this.cryptoService.assets=t.data,this.cryptoDashboard.assets=t.data}),this.graph1Y(),this.isWalletBalanceHidden()}graphAll(){if(!this.chartOptions){let t=(0,g.p)(this.cryptoDashboard);t.statsAssetsDays=this.getAllDate(),setTimeout(()=>{var n;this.cryptoDashboard.wallets&&(this.chartOptions=(null===(n=this.screenService)||void 0===n?void 0:n.screenWidth)<=780?this.charts.renderCryptoDatas(t,[c.Gf.MOBILE_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(t,[c.Gf.ULTRA_WIDE,c.Gf.LIVE_PRICE_AS_LAST_DATA]))},500)}}graph1Y(){if(!this.chart1Y){let t=(0,g.p)(this.cryptoDashboard);t.statsAssetsDays=this.getAllDate();let n=[];t.assets.forEach(i=>{var o;let r=null===(o=i.history)||void 0===o?void 0:o.filter(l=>l.date.toString().split("-")[0]===(new Date).getFullYear().toString());i.history=r,0!=i.balance&&n.push(i)}),t.assets=n,t.statsAssetsDays&&(t.statsAssetsDays=t.statsAssetsDays.filter(i=>i.toString().split("-")[0]===(new Date).getFullYear().toString())),setTimeout(()=>{var i;this.chart1Y=(null===(i=this.screenService)||void 0===i?void 0:i.screenWidth)<=780?this.charts.renderCryptoDatas(t,[c.Gf.MOBILE_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(t,[c.Gf.ULTRA_WIDE,c.Gf.LIVE_PRICE_AS_LAST_DATA])},500)}}graph3Y(){if(!this.chart3Y){let t=(0,g.p)(this.cryptoDashboard);t.statsAssetsDays=this.getAllDate();let n=[(new Date).getFullYear().toString(),((new Date).getFullYear()-1).toString(),((new Date).getFullYear()-2).toString()],i=[];t.assets.forEach((o,r)=>{var l;let d=null===(l=o.history)||void 0===l?void 0:l.filter(h=>n.includes(h.date.toString().split("-")[0]));o.history=d,0!=d?.length&&i.push(o)}),t.assets=i,t.statsAssetsDays&&(t.statsAssetsDays=t.statsAssetsDays.filter(o=>n.includes(o.toString().split("-")[0]))),setTimeout(()=>{var o;this.chart3Y=(null===(o=this.screenService)||void 0===o?void 0:o.screenWidth)<=780?this.charts.renderCryptoDatas(t,[c.Gf.MOBILE_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(t,[c.Gf.ULTRA_WIDE,c.Gf.LIVE_PRICE_AS_LAST_DATA])},500)}}zeroBalanceSwitch(){return this.showZeroBalance=!this.showZeroBalance}getAllDate(){let t=[];return this.cryptoDashboard.assets.forEach(n=>{var i;return null===(i=n.history)||void 0===i?void 0:i.forEach(o=>{t.find(r=>r==o.date.toString())||t.push(o.date.toString())})}),t.sort(),t}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(c.Vs.HIDDENAMOUNT));null!=t&&(this.hidden=t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(Q.C),e.Y36(I.H),e.Y36(M.m))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-crypto-asset"]],decls:56,vars:31,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule",1,"mx-auto"],[1,"section","hidden_mobile","mt-2"],["class","transactions row","style","\n          margin-top: -15px;\n          margin-left: 5px !important;\n          margin-right: 5px !important;\n        ",4,"ngIf"],[1,"row","margin-bottom-size"],[1,"col-md-7"],[1,"title-section","hidden_desktop"],[1,"card-title"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"section","mt-2"],[1,"section-title","hidden_mobile"],[1,"card","border_round"],[1,"card-body","pt-1"],["role","tablist",1,"nav","nav-tabs","lined"],[1,"nav-item"],["data-bs-toggle","tab","href","#tab-1y","role","tab",1,"nav-link","active",3,"click"],["data-bs-toggle","tab","href","#tab-3y","role","tab",1,"nav-link",3,"click"],["data-bs-toggle","tab","href","#tab-all","role","tab",1,"nav-link",3,"click"],[1,"tab-content"],["id","tab-1y","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"inner-round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],["id","tab-3y","role","tabpanel",1,"tab-pane","fade"],["id","tab-all","role","tabpanel",1,"tab-pane","fade"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"col-md-5"],[1,"section","mt-2","mb-2"],[1,"section-heading"],[1,"section-title"],["class","link clickable",3,"click",4,"ngIf"],[1,"transactions"],[4,"ngFor","ngForOf"],[3,"modalId","wallets","assets","currency","statsAssetsDays","emitAddStats"],[1,"transactions","row",2,"margin-top","-15px","margin-left","5px !important","margin-right","5px !important"],[1,"col-md-6","mt-2"],["routerLink","/crypto/asset",1,"item"],[1,"detail"],[1,"col-auto",2,"padding-right","20px"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"sincetot"],[1,"right","float-end"],["id","totale",1,"price"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-poll"],["id","pil"],[1,"price","float-end","performancetot"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",3,"series","chart","title","colors","legend","stroke","labels"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"link","clickable",3,"click"],["name","eye-outline",2,"width","20px","height","20px","vertical-align","-5px"],["name","eye-off-outline",2,"width","20px","height","20px","vertical-align","-5px"],[3,"hiddenAmount","assets","currency",4,"ngIf"],[3,"hiddenAmount","assets","currency"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-crypto-header",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.YNc(5,cn,40,34,"div",4),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"p",8),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"h5",9),e._uU(13),e.qZA(),e.TgZ(14,"p",10),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"div",12),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",13),e.TgZ(21,"div",14),e.TgZ(22,"ul",15),e.TgZ(23,"li",16),e.TgZ(24,"a",17),e.NdJ("click",function(){return n.graph1Y()}),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"li",16),e.TgZ(27,"a",18),e.NdJ("click",function(){return n.graph3Y()}),e._uU(28," 3Y "),e.qZA(),e.qZA(),e.TgZ(29,"li",16),e.TgZ(30,"a",19),e.NdJ("click",function(){return n.graphAll()}),e._uU(31," All "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",20),e.TgZ(33,"div",21),e.TgZ(34,"div",22),e.YNc(35,dn,5,0,"div",23),e.YNc(36,pn,1,7,"apx-chart",24),e.qZA(),e.qZA(),e.TgZ(37,"div",25),e.TgZ(38,"div",22),e.YNc(39,gn,5,0,"div",23),e.YNc(40,un,1,7,"apx-chart",24),e.qZA(),e.qZA(),e.TgZ(41,"div",26),e.TgZ(42,"div",22),e.YNc(43,hn,5,0,"div",23),e.YNc(44,mn,1,7,"apx-chart",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",28),e.TgZ(46,"div",29),e.TgZ(47,"div",30),e.TgZ(48,"div",31),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.YNc(51,_n,4,3,"a",32),e.YNc(52,Zn,4,3,"a",32),e.qZA(),e.TgZ(53,"div",33),e.YNc(54,An,2,1,"div",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"app-operations-modal",35),e.NdJ("emitAddStats",function(){return n.getAssets()}),e.qZA()),2&t&&(e.xp6(1),e.s9C("title",e.lcZ(2,23,"crypto.asset.title")),e.xp6(4),e.Q6J("ngIf",n.cryptoDashboard.assets),e.xp6(5),e.hij(" ",e.lcZ(11,25,"crypto.dashboard.cardRes.title")," "),e.xp6(3),e.AsE(" ",n.hidden?n.amount:n.cryptoDashboard.balance," ",n.cryptoDashboard.currency," "),e.xp6(2),e.hij(" ",n.hidden?n.amount:n.cryptoDashboard.btcBalance," BTC "),e.xp6(3),e.hij(" ",e.lcZ(19,27,"crypto.asset.assetGraph")," "),e.xp6(7),e.hij(" ",n.thisYear," "),e.xp6(10),e.Q6J("ngIf",!n.chart1Y),e.xp6(1),e.Q6J("ngIf",n.chart1Y),e.xp6(3),e.Q6J("ngIf",!n.chart3Y),e.xp6(1),e.Q6J("ngIf",n.chart3Y),e.xp6(3),e.Q6J("ngIf",!n.chartOptions),e.xp6(1),e.Q6J("ngIf",n.chartOptions),e.xp6(5),e.hij(" ",e.lcZ(50,29,"crypto.asset.assetList")," "),e.xp6(2),e.Q6J("ngIf",!n.showZeroBalance),e.xp6(1),e.Q6J("ngIf",n.showZeroBalance),e.xp6(2),e.Q6J("ngForOf",n.assets),e.xp6(1),e.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoDashboard.wallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},directives:[k,u.O5,v.yS,A.Fo,P.x,A.gu,u.sg,ee.s,Y],pipes:[_.X$,u.uU],styles:["#appCapsule[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:0!important}.row[_ngcontent-%COMP%]{margin-right:0!important}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:-8px}.row[_ngcontent-%COMP%]   .transactions[_ngcontent-%COMP%]{margin-right:-20px!important}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}}.transactions[_ngcontent-%COMP%]{margin-top:-10px;margin-left:-15px!important;margin-right:-15px!important}.icon-shape[_ngcontent-%COMP%]{display:inline-flex;padding:12px;text-align:center;border-radius:50%;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.round-img[_ngcontent-%COMP%]{border-radius:50%}.item[_ngcontent-%COMP%]{border-radius:20px}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),a})();const se={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let j;const yn=new Uint8Array(16);function fn(){if(!j&&(j=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!j))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j(yn)}const x=[];for(let a=0;a<256;++a)x.push((a+256).toString(16).slice(1));const U=function bn(a,s,t){if(se.randomUUID&&!s&&!a)return se.randomUUID();const n=(a=a||{}).random||(a.rng||fn)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,s){t=t||0;for(let i=0;i<16;++i)s[t+i]=n[i];return s}return function re(a,s=0){return(x[a[s+0]]+x[a[s+1]]+x[a[s+2]]+x[a[s+3]]+"-"+x[a[s+4]]+x[a[s+5]]+"-"+x[a[s+6]]+x[a[s+7]]+"-"+x[a[s+8]]+x[a[s+9]]+"-"+x[a[s+10]]+x[a[s+11]]+x[a[s+12]]+x[a[s+13]]+x[a[s+14]]+x[a[s+15]]).toLowerCase()}(n)};var xn=m(9103),G=m(2384);function Cn(a,s){if(1&a&&(e.TgZ(0,"p",29),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,3,"crypto.closeOperation.fees"),": "),e.xp6(3),e.AsE("",t.operationToClose.fees," ",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol,"")}}function qn(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",26),e.TgZ(1,"div",33),e.TgZ(2,"div",39),e.TgZ(3,"div",40),e.TgZ(4,"div",41),e.TgZ(5,"label",42),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",43,44),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().operationToClose.exitQuantity=i})("keyup",function(){return e.CHM(t),e.oxw().updateExitPrice()}),e.qZA(),e.TgZ(10,"i",45),e._UZ(11,"ion-icon",46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",39),e.TgZ(13,"div",40),e.TgZ(14,"div",41),e.TgZ(15,"label",47),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"input",48,49),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().operationToClose.exitPriceValue=i}),e.qZA(),e.TgZ(20,"i",45),e._UZ(21,"ion-icon",46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",39),e.TgZ(23,"div",40),e.TgZ(24,"div",41),e.TgZ(25,"label",50),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",51,52),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().operationToClose.exitPrice=i})("keyup",function(){return e.CHM(t),e.oxw().refreshData()}),e.qZA(),e.TgZ(30,"i",45),e._UZ(31,"ion-icon",46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",39),e.TgZ(33,"div",40),e.TgZ(34,"div",41),e.TgZ(35,"label",53),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"input",54,55),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().fees=i})("keyup",function(){return e.CHM(t),e.oxw().refreshData()}),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"i",45),e._UZ(42,"ion-icon",46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(6),e.AsE("",e.lcZ(7,13,"crypto.closeOperation.quantity")," (",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol,")"),e.xp6(2),e.Q6J("ngModel",t.operationToClose.exitQuantity),e.xp6(8),e.AsE("",e.lcZ(17,15,"crypto.closeOperation.value")," (",t.cryptoCurrency,")"),e.xp6(2),e.Q6J("ngModel",t.operationToClose.exitPriceValue),e.xp6(8),e.AsE("",e.lcZ(27,17,"crypto.closeOperation.selling")," (",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,")"),e.xp6(2),e.Q6J("ngModel",t.operationToClose.exitPrice),e.xp6(8),e.AsE("",e.lcZ(37,19,"crypto.closeOperation.fees")," (",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,")"),e.xp6(2),e.s9C("placeholder",e.lcZ(40,21,"crypto.closeOperation.fees")),e.Q6J("ngModel",t.fees)}}function wn(a,s){if(1&a&&(e.TgZ(0,"p",29),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"crypto.closeOperation.fees"),": "),e.xp6(3),e.AsE("",t.fees," ",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,"")}}function On(a,s){if(1&a&&(e.TgZ(0,"div",26),e.TgZ(1,"h5",27),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",28),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"strong"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"p",29),e._uU(11),e.ALo(12,"translate"),e.TgZ(13,"strong"),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"p",29),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"strong"),e._uU(19),e.TgZ(20,"span"),e._uU(21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"p",29),e._uU(23),e.ALo(24,"translate"),e.TgZ(25,"strong"),e._uU(26),e.qZA(),e.qZA(),e.YNc(27,wn,5,5,"p",30),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.lnq(" ",e.lcZ(3,24,"crypto.closeOperation.closeP")," ",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,"-",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol," "),e.xp6(4),e.hij(" ",e.lcZ(7,26,"crypto.closeOperation.pair"),": "),e.xp6(3),e.AsE("",null==t.operationToClose.asset?null:t.operationToClose.asset.symbol,"-",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol,""),e.xp6(2),e.hij(" ",e.lcZ(12,28,"crypto.closeOperation.quantity"),": "),e.xp6(3),e.AsE("",t.operationToClose.exitQuantity," ",t.operationToClose.entryCoin,""),e.xp6(2),e.AsE(" ",null==t.operationToClose.assetSell?null:t.operationToClose.assetSell.symbol," ",e.lcZ(17,30,"crypto.closeOperation.value"),": "),e.xp6(3),e.AsE("",t.operationToClose.exitPriceValue," ",t.cryptoCurrency," "),e.xp6(1),e.Gre("badge ",0==t.operationToClose.trend?"badge-warning":t.operationToClose.trend<0?"badge-danger":"badge-success",""),e.xp6(1),e.lnq("",t.cryptoCurrency," ",t.operationToClose.trend," (",t.operationToClose.performance,"%)"),e.xp6(2),e.AsE(" ",e.lcZ(24,32,"crypto.closeOperation.sellPrice")," ",t.operationToClose.exitCoin,": "),e.xp6(3),e.AsE("",t.operationToClose.exitPrice," ",t.cryptoCurrency,""),e.xp6(1),e.Q6J("ngIf",t.fees)}}function Mn(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().isEditActive=!0}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"crypto.closeOperation.edit")))}function Dn(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw().isEditActive=!1}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&a){e.oxw();const t=e.MAs(5);e.Q6J("disabled",t.invalid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"crypto.closeOperation.save")," ")}}let Sn=(()=>{class a{constructor(t,n,i,o,r){this.cryptoService=t,this.swal=n,this.router=i,this.logger=o,this.translate=r,this.closeSubscribe=new T.w0,this.modalId="",this.operation=new N,this.operationToClose=new N,this.cryptoCurrency="",this.currentPrice=0,this.isEditActive=!1,this.fees=0}get modalConstant(){return c.Dq}get operationTypeConstant(){return c.jw}ngOnDestroy(){this.closeSubscribe.unsubscribe()}ngOnChanges(t){this.operation&&this.getData()}getData(){var t,n,i,o,r,l;if(!this.operation||!this.operation.type||this.operation.type!=c.jw.TRADING)return;this.cryptoCurrency=this.cryptoService.cryptoDashboard.currency;let d=(null===(t=this.operation)||void 0===t?void 0:t.entryQuantity)*(null===(i=null===(n=this.operation)||void 0===n?void 0:n.asset)||void 0===i?void 0:i.current_price);this.currentPrice=parseFloat(d.toFixed(2));let h=(0,g.p)(this.operation);h.exitDate=new Date,h.exitPrice=null===(o=h?.asset)||void 0===o?void 0:o.current_price,h.exitPriceValue=parseFloat(d.toFixed(2)),h.exitQuantity=parseFloat(d.toFixed(8)),h.performance=parseFloat(((d-(null===(r=this.operation)||void 0===r?void 0:r.entryPriceValue))/d*100).toFixed(2)),h.trend=parseFloat((d-(null===(l=this.operation)||void 0===l?void 0:l.entryPriceValue)).toFixed(2)),this.operationToClose=h}refreshData(){var t,n,i,o,r;let l=this.operationToClose,d=(null===(t=this.operationToClose)||void 0===t?void 0:t.entryQuantity)*(null===(n=this.operationToClose)||void 0===n?void 0:n.exitPrice),h=this.fees*(null===(i=this.operationToClose)||void 0===i?void 0:i.exitPrice);l.exitPriceValue=parseFloat((d-h).toFixed(2)),l.exitQuantity=parseFloat((d-h).toFixed(8)),l.performance=parseFloat(((d-(null===(o=this.operationToClose)||void 0===o?void 0:o.entryPriceValue))/d*100).toFixed(2)),l.trend=parseFloat((d-h-(null===(r=this.operationToClose)||void 0===r?void 0:r.entryPriceValue)).toFixed(2))}updateExitPrice(){var t;this.operationToClose.exitPriceValue=parseFloat(null===(t=this.operationToClose.exitQuantity)||void 0===t?void 0:t.toFixed(2))}closeOperation(){var t,n,i,o,r;this.operationToClose.status="CLOSED";let d=(0,g.p)(this.cryptoService.cryptoDashboard).wallets.find(b=>null!=b.assets&&b.assets.find(q=>null!=q.operations&&q.operations.find(Fi=>{var $;return Fi.id==(null===($=this.operation)||void 0===$?void 0:$.id)}))),h=d?.assets.find(b=>{var q;return b.symbol==(null===(q=this.operationToClose)||void 0===q?void 0:q.exitCoin)}),Z=d?.assets.find(b=>{var q;return b.symbol==(null===(q=this.operationToClose)||void 0===q?void 0:q.entryCoin)});this.operationToClose.asset=void 0,this.operationToClose.assetSell=void 0,this.operationToClose.wallet=void 0;let f=parseFloat((this.fees*(null===(t=this.operationToClose)||void 0===t?void 0:t.exitPrice)).toFixed(8));this.operationToClose.fees?this.operationToClose.fees+=f:this.operationToClose.fees=f,h.operations=[this.operationToClose],h.balance-=null===(n=this.operationToClose)||void 0===n?void 0:n.entryQuantity,h.invested-=null===(i=this.operationToClose)||void 0===i?void 0:i.entryPriceValue,h.updateDate=new Date,Z.balance+=null===(o=this.operationToClose)||void 0===o?void 0:o.exitQuantity,Z.invested+=null===(r=this.operationToClose)||void 0===r?void 0:r.entryPriceValue,Z.updateDate=new Date,d.assets=[h,Z],this.closeSubscribe=this.cryptoService.addOrUpdateCryptoAsset(d).subscribe(b=>{this.logger.LOG(b.message,"CloseOperationComponent"),this.swal.toastMessage(G.u.SUCCESS,this.translate.instant("response.close")),this.router.navigate(["/crypto/dashboard"])})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(H.J),e.Y36(v.F0),e.Y36(M.m),e.Y36(_.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-close-operation"]],inputs:{modalId:"modalId",operation:"operation"},features:[e.TTD],decls:87,vars:66,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog","fullbig-modal"],[1,"modal-content","modal-round","mx-auto","fullbig-modal"],[1,"modal-body"],["type","submit"],["f","ngForm"],[1,"action-sheet-content","fullbig-modal"],[1,"iconbox","text-warning"],["name","alert-circle"],[1,"text-center"],["name","alert-circle","data-bs-toggle","modal",2,"width","20px","height","20px","vertical-align","-2px"],[3,"innerHTML"],[1,"splash-page","mb-5"],[1,"transfer-verification"],[1,"transfer-amount"],[1,"caption"],[2,"margin-top","-20px"],[1,"from-to-block","mb-0"],[1,"item","text-center"],["alt","avatar",1,"imaged","w48",3,"src"],[1,"arrow"],[1,"mx-auto",2,"max-width","500px","margin-top","-45px","margin-bottom","-25px"],[1,"timeline","timed","ms-1","me-0"],[1,"item"],[1,"time"],[1,"dot","bg-success"],[1,"content"],[1,"title","text-start"],[1,"text","text-start"],[1,"p"],["class","p",4,"ngIf"],[1,"dot","bg-danger"],["class","content",4,"ngIf"],[1,"row"],[1,"col-6"],["class","btn btn-lg btn-outline-secondary btn-block goBack",3,"click",4,"ngIf"],["class","btn btn-lg btn-primary btn-block goBack",3,"disabled","click",4,"ngIf"],["data-bs-toggle","modal",1,"btn","btn-danger","btn-lg","btn-block",3,"disabled","click"],[3,"isClosingOperation","modalId","operationType"],[1,"col-12","col-md-6"],[1,"form-group","basic"],[1,"input-wrapper"],["for","quantity1",1,"label"],["name","quantity","type","number","id","quantity1","placeholder","Enter an Amount",1,"form-control",3,"ngModel","ngModelChange","keyup"],["quantity1","ngModel"],[1,"clear-input"],["name","close-circle"],["for","quantityValue1",1,"label"],["name","quantityValue","type","number","id","quantityValue1","placeholder","Enter an Amount","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["quantityValue1","ngModel"],["for","price1",1,"label"],["name","price","type","number","id","price1","placeholder","Enter an Amount",1,"form-control",3,"ngModel","ngModelChange","keyup"],["price1","ngModel"],["for","fees",1,"label"],["name","fees","type","number","id","fees",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["fees1","ngModel"],[1,"btn","btn-lg","btn-outline-secondary","btn-block","goBack",3,"click"],[1,"btn","btn-lg","btn-primary","btn-block","goBack",3,"disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"form",4,5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e._UZ(8,"ion-icon",8),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"h3"),e._uU(11),e.ALo(12,"translate"),e._UZ(13,"ion-icon",10),e.qZA(),e._UZ(14,"p",11),e.ALo(15,"translate"),e._UZ(16,"hr"),e.TgZ(17,"div",12),e.TgZ(18,"div",13),e.TgZ(19,"div",14),e.TgZ(20,"span",15),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"h2"),e._uU(24),e.qZA(),e.TgZ(25,"p",16),e.TgZ(26,"small"),e._uU(27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",17),e.TgZ(29,"div",18),e._UZ(30,"img",19),e.TgZ(31,"strong"),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"div",18),e._UZ(34,"img",19),e.TgZ(35,"strong"),e._uU(36),e.qZA(),e.qZA(),e._UZ(37,"div",20),e.qZA(),e.qZA(),e.TgZ(38,"div",21),e.TgZ(39,"div",22),e.TgZ(40,"div",23),e.TgZ(41,"span",24),e._uU(42),e.ALo(43,"date"),e.qZA(),e._UZ(44,"div",25),e.TgZ(45,"div",26),e.TgZ(46,"h5",27),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",28),e.TgZ(50,"p"),e._uU(51),e.ALo(52,"translate"),e.TgZ(53,"strong"),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"p",29),e._uU(56),e.ALo(57,"translate"),e.TgZ(58,"strong"),e._uU(59),e.qZA(),e.qZA(),e.TgZ(60,"p",29),e._uU(61),e.ALo(62,"translate"),e.TgZ(63,"strong"),e._uU(64),e.qZA(),e.qZA(),e.TgZ(65,"p",29),e._uU(66),e.ALo(67,"translate"),e.TgZ(68,"strong"),e._uU(69),e.qZA(),e.qZA(),e.YNc(70,Cn,5,5,"p",30),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",23),e.TgZ(72,"span",24),e._uU(73),e.ALo(74,"date"),e.qZA(),e._UZ(75,"div",31),e.YNc(76,qn,43,23,"div",32),e.YNc(77,On,28,34,"div",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"div",33),e.TgZ(79,"div",34),e.YNc(80,Mn,3,3,"a",35),e.YNc(81,Dn,3,4,"button",36),e.qZA(),e.TgZ(82,"div",34),e.TgZ(83,"button",37),e.NdJ("click",function(){return n.closeOperation()}),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(86,"app-info-modal",38)),2&t){const i=e.MAs(5);e.s9C("id",n.modalId),e.xp6(11),e.hij(" ",e.lcZ(12,42,"crypto.closeOperation.title")," "),e.xp6(2),e.Q2q("data-bs-target","#",n.modalConstant.INFO,""),e.xp6(1),e.Q6J("innerHTML",e.lcZ(15,44,"crypto.closeOperation.subTitle"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(22,46,"crypto.closeOperation.amount")),e.xp6(3),e.AsE("",n.operationToClose.entryCoin," ",n.currentPrice,""),e.xp6(3),e.AsE("",n.operationToClose.exitCoin," ",n.operationToClose.entryQuantity,""),e.xp6(3),e.s9C("src",null==n.operationToClose.asset?null:n.operationToClose.asset.icon,e.LSH),e.xp6(2),e.Oqu(null==n.operationToClose.asset?null:n.operationToClose.asset.name),e.xp6(2),e.s9C("src",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.icon,e.LSH),e.xp6(2),e.Oqu(null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.name),e.xp6(6),e.Oqu(e.xi3(43,48,n.operationToClose.entryDate,"d MMM y")),e.xp6(5),e.lnq(" ",e.lcZ(48,51,"crypto.closeOperation.open")," ",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol,"-",null==n.operationToClose.asset?null:n.operationToClose.asset.symbol," "),e.xp6(4),e.hij(" ",e.lcZ(52,53,"crypto.closeOperation.pair"),": "),e.xp6(3),e.AsE("",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol,"-",null==n.operationToClose.asset?null:n.operationToClose.asset.symbol,""),e.xp6(2),e.hij(" ",e.lcZ(57,55,"crypto.closeOperation.quantity"),": "),e.xp6(3),e.AsE("",n.operationToClose.entryQuantity," ",n.operationToClose.exitCoin,""),e.xp6(2),e.AsE(" ",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol," ",e.lcZ(62,57,"crypto.closeOperation.value"),": "),e.xp6(3),e.AsE("",n.operationToClose.entryPriceValue," ",n.operationToClose.entryCoin,""),e.xp6(2),e.AsE(" ",e.lcZ(67,59,"crypto.closeOperation.price")," ",n.operationToClose.exitCoin,": "),e.xp6(3),e.AsE("",n.operationToClose.entryPrice," ",n.cryptoCurrency,""),e.xp6(1),e.Q6J("ngIf",n.operationToClose.fees),e.xp6(3),e.Oqu(e.xi3(74,61,n.operationToClose.exitDate,"d MMM y")),e.xp6(3),e.Q6J("ngIf",n.isEditActive),e.xp6(1),e.Q6J("ngIf",!n.isEditActive),e.xp6(3),e.Q6J("ngIf",!n.isEditActive),e.xp6(1),e.Q6J("ngIf",n.isEditActive),e.xp6(2),e.Q6J("disabled",i.invalid||n.isEditActive),e.xp6(1),e.hij(" ",e.lcZ(85,64,"crypto.closeOperation.close")," "),e.xp6(2),e.Q6J("isClosingOperation",!0)("modalId",n.modalConstant.INFO)("operationType",n.operationTypeConstant.CLOSEOPERATION)}},directives:[p._Y,p.JL,p.F,A.gu,u.O5,p.wV,p.Fj,p.JJ,p.On,V],pipes:[_.X$,u.uU],styles:["@media screen and (max-height: 870px){.fullbig-modal[_ngcontent-%COMP%]{max-height:550px!important;height:550px!important}}.fullbig-modal[_ngcontent-%COMP%]{max-height:800px!important;height:800px}.p[_ngcontent-%COMP%]{margin-top:-15px}.item[_ngcontent-%COMP%]{display:block;padding-top:0}.timeline[_ngcontent-%COMP%]:before{top:10px;bottom:25px}"]}),a})();function Un(a,s){if(1&a&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"div",20),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"h3",22),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.s9C("src",null==t.operation||null==t.operation.asset?null:t.operation.asset.icon,e.LSH),e.xp6(2),e.hij(" ",null==t.operation||null==t.operation.asset?null:t.operation.asset.name," ")}}function En(a,s){if(1&a&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"div",20),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"h3",22),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.s9C("src",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.img,e.LSH),e.xp6(2),e.hij(" ",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.name," ")}}function In(a,s){if(1&a&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"div",20),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"h3",22),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.s9C("src",null==t.operation||null==t.operation.assetSell?null:t.operation.assetSell.icon,e.LSH),e.xp6(2),e.hij(" ",null==t.operation||null==t.operation.assetSell?null:t.operation.assetSell.name," ")}}function Nn(a,s){if(1&a&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"div",23),e.TgZ(3,"div",20),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"h3",22),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.s9C("src",null==t.operation||null==t.operation.asset?null:t.operation.asset.icon,e.LSH),e.xp6(2),e.hij(" ",null==t.operation||null==t.operation.asset?null:t.operation.asset.name," ")}}function kn(a,s){if(1&a&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"div",23),e.TgZ(3,"div",20),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"h3",22),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.s9C("src",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.img,e.LSH),e.xp6(2),e.hij(" ",null==t.operation||null==t.operation.wallet?null:t.operation.wallet.name," ")}}function Ln(a,s){if(1&a&&(e.TgZ(0,"li"),e.TgZ(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",24),e._uU(5),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"crypto.operationDetails.identifier")),e.xp6(3),e.hij(" ",null==t.operation?null:t.operation.identifier,"")}}function Jn(a,s){if(1&a&&(e.TgZ(0,"li"),e.TgZ(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"strong"),e.TgZ(5,"span"),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,"crypto.operationDetails.fees"),""),e.xp6(4),e.AsE("",null==t.operation?null:t.operation.fees," ",null==t.operation?null:t.operation.entryCoin,"")}}function Pn(a,s){if(1&a&&(e.TgZ(0,"li"),e.TgZ(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"crypto.operationDetails.exit")),e.xp6(3),e.Oqu(e.xi3(6,4,null==t.operation?null:t.operation.exitDate,"MMM dd, y HH:mm"))}}function Fn(a,s){if(1&a&&(e.TgZ(0,"li"),e.TgZ(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"strong"),e.TgZ(5,"span"),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"crypto.operationDetails.exitPrice")),e.xp6(4),e.AsE("",null==t.operation?null:t.operation.exitPrice," ",t.currency,"")}}function Yn(a,s){if(1&a&&(e.TgZ(0,"li"),e.TgZ(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"strong"),e.TgZ(5,"span"),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.AsE("",t.currency," ",e.lcZ(3,4,"crypto.operationDetails.value"),""),e.xp6(4),e.AsE("",null==t.operation?null:t.operation.exitPriceValue," ",t.currency,"")}}function Qn(a,s){if(1&a&&(e.TgZ(0,"div",25),e.TgZ(1,"a",26),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q2q("data-bs-target","#",t.modalConstant.CLOSEOPERATION+t.modalId,""),e.xp6(1),e.Oqu(e.lcZ(3,2,"crypto.closeOperation.title"))}}let le=(()=>{class a{constructor(){this.operation=new N,this.modalId="",this.currency="",this.trend=0,this.percentage=0}get modalConstant(){return c.Dq}get operationTypeConstant(){return c.jw}ngOnInit(){this.getTradingData()}ngOnChanges(t){this.getTradingData()}getTradingData(){var t,n,i,o,r,l,d;let h=(null===(t=this.operation)||void 0===t?void 0:t.entryQuantity)*(null===(i=null===(n=this.operation)||void 0===n?void 0:n.asset)||void 0===i?void 0:i.current_price);this.trend=null!==(o=this.operation)&&void 0!==o&&o.trend?this.operation.trend:parseFloat((h-(null===(r=this.operation)||void 0===r?void 0:r.entryPriceValue)).toFixed(2)),this.percentage=null!==(l=this.operation)&&void 0!==l&&l.performance?this.operation.performance:parseFloat(((h-(null===(d=this.operation)||void 0===d?void 0:d.entryPriceValue))/h*100).toFixed(2))}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-operation-details"]],inputs:{operation:"operation",modalId:"modalId",currency:"currency"},features:[e.TTD],decls:82,vars:68,consts:[["tabindex","-1","role","dialog",1,"modal","fade","modalbox",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-center"],["alt","img",1,"image-block","imaged","w30","me-1",3,"src"],["href","#","data-bs-dismiss","modal"],[1,"modal-body"],[1,"section","mt-2","mb-2","row"],["class","col-5",4,"ngIf"],[1,"col-2","text-center",2,"align-self","center"],["name","swap-horizontal-outline"],[1,"listview","flush","transparent","simple-listview","no-space","mt-3"],[4,"ngIf"],[1,"text-small"],["class","modal-footer",4,"ngIf"],[3,"operation","modalId"],[1,"col-5"],[1,"listed-detail","mt-3"],[1,"float-end","text-end"],[1,"icon-wrapper"],["alt","img",1,"image-block","imaged","w48",3,"src"],[1,"text-center","mt-2"],[1,"float-start","text-start"],[2,"text-align","end"],[1,"modal-footer"],["data-bs-toggle","modal",1,"btn","btn-primary","btn-lg","btn-block"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._UZ(5,"img",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"a",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.YNc(13,Un,7,2,"div",9),e.YNc(14,En,7,2,"div",9),e.YNc(15,In,7,2,"div",9),e.TgZ(16,"div",10),e._UZ(17,"ion-icon",11),e.qZA(),e.YNc(18,Nn,7,2,"div",9),e.YNc(19,kn,7,2,"div",9),e.TgZ(20,"ul",12),e.YNc(21,Ln,6,4,"li",13),e.TgZ(22,"li"),e.TgZ(23,"strong"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"span"),e._uU(28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"li"),e.TgZ(30,"strong"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"span"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"li"),e.TgZ(36,"strong"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"span"),e.TgZ(40,"mark"),e._uU(41),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"li"),e.TgZ(43,"strong"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"span"),e._uU(47),e.ALo(48,"date"),e.qZA(),e.qZA(),e.TgZ(49,"li"),e.TgZ(50,"strong"),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"strong"),e.TgZ(54,"span"),e._uU(55),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"li"),e.TgZ(57,"strong"),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"strong"),e.TgZ(61,"span"),e._uU(62),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"li"),e.TgZ(64,"strong"),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"strong"),e.TgZ(68,"span"),e._uU(69),e.qZA(),e.qZA(),e.qZA(),e.YNc(70,Jn,7,5,"li",13),e.YNc(71,Pn,7,7,"li",13),e.YNc(72,Fn,7,5,"li",13),e.YNc(73,Yn,7,6,"li",13),e.TgZ(74,"li"),e.TgZ(75,"strong"),e._uU(76,"Trend"),e.qZA(),e.TgZ(77,"strong"),e.TgZ(78,"span"),e._uU(79),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(80,Qn,4,4,"div",15),e.qZA(),e.qZA(),e.qZA(),e._UZ(81,"app-close-operation",16)),2&t&&(e.s9C("id",n.modalId),e.xp6(5),e.s9C("src",null==n.operation||null==n.operation.asset?null:n.operation.asset.icon,e.LSH),e.xp6(1),e.AsE("",null==n.operation||null==n.operation.asset?null:n.operation.asset.name," ",e.lcZ(7,47,"crypto.operationDetails.title")," "),e.xp6(3),e.Oqu(e.lcZ(10,49,"crypto.operationDetails.close")),e.xp6(4),e.Q6J("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.TRANSFER),e.xp6(1),e.Q6J("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.NEWINVESTMENT),e.xp6(1),e.Q6J("ngIf",(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.TRANSFER),e.xp6(3),e.Q6J("ngIf",(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.TRANSFER),e.xp6(1),e.Q6J("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.TRANSFER),e.xp6(2),e.Q6J("ngIf",null==n.operation?null:n.operation.identifier),e.xp6(3),e.Oqu(e.lcZ(25,51,"crypto.operationDetails.status")),e.xp6(3),e.Gre("badge ","CLOSED"==(null==n.operation?null:n.operation.status)?"badge-danger":"badge-success"," "),e.xp6(1),e.Oqu(null==n.operation?null:n.operation.status),e.xp6(3),e.Oqu(e.lcZ(32,53,"crypto.operationDetails.type")),e.xp6(3),e.hij(" ",null==n.operation?null:n.operation.type,""),e.xp6(3),e.Oqu(e.lcZ(38,55,"crypto.operationDetails.currency")),e.xp6(4),e.AsE("",null==n.operation?null:n.operation.entryCoin,"-",null==n.operation?null:n.operation.exitCoin,""),e.xp6(3),e.Oqu(e.lcZ(45,57,"crypto.operationDetails.entry")),e.xp6(3),e.Oqu(e.xi3(48,59,null==n.operation?null:n.operation.entryDate,"MMM dd, y HH:mm")),e.xp6(4),e.Oqu(e.lcZ(52,62,"crypto.operationDetails.entryPrice")),e.xp6(4),e.AsE("",null==n.operation?null:n.operation.entryPrice," ",null==n.operation?null:n.operation.entryCoin,""),e.xp6(3),e.AsE("",n.currency," ",e.lcZ(59,64,"crypto.operationDetails.value"),""),e.xp6(4),e.AsE("",null==n.operation?null:n.operation.entryPriceValue," ",n.currency,""),e.xp6(3),e.AsE("",e.lcZ(66,66,"crypto.operationDetails.quantity")," (",null==n.operation?null:n.operation.exitCoin,")"),e.xp6(4),e.AsE("",null==n.operation?null:n.operation.entryQuantity," ",null==n.operation?null:n.operation.exitCoin,""),e.xp6(1),e.Q6J("ngIf",null==n.operation?null:n.operation.fees),e.xp6(1),e.Q6J("ngIf",(null==n.operation?null:n.operation.exitDate)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),e.xp6(1),e.Q6J("ngIf",(null==n.operation?null:n.operation.exitPrice)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),e.xp6(1),e.Q6J("ngIf",(null==n.operation?null:n.operation.exitPriceValue)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),e.xp6(5),e.Gre("badge ",0==n.trend?"badge-warning":n.trend<0?"badge-danger":"badge-success",""),e.xp6(1),e.lnq("",n.currency," ",n.trend," (",n.percentage,"%)"),e.xp6(1),e.Q6J("ngIf","OPEN"==(null==n.operation?null:n.operation.status)),e.xp6(1),e.Q6J("operation",n.operation)("modalId",n.modalConstant.CLOSEOPERATION+n.modalId))},directives:[u.O5,A.gu,Sn],pipes:[_.X$,u.uU],styles:[".imaged[_ngcontent-%COMP%]{width:100px!important;height:100px!important;border-radius:50%;object-position:center center!important;object-fit:cover!important}.w30[_ngcontent-%COMP%]{width:30px!important;height:30px!important}.modal-footer[_ngcontent-%COMP%]{border-top:transparent!important}.listview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:60px}"]}),a})();function jn(a,s){if(1&a&&e._UZ(0,"img",14),2&a){const t=e.oxw(2).$implicit;e.s9C("src",null==t||null==t.assetSell?null:t.assetSell.icon,e.LSH)}}function Rn(a,s){if(1&a&&e._UZ(0,"img",14),2&a){const t=e.oxw(2).$implicit;e.s9C("src",null==t||null==t.wallet?null:t.wallet.img,e.LSH)}}function Bn(a,s){if(1&a&&e._UZ(0,"img",15),2&a){const t=e.oxw(2).$implicit;e.s9C("src",null==t||null==t.asset?null:t.asset.icon,e.LSH)}}function Hn(a,s){if(1&a&&e._UZ(0,"img",15),2&a){const t=e.oxw(2).$implicit;e.s9C("src",null==t||null==t.wallet?null:t.wallet.img,e.LSH)}}function Wn(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"a",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().selectOperation(i)}),e.TgZ(2,"div",7),e.YNc(3,jn,1,1,"img",8),e.YNc(4,Rn,1,1,"img",8),e.YNc(5,Bn,1,1,"img",9),e.YNc(6,Hn,1,1,"img",9),e.qZA(),e.TgZ(7,"div",10),e.TgZ(8,"div"),e.TgZ(9,"strong"),e._uU(10),e.qZA(),e.TgZ(11,"div",11),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"strong"),e._uU(16),e.qZA(),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"strong"),e._uU(20),e.qZA(),e.TgZ(21,"div",13),e.TgZ(22,"span"),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"div",13),e._uU(25),e.ALo(26,"translate"),e.TgZ(27,"strong"),e._uU(28),e.qZA(),e._uU(29),e.ALo(30,"translate"),e.ALo(31,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q2q("data-bs-target","#",n.modalID,""),e.xp6(2),e.Q6J("ngIf",t.type!=n.operationTypeConstant.NEWINVESTMENT),e.xp6(1),e.Q6J("ngIf",t.type==n.operationTypeConstant.NEWINVESTMENT),e.xp6(1),e.Q6J("ngIf",t.type!=n.operationTypeConstant.TRANSFER),e.xp6(1),e.Q6J("ngIf",t.type==n.operationTypeConstant.TRANSFER),e.xp6(4),e.Oqu(null==t||null==t.wallet?null:t.wallet.name),e.xp6(2),e.HOy(" ",null==t||null==t.asset?null:t.asset.name," ",e.lcZ(13,23,"crypto.asset.details.overview.price")," ",null==t?null:t.exitPrice," ",n.cryptoDashboard.currency," "),e.xp6(4),e.Oqu(null==t?null:t.type),e.xp6(1),e.hij(" #",null==t?null:t.id," "),e.xp6(3),e.AsE("",null==t?null:t.entryQuantity," ",null==t||null==t.asset?null:t.asset.symbol,""),e.xp6(2),e.Gre("badge ","CLOSED"==(null==t?null:t.status)?"badge-danger":"badge-success"," "),e.xp6(1),e.Oqu(null==t?null:t.status),e.xp6(2),e.hij(" ",e.lcZ(26,25,"crypto.asset.details.overview.invest")," "),e.xp6(3),e.AsE("",null==t?null:t.entryPriceValue," ",n.cryptoDashboard.currency,""),e.xp6(1),e.AsE(" ",e.lcZ(30,27,"crypto.asset.details.overview.on")," ",e.xi3(31,29,null==t?null:t.entryDate,"d MMM yy")," ")}}function Vn(a,s){if(1&a&&(e.TgZ(0,"ul",4),e.YNc(1,Wn,32,32,"li",5),e.qZA()),2&a){const t=s.index,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.filterByPage(t))}}function Gn(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"a",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().goToOperations()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"crypto.asset.details.overview.more")))}let R=(()=>{class a{constructor(t,n){this.cryptoService=t,this.router=n,this.walletsAsset=[],this.cryptoDashboard=new O,this.isAssetOperations=!1,this.operationsMapByYear=new Map,this.year="",this.isFullList=!1,this.modalID=U(),this.operations=[]}get operationTypeConstant(){return c.jw}get modalConstant(){return c.Dq}ngOnInit(){}ngOnChanges(t){this.getOperations()}getOperations(){let t=[];return(0,g.p)(this.walletsAsset).forEach(i=>{i.assets&&i.assets.length>0&&i.assets.forEach(o=>{o.operations&&o.operations.length>0&&o.operations.forEach(r=>{r.asset=o,r.wallet=i,r.type!=c.jw.NEWINVESTMENT&&(r.assetSell=(0,g.p)(this.cryptoService.cryptoDashboard.assets.find(l=>l.symbol==r.entryCoin))),t.push(r)})})}),t=t.sort((i,o)=>i.exitDate&&o.exitDate?i.exitDate<o.exitDate?1:-1:i.entryDate<o.entryDate?1:-1),this.operations=t,t}selectOperation(t){this.operationSelect=t}goToOperations(){let t=U();this.cryptoService.operationsMap.set(t,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+t])}filterByPage(t){return!!this.isFullList||t<4}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(v.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-operations-list"]],inputs:{walletsAsset:"walletsAsset",cryptoDashboard:"cryptoDashboard",isAssetOperations:"isAssetOperations",operationsMapByYear:"operationsMapByYear",year:"year",isFullList:"isFullList",modalID:"modalID"},features:[e.TTD],decls:4,vars:5,consts:[[1,"card","cards-op","border_round"],["class","listview flush transparent no-line image-listview detailed-list border_round",4,"ngFor","ngForOf"],["class","card-body pt-0",4,"ngIf"],[3,"modalId","operation","currency"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","border_round"],[4,"ngIf"],["data-bs-toggle","modal",1,"item",3,"click"],[1,"icon-box-c","me-4"],["class","rounded-pill img1","alt","",3,"src",4,"ngIf"],["class","rounded-pill img2","alt","",3,"src",4,"ngIf"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],[1,"text-small"],["alt","",1,"rounded-pill","img1",3,"src"],["alt","",1,"rounded-pill","img2",3,"src"],[1,"card-body","pt-0"],[1,"btn","btn-block","btn-outline-secondary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Vn,2,1,"ul",1),e.YNc(2,Gn,4,3,"div",2),e.qZA(),e._UZ(3,"app-operation-details",3)),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.isFullList?null==n.operationsMapByYear?null:n.operationsMapByYear.get(n.year):n.operations),e.xp6(1),e.Q6J("ngIf",!n.isFullList),e.xp6(1),e.Q6J("modalId",n.modalID)("operation",n.operationSelect)("currency",n.cryptoDashboard.currency))},directives:[u.sg,u.O5,le],pipes:[_.X$,u.uU],styles:[".img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.rounded-pill[_ngcontent-%COMP%]{background-color:#000!important}@media screen and (max-width: 780px){.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}}"]}),a})();function $n(a,s){1&a&&(e.TgZ(0,"div",39),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function zn(a,s){if(1&a&&e._UZ(0,"apx-chart",40),2&a){const t=e.oxw();e.Q6J("series",t.chart1Y.series)("chart",t.chart1Y.chart)("title",t.chart1Y.title)("colors",t.chart1Y.colors)("legend",t.chart1Y.legend)("stroke",t.chart1Y.stroke)("labels",t.chart1Y.labels)}}function Xn(a,s){1&a&&(e.TgZ(0,"div",39),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function Kn(a,s){if(1&a&&e._UZ(0,"apx-chart",40),2&a){const t=e.oxw();e.Q6J("series",t.chart3Y.series)("chart",t.chart3Y.chart)("title",t.chart3Y.title)("colors",t.chart3Y.colors)("legend",t.chart3Y.legend)("stroke",t.chart3Y.stroke)("labels",t.chart3Y.labels)}}function ea(a,s){1&a&&(e.TgZ(0,"div",39),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function ta(a,s){if(1&a&&e._UZ(0,"apx-chart",41),2&a){const t=e.oxw();e.Q6J("series",t.chartOptions.series)("chart",t.chartOptions.chart)("title",t.chartOptions.title)("colors",t.chartOptions.colors)("legend",t.chartOptions.legend)("stroke",t.chartOptions.stroke)("labels",t.chartOptions.labels)}}function na(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().zeroBalanceSwitch()}),e._UZ(1,"ion-icon",43),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"crypto.asset.show"),""))}function aa(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().zeroBalanceSwitch()}),e._UZ(1,"ion-icon",44),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"crypto.asset.hidden"),""))}function ia(a,s){if(1&a&&(e.TgZ(0,"h2",48),e.TgZ(1,"button",49),e._UZ(2,"img",50),e.TgZ(3,"div",51),e._uU(4),e.qZA(),e.TgZ(5,"div",52),e.TgZ(6,"h5",53),e._uU(7),e.TgZ(8,"small"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"p",54),e.TgZ(11,"small"),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e._UZ(13,"div",55),e.qZA(),e.qZA()),2&a){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q2q("data-bs-target","#",t.name.split(".")[0]+t.id,""),e.xp6(1),e.s9C("src",t.img,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.hij(" ",n.hidden?n.amount:t.assets[0].value," "),e.xp6(2),e.Oqu(n.cryptoDashboard.currency),e.xp6(3),e.AsE("",n.hidden?n.amount:t.assets[0].balance.toFixed(8)," ",n.asset.symbol,"")}}function oa(a,s){1&a&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.asset.details.overview.invested")," "))}function sa(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"strong",66),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).isEditInvestmentActive=!0}),e.TgZ(1,"p"),e._uU(2),e._UZ(3,"ion-icon",67),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.AsE(" ",n.hidden?n.amount:t.assets[0].invested," ",n.cryptoDashboard.currency," ")}}function ra(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"form",68,69),e.TgZ(2,"div",70),e.TgZ(3,"div",71),e.TgZ(4,"label",72),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"input",73,74),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).$implicit.assets[0].invested=i}),e.qZA(),e.TgZ(9,"i",75),e._UZ(10,"ion-icon",76),e.qZA(),e.qZA(),e.TgZ(11,"div",71),e.TgZ(12,"label",72),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",77,74),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).$implicit.assets[0].balance=i}),e.qZA(),e.TgZ(17,"i",75),e._UZ(18,"ion-icon",76),e.qZA(),e.qZA(),e.TgZ(19,"div",78),e.TgZ(20,"button",79),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit;return e.oxw().updateInvestment(i)}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).isEditInvestmentActive=!1}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.MAs(1),n=e.oxw(2).$implicit;e.xp6(5),e.Oqu(e.lcZ(6,7,"crypto.asset.details.overview.editInvested")),e.xp6(2),e.Q6J("ngModel",n.assets[0].invested),e.xp6(6),e.Oqu(e.lcZ(14,9,"crypto.asset.details.overview.editBalance")),e.xp6(2),e.Q6J("ngModel",n.assets[0].balance),e.xp6(5),e.Q6J("disabled",t.invalid),e.xp6(1),e.hij(" ",e.lcZ(22,11,"crypto.asset.details.overview.save")," "),e.xp6(3),e.hij(" ",e.lcZ(25,13,"crypto.asset.details.overview.cancel")," ")}}function la(a,s){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.asset.details.overview.info-trading")," "))}function ca(a,s){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.asset.details.overview.warning-empty-wallets")," "))}function da(a,s){if(1&a&&(e.TgZ(0,"div",81),e.YNc(1,la,3,3,"div",82),e.YNc(2,ca,3,3,"div",82),e.qZA()),2&a){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf","Trading"==t.type),e.xp6(1),e.Q6J("ngIf","Trading"!=t.type&&0==(null==t.assets[0].history?null:t.assets[0].history.length))}}function pa(a,s){if(1&a&&(e.TgZ(0,"li"),e.TgZ(1,"div",83),e.TgZ(2,"div"),e._UZ(3,"ion-icon",22),e.qZA(),e.TgZ(4,"div",84),e.TgZ(5,"div"),e.TgZ(6,"strong"),e._uU(7),e.qZA(),e.TgZ(8,"div",85),e._uU(9),e.ALo(10,"date"),e.qZA(),e.qZA(),e.TgZ(11,"div",86),e.TgZ(12,"strong"),e._uU(13),e.qZA(),e.TgZ(14,"div",87),e.TgZ(15,"span"),e._UZ(16,"ion-icon",22),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Gre("icon-box ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger"," "),e.xp6(1),e.s9C("name",0==t.trend?"trending-down-outline":t.trend>0?"trending-up-outline":"trending-down-outline"),e.xp6(4),e.Oqu(n.assets[0].name),e.xp6(2),e.hij(" ",e.xi3(10,13,t.date,"dd MMM y")," "),e.xp6(4),e.AsE("",i.cryptoDashboard.currency," ",i.hidden?i.amount:t.balance,""),e.xp6(2),e.Gre("badge ",0==t.trend?"text-warning":t.trend>0?"badge-success":"badge-danger"," "),e.xp6(1),e.s9C("name",0==t.trend?"trending-down-outline":t.trend>0?"arrow-up-outline":"arrow-down-outline"),e.xp6(1),e.hij(" ",t.percentage,"% ")}}function ga(a,s){if(1&a&&(e.TgZ(0,"div",56),e.TgZ(1,"div",57),e.TgZ(2,"div",0),e.TgZ(3,"div",58),e.YNc(4,oa,3,3,"div",59),e.YNc(5,sa,4,2,"strong",60),e.YNc(6,ra,26,15,"form",61),e.qZA(),e.TgZ(7,"div",58),e.TgZ(8,"div",21),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"strong"),e._uU(12),e.TgZ(13,"span"),e._UZ(14,"ion-icon",22),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(16,"hr"),e.YNc(17,da,3,2,"div",62),e.TgZ(18,"div",63),e.TgZ(19,"ul",64),e.YNc(20,pa,18,16,"li",65),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw().$implicit,n=e.oxw();e.s9C("id",t.name.split(".")[0]+t.id),e.xp6(4),e.Q6J("ngIf",!n.isEditInvestmentActive),e.xp6(1),e.Q6J("ngIf",!n.isEditInvestmentActive),e.xp6(1),e.Q6J("ngIf",n.isEditInvestmentActive),e.xp6(3),e.hij(" ",e.lcZ(10,17,"crypto.asset.details.overview.performance")," "),e.xp6(2),e.Tol(t.assets[0].value-t.assets[0].invested==0?"text-warning":t.assets[0].value-t.assets[0].invested>0?"text-success":"text-danger"),e.xp6(1),e.AsE("",n.hidden?n.amount:(t.assets[0].value-t.assets[0].invested).toFixed(2)," ",n.cryptoDashboard.currency," "),e.xp6(1),e.Gre("badge ",(t.assets[0].value-t.assets[0].invested)/t.assets[0].invested*100==0?"badge-warning":(t.assets[0].value-t.assets[0].invested)/t.assets[0].invested*100>0?"badge-success":"badge-danger",""),e.xp6(1),e.s9C("name",(t.assets[0].value-t.assets[0].invested)/t.assets[0].invested*100==0?"arrow-down-outline":(t.assets[0].value-t.assets[0].invested)/t.assets[0].invested*100>0?"arrow-up-outline":"arrow-down-outline"),e.xp6(1),e.hij(" ",n.hidden?n.amount:((t.assets[0].value-t.assets[0].invested)/t.assets[0].invested*100).toFixed(2),"% "),e.xp6(2),e.Q6J("ngIf",n.validateWallet(t)),e.xp6(3),e.Q6J("ngForOf",t.assets[0].history.slice().reverse())}}function ua(a,s){if(1&a&&(e.TgZ(0,"div",45),e.YNc(1,ia,14,7,"h2",46),e.YNc(2,ga,21,19,"div",47),e.qZA()),2&a){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.showZeroBalance?t.assets[0].balance>=0:t.assets[0].balance>0),e.xp6(1),e.Q6J("ngIf",n.showZeroBalance?t.assets[0].balance>=0:t.assets[0].balance>0)}}function ha(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",88),e.TgZ(1,"div",89),e.TgZ(2,"div",90),e.TgZ(3,"h2",91),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().goToOperations()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.qZA(),e._UZ(9,"app-operations-list",92),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,6,"crypto.asset.details.overview.operations")," "),e.xp6(3),e.Oqu(e.lcZ(8,8,"crypto.asset.details.overview.view")),e.xp6(2),e.Q6J("modalID",t.modalConstant.CRYPTOOPERATIONDETAILS)("cryptoDashboard",t.cryptoDashboard)("walletsAsset",t.walletsAsset)("isAssetOperations",!0)}}let ma=(()=>{class a{constructor(t,n,i,o,r,l){this.cryptoService=t,this.screenService=n,this.charts=i,this.imageColorPicker=o,this.logger=r,this.router=l,this.updateinvestmentSubscribe=new T.w0,this.amount="******",this.hidden=!1,this.asset=new S,this.assetName="",this.cryptoDashboard=new O,this.walletsAsset=[],this.isEditInvestmentActive=!1,this.showZeroBalance=!1,this.thisYear=(new Date).getFullYear()}get modalConstant(){return c.Dq}get operationTypeConstant(){return c.jw}ngOnChanges(t){this.screenService.hideFooter(),this.getAsset()}ngOnInit(){this.getAsset()}ngOnDestroy(){this.updateinvestmentSubscribe.unsubscribe()}setColor(){this.resetColor(),document.querySelectorAll(".active").forEach((n,i)=>{var o;if(null!==(o=n.getAttribute("class"))&&void 0!==o&&o.includes("graph-tab")){let r=this.imageColorPicker.getColor(this.asset.icon,0);n.setAttribute("style","color: "+r+"; border-bottom-color: "+r+" !important")}})}resetColor(){document.querySelectorAll(".graph-tab").forEach(n=>{var i;null!==(i=n.getAttribute("class"))&&void 0!==i&&i.includes("active")||n.removeAttribute("style")})}getAsset(){this.graph1Y(),this.walletsAsset=this.filterWallets(),this.setColor()}graphAll(){if(this.setColor(),!this.chartOptions){let t=(0,g.p)(this.cryptoDashboard);t.assets=[(0,g.p)(null==this.asset.name?this.cryptoService.asset:this.asset)],t.statsAssetsDays=this.getAllDate(t.assets),setTimeout(()=>{var n;this.cryptoDashboard.wallets&&(this.chartOptions=(null===(n=this.screenService)||void 0===n?void 0:n.screenWidth)<=780?this.charts.renderCryptoDatas(t,[c.Gf.MOBILE_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(t,[c.Gf.DESKTOP_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA]))},500)}}graph1Y(){var t;if(this.setColor(),!this.chart1Y){let n=(0,g.p)(this.cryptoDashboard);n.assets=[(0,g.p)(null==this.asset.name?this.cryptoService.asset:this.asset)],n.statsAssetsDays=this.getAllDate(n.assets),n.assets[0]&&(n.assets[0].history=null===(t=n.assets[0].history)||void 0===t?void 0:t.filter(i=>i.date.toString().split("-")[0]===(new Date).getFullYear().toString()),n.statsAssetsDays&&(n.statsAssetsDays=n.statsAssetsDays.filter(i=>i.toString().split("-")[0]===(new Date).getFullYear().toString())),setTimeout(()=>{var i;this.chart1Y=(null===(i=this.screenService)||void 0===i?void 0:i.screenWidth)<=780?this.charts.renderCryptoDatas(n,[c.Gf.MOBILE_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(n,[c.Gf.DESKTOP_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA])},500))}}graph3Y(){var t;if(this.setColor(),!this.chart3Y){let n=(0,g.p)(this.cryptoDashboard);n.assets=[(0,g.p)(null==this.asset.name?this.cryptoService.asset:this.asset)],n.statsAssetsDays=this.getAllDate(n.assets);let i=[(new Date).getFullYear().toString(),((new Date).getFullYear()-1).toString(),((new Date).getFullYear()-2).toString()],o=null===(t=n.assets[0].history)||void 0===t?void 0:t.filter(r=>i.includes(r.date.toString().split("-")[0]));n.assets[0].history=o,n.statsAssetsDays&&(n.statsAssetsDays=n.statsAssetsDays.filter(r=>i.includes(r.toString().split("-")[0]))),setTimeout(()=>{var r;this.chart3Y=(null===(r=this.screenService)||void 0===r?void 0:r.screenWidth)<=780?this.charts.renderCryptoDatas(n,[c.Gf.MOBILE_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(n,[c.Gf.DESKTOP_MODE,c.Gf.LIVE_PRICE_AS_LAST_DATA])},500)}}percentageAssetInTotal(){return 100*this.asset.value/this.cryptoDashboard.balance}filterWallets(){var t;let n=null==this.asset.name?null===(t=this.cryptoService.asset)||void 0===t?void 0:t.name:this.asset.name;const i=(0,g.p)(this.cryptoDashboard);let o=i.wallets?i.wallets.filter(r=>null!=r.assets&&0!=r.assets.length?r.assets.slice().find(l=>l.name==n):null):[];return o.forEach(r=>{r.assets=r.assets.slice().filter(l=>l.name==n),null==r.assets[0].history&&(r.assets[0].history=[])}),o}getOperations(){let t=(0,g.p)(this.walletsAsset),n=[];return t.forEach(i=>{i.assets&&i.assets.length>0&&i.assets[0].operations&&i.assets[0].operations.length>0&&i.assets[0].operations.forEach(o=>{o.wallet=i,o.asset=i.assets[0],o.type!=c.jw.NEWINVESTMENT&&(o.assetSell=this.cryptoDashboard.assets.find(r=>r.symbol==o.entryCoin)),n.push(o)})}),n.sort((i,o)=>i.exitDate<o.exitDate?1:-1),n}updateInvestment(t){this.isEditInvestmentActive=!1,this.updateinvestmentSubscribe=this.cryptoService.addOrUpdateCryptoAsset(t).subscribe(r=>{this.logger.LOG(r.message,"DetailsOverviewComponent")});let n=(0,g.p)(this.walletsAsset),i=0,o=0;n.forEach(r=>{i+=r.assets[0].invested,o+=r.assets[0].balance,this.cryptoService.cryptoDashboard.wallets.find(l=>l.name==r.name).assets.find(l=>l.identifier==r.assets[0].identifier).balance=r.assets[0].balance,this.cryptoService.cryptoDashboard.wallets.find(l=>l.name==r.name).assets.find(l=>l.identifier==r.assets[0].identifier).invested=r.assets[0].invested}),this.asset.invested=i,this.asset.balance=o}goToOperations(){let t=U();this.cryptoService.operationsMap.set(t,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+t])}selectOperation(t){this.operationSelect=t}getAllDate(t){let n=[];return t&&t.forEach(i=>{var o;i&&i.history&&(null===(o=i.history)||void 0===o||o.forEach(r=>{n.find(l=>l==r.date.toString())||n.push(r.date.toString())}))}),n.sort(),n}zeroBalanceSwitch(){return this.showZeroBalance=!this.showZeroBalance}validateWallet(t){return null==t.assets[0]||null==t.assets[0].history||0==t.assets[0].history.length}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(I.H),e.Y36(Q.C),e.Y36(xn.C),e.Y36(M.m),e.Y36(v.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-details-overview"]],inputs:{hidden:"hidden",asset:"asset",assetName:"assetName",cryptoDashboard:"cryptoDashboard"},features:[e.TTD],decls:104,vars:77,consts:[[1,"row"],[1,"col-md-7"],[1,"section","mt-2"],[1,"card","border_round"],[1,"card-body","pt-1"],["role","tablist",1,"nav","nav-tabs","lined"],[1,"nav-item"],["data-bs-toggle","tab","href","#tab-1y","role","tab",1,"nav-link","graph-tab","active",3,"click"],["data-bs-toggle","tab","href","#tab-3y","role","tab",1,"nav-link","graph-tab",3,"click"],["data-bs-toggle","tab","href","#tab-all","role","tab",1,"nav-link","graph-tab",3,"click"],[1,"tab-content"],["id","tab-1y","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"inner-round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],["id","tab-3y","role","tabpanel",1,"tab-pane","fade"],["id","tab-all","role","tabpanel",1,"tab-pane","fade"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"col-md-5"],[1,"section","mt-2","mb-4"],[1,"listview","no-line","transparent","flush","simple-listview"],[1,"text-muted"],[3,"name"],[1,"card","border_round","mt-2"],[1,"card-body"],[1,"row","mb-05","fontsize-sub"],[1,"col","text-success"],[1,"col","text-secondary","text-end"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-secondary"],[1,"col-md-12"],[1,"section","inset","mb-0"],[1,"section-heading","mb-1"],[1,"section-title"],["class","link clickable",3,"click",4,"ngIf"],["id","accordionExample2",1,"accordion","border_round"],["class","accordion-item",4,"ngFor","ngForOf"],["class","col-md-12 spaceOp",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",3,"series","chart","title","colors","legend","stroke","labels"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"link","clickable",3,"click"],["name","eye-outline",2,"width","20px","height","20px","vertical-align","-5px"],["name","eye-off-outline",2,"width","20px","height","20px","vertical-align","-5px"],[1,"accordion-item"],["class","accordion-header",4,"ngIf"],["class","accordion-collapse collapse","data-bs-parent","#accordionExample2",3,"id",4,"ngIf"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed"],["alt","avatar",1,"imaged","d-inline","w30","rounded","me-2","ms-1",3,"src"],[1,"accordion-wallet-name"],[1,"title-section","text-end","accordion-right-title"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"space"],["data-bs-parent","#accordionExample2",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"col-6","text-center"],["class","text-muted",4,"ngIf"],["class","clickable",3,"click",4,"ngIf"],["type","submit",4,"ngIf"],["class","alert alert-secondary mb-1 text-center","role","alert",4,"ngIf"],[1,"card","section-3"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list"],[4,"ngFor","ngForOf"],[1,"clickable",3,"click"],["name","create-outline",2,"vertical-align","-1px"],["type","submit"],["f","ngForm"],[1,"form-group","boxed","row"],[1,"input-wrapper","col-md-5","col-12","text-end"],["for","select4",1,"label"],["type","number","id","investment","name","investment","required","",1,"form-control",3,"ngModel","ngModelChange"],["investment1","ngModel"],[1,"clear-input"],["name","close-circle"],["type","number","id","balance","name","balance","required","","min","0.00000000",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-2","col-12","text-start","d-flex","mt-3"],["type","button",1,"btn","btn-outline-primary","rounded","shadowed","me-1","mb-1","d-inline",3,"disabled","click"],["type","button",1,"btn","btn-outline-secondary","rounded","shadowed","me-1","mb-1","d-inline",3,"click"],["role","alert",1,"alert","alert-secondary","mb-1","text-center"],[4,"ngIf"],[1,"item"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],[1,"text-small"],[1,"col-md-12","spaceOp"],[1,"section","mt-4"],[1,"section-heading"],[1,"title"],[3,"modalID","cryptoDashboard","walletsAsset","isAssetOperations"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"ul",5),e.TgZ(6,"li",6),e.TgZ(7,"a",7),e.NdJ("click",function(){return n.graph1Y()}),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"li",6),e.TgZ(10,"a",8),e.NdJ("click",function(){return n.graph3Y()}),e._uU(11," 3Y "),e.qZA(),e.qZA(),e.TgZ(12,"li",6),e.TgZ(13,"a",9),e.NdJ("click",function(){return n.graphAll()}),e._uU(14," All "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",10),e.TgZ(16,"div",11),e.TgZ(17,"div",12),e.YNc(18,$n,5,0,"div",13),e.YNc(19,zn,1,7,"apx-chart",14),e.qZA(),e.qZA(),e.TgZ(20,"div",15),e.TgZ(21,"div",12),e.YNc(22,Xn,5,0,"div",13),e.YNc(23,Kn,1,7,"apx-chart",14),e.qZA(),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"div",12),e.YNc(26,ea,5,0,"div",13),e.YNc(27,ta,1,7,"apx-chart",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",18),e.TgZ(29,"div",19),e.TgZ(30,"div",3),e.TgZ(31,"ul",20),e.TgZ(32,"li"),e.TgZ(33,"div",21),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"strong"),e._uU(37),e.qZA(),e.qZA(),e.TgZ(38,"li"),e.TgZ(39,"div",21),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"strong"),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"li"),e.TgZ(45,"div",21),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"strong"),e._uU(49),e.qZA(),e.qZA(),e.TgZ(50,"li"),e.TgZ(51,"div",21),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"strong"),e._uU(55),e.qZA(),e.qZA(),e.TgZ(56,"li"),e.TgZ(57,"div",21),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"strong"),e._uU(61),e.qZA(),e.qZA(),e.TgZ(62,"li"),e.TgZ(63,"div",21),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"strong"),e.TgZ(67,"span"),e._UZ(68,"ion-icon",22),e._uU(69),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"li"),e.TgZ(71,"div",21),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"strong"),e._uU(75),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",23),e.TgZ(77,"div",24),e.TgZ(78,"div",25),e.TgZ(79,"div",26),e.TgZ(80,"strong"),e._uU(81),e.ALo(82,"number"),e.qZA(),e.qZA(),e.TgZ(83,"div",27),e.TgZ(84,"strong"),e._uU(85),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",28),e._UZ(87,"div",29),e.ALo(88,"number"),e.ALo(89,"number"),e._UZ(90,"div",30),e.ALo(91,"number"),e.ALo(92,"number"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(93,"div",31),e.TgZ(94,"div",32),e.TgZ(95,"div",33),e.TgZ(96,"div",34),e._uU(97),e.ALo(98,"translate"),e.qZA(),e.YNc(99,na,4,3,"a",35),e.YNc(100,aa,4,3,"a",35),e.qZA(),e.TgZ(101,"div",36),e.YNc(102,ua,3,2,"div",37),e.qZA(),e.qZA(),e.qZA(),e.YNc(103,ha,10,10,"div",38),e.qZA()),2&t&&(e.xp6(8),e.hij(" ",n.thisYear," "),e.xp6(10),e.Q6J("ngIf",!n.chart1Y),e.xp6(1),e.Q6J("ngIf",n.chart1Y),e.xp6(3),e.Q6J("ngIf",!n.chart3Y),e.xp6(1),e.Q6J("ngIf",n.chart3Y),e.xp6(3),e.Q6J("ngIf",!n.chartOptions),e.xp6(1),e.Q6J("ngIf",n.chartOptions),e.xp6(7),e.hij(" ",e.lcZ(35,46,"crypto.asset.details.overview.rank")," "),e.xp6(3),e.hij("#",n.asset.rank,""),e.xp6(3),e.hij(" ",e.lcZ(41,48,"crypto.asset.details.overview.identifier")," "),e.xp6(3),e.Oqu(n.asset.identifier),e.xp6(3),e.hij(" ",e.lcZ(47,50,"crypto.asset.details.overview.balance")," "),e.xp6(3),e.AsE("",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol,""),e.xp6(3),e.AsE(" ",e.lcZ(53,52,"crypto.asset.details.overview.value"),"",n.cryptoService.currency," "),e.xp6(3),e.AsE("",n.cryptoService.currency," ",n.hidden?n.amount:n.asset.value,""),e.xp6(3),e.hij(" ",e.lcZ(59,54,"crypto.asset.details.overview.invested")," "),e.xp6(3),e.AsE("",n.cryptoService.currency," ",n.hidden?n.amount:n.asset.invested,""),e.xp6(3),e.hij(" ",e.lcZ(65,56,"crypto.asset.details.overview.performance")," "),e.xp6(3),e.Gre("badge ",(n.asset.value-n.asset.invested)/n.asset.invested*100==0?"badge-warning":(n.asset.value-n.asset.invested)/n.asset.invested*100>0?"badge-success":"badge-danger",""),e.xp6(1),e.s9C("name",(n.asset.value-n.asset.invested)/n.asset.invested*100==0?"arrow-down-outline":(n.asset.value-n.asset.invested)/n.asset.invested*100>0?"arrow-up-outline":"arrow-down-outline"),e.xp6(1),e.hij(" ",((n.asset.value-n.asset.invested)/n.asset.invested*100).toFixed(2),"% "),e.xp6(3),e.hij(" ",e.lcZ(73,58,"crypto.asset.details.overview.trend")," "),e.xp6(2),e.Tol(n.asset.value-n.asset.invested==0?"text-warning":n.asset.value-n.asset.invested>0?"text-success":"text-danger"),e.xp6(1),e.AsE("",n.cryptoDashboard.currency," ",n.hidden?n.amount:(n.asset.value-n.asset.invested).toFixed(2),""),e.xp6(6),e.hij("",e.xi3(82,60,n.percentageAssetInTotal(),"1.0-2"),"% "),e.xp6(4),e.AsE("",n.cryptoService.currency," ",n.hidden?n.amount:n.cryptoDashboard.balance,""),e.xp6(2),e.Q2q("style","width: ",e.xi3(88,63,n.percentageAssetInTotal(),"1.0-2"),"%",e.Ckj),e.uIk("aria-valuenow",e.xi3(89,66,n.percentageAssetInTotal(),"1.0-2")),e.xp6(3),e.Q2q("style","width: ",e.xi3(91,69,100-n.percentageAssetInTotal(),"1.0-2"),"%",e.Ckj),e.uIk("aria-valuenow",e.xi3(92,72,100-n.percentageAssetInTotal(),"1.0-2")),e.xp6(7),e.AsE(" ",e.lcZ(98,75,"crypto.asset.details.overview.wallets"),"",n.asset.name," "),e.xp6(2),e.Q6J("ngIf",!n.showZeroBalance),e.xp6(1),e.Q6J("ngIf",n.showZeroBalance),e.xp6(2),e.Q6J("ngForOf",n.walletsAsset),e.xp6(1),e.Q6J("ngIf",n.asset.operations&&n.asset.operations.length>0))},directives:[u.O5,P.x,A.gu,u.sg,p._Y,p.JL,p.F,p.wV,p.Fj,p.Q7,p.JJ,p.On,p.qQ,R],pipes:[_.X$,u.JJ,u.uU],styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%], .section-3[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}.accordion-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-4px!important;margin-right:10px!important}.accordion-button[_ngcontent-%COMP%]   .accordion-wallet-name[_ngcontent-%COMP%]{max-width:100px}.accordion-button[_ngcontent-%COMP%]   .accordion-right-title[_ngcontent-%COMP%]{max-width:180px}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}.spaceOp[_ngcontent-%COMP%]{width:95%;margin-left:2.5%}}.w30[_ngcontent-%COMP%]{width:50px;height:50px}.accordion-header[_ngcontent-%COMP%]{margin-top:0}.space[_ngcontent-%COMP%]{padding-bottom:80px}.accordion-right-title[_ngcontent-%COMP%]{position:absolute;right:40px}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),a})();const _a=["tradingView"],Za=["tradingViewTechnicalAnalisys"],va=["tradingViewAssetInfo"],Aa=["tradingViewListCryptos"],Ta=["tradingViewMap"];let ya=(()=>{class a{constructor(t,n){this._renderer2=t,this.cryptoService=n,this.assetSymbol="BTC"}ngOnInit(){var t;null==this.assetSymbol&&(this.assetSymbol=null===(t=this.cryptoService.asset)||void 0===t?void 0:t.symbol)}ngAfterViewInit(){this.appendGraph(),this.appendTradingViewTechnicalAnalisys(),this.appendTradingViewAssetInfo(),this.appendListGraph(),this.appendTradingViewMap()}appendGraph(){var t;let n=this._renderer2.createElement("div");n.style.height="100%";let i=this.assetSymbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js",o.text='\n    {\n      "symbols": [\n        [\n          "$SYMBOL$USDT|7D"\n        ],\n        [\n          "FX:EURUSD|7D"\n        ]\n      ],\n      "chartOnly": false,\n      "width": "100%",\n      "height": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "autosize": true,\n      "showVolume": false,\n      "showMA": false,\n      "hideDateRanges": false,\n      "hideMarketStatus": false,\n      "hideSymbolLogo": false,\n      "scalePosition": "right",\n      "scaleMode": "Normal",\n      "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",\n      "fontSize": "10",\n      "noTimeScale": false,\n      "valuesTracking": "1",\n      "changeMode": "price-and-percent",\n      "chartType": "area",\n      "maLineColor": "#2962FF",\n      "maLineWidth": 1,\n      "maLength": 9,\n      "backgroundColor": "rgba(19, 23, 34, 0)",\n      "lineWidth": 2,\n      "lineType": 0,\n      "dateRanges": [\n        "1d|1",\n        "1w|15",\n        "1m|30",\n        "3m|60",\n        "12m|1D",\n        "60m|1W",\n        "all|1M"\n      ]\n    }'.replace("$SYMBOL$",i),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(t=this.tradingView)||void 0===t?void 0:t.nativeElement,n)}appendTradingViewTechnicalAnalisys(){var t;let n=this._renderer2.createElement("div");n.style.height="100%";let i=this.assetSymbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js",o.text='\n    {\n      "interval": "1D",\n      "width": "100%",\n      "isTransparent": true,\n      "height": "100%",\n      "symbol": "$SYMBOL$USD",\n      "showIntervalTabs": true,\n      "locale": "it",\n      "colorTheme": "dark"\n    }'.replace("$SYMBOL$",i),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(t=this.tradingViewTechnicalAnalisys)||void 0===t?void 0:t.nativeElement,n)}appendTradingViewAssetInfo(){var t;let n=this._renderer2.createElement("div");n.style.height="100%";let i=this.assetSymbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js",o.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "symbol": "$SYMBOL$USD",\n      "locale": "it"\n    }'.replace("$SYMBOL$",i),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(t=this.tradingViewAssetInfo)||void 0===t?void 0:t.nativeElement,n)}appendListGraph(){var t;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",n.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "defaultColumn": "overview",\n      "screener_type": "crypto_mkt",\n      "displayCurrency": "USD",\n      "colorTheme": "dark",\n      "locale": "it",\n      "isTransparent": true\n    }',null===(t=this.tradingViewListCryptos)||void 0===t||t.nativeElement.appendChild(n)}appendTradingViewMap(){var t;let n=this._renderer2.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://s3.tradingview.com/external-embedding/embed-widget-crypto-coins-heatmap.js",n.innerHTML='\n    {\n      "dataSource": "Crypto",\n      "blockSize": "market_cap_calc",\n      "blockColor": "change",\n      "locale": "it",\n      "symbolUrl": "",\n      "colorTheme": "dark",\n      "hasTopBar": false,\n      "isDataSetEnabled": false,\n      "isZoomEnabled": false,\n      "hasSymbolTooltip": false,\n      "width": "100%",\n      "height": "100%"\n    }',null===(t=this.tradingViewMap)||void 0===t||t.nativeElement.appendChild(n)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.Qsj),e.Y36(C))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-tradingview-data"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_a,5),e.Gf(Za,5),e.Gf(va,5),e.Gf(Aa,5),e.Gf(Ta,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.tradingView=i.first),e.iGM(i=e.CRH())&&(n.tradingViewTechnicalAnalisys=i.first),e.iGM(i=e.CRH())&&(n.tradingViewAssetInfo=i.first),e.iGM(i=e.CRH())&&(n.tradingViewListCryptos=i.first),e.iGM(i=e.CRH())&&(n.tradingViewMap=i.first)}},inputs:{assetSymbol:"assetSymbol"},decls:46,vars:0,consts:[[1,"row"],[1,"col-md-7"],[1,"section","mt-2"],[1,"card"],[1,"card-body"],[1,"tradingview-widget-container"],[1,"tradingview-widget-container__widget"],[2,"height","400px"],["tradingView",""],[1,"col-md-5"],[1,"tradingViewTechnicalAnalisys"],["tradingViewTechnicalAnalisys",""],[1,"col-md-12"],[1,"tradingViewAssetInfo"],["tradingViewAssetInfo",""],[1,"card-body",2,"height","380px"],[2,"height","360px"],["tradingViewListCryptos",""],["hidden","",1,"col-md-12"],["tradingViewMap",""],[1,"tradingview-widget-copyright"],["href","https://it.tradingview.com/","rel","noopener nofollow","target","_blank"],[1,"blue-text"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"div",6),e._UZ(7,"div",7,8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"div",2),e.TgZ(11,"div",3),e.TgZ(12,"div",4),e.TgZ(13,"div",5),e._UZ(14,"div",6),e._UZ(15,"div",10,11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"div",2),e.TgZ(19,"div",3),e.TgZ(20,"div",4),e.TgZ(21,"div",5),e._UZ(22,"div",6),e._UZ(23,"div",13,14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",12),e.TgZ(26,"div",2),e.TgZ(27,"div",3),e.TgZ(28,"div",15),e.TgZ(29,"div",5),e._UZ(30,"div",6),e._UZ(31,"div",16,17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",18),e.TgZ(34,"div",2),e.TgZ(35,"div",3),e.TgZ(36,"div",4),e.TgZ(37,"div",5),e._UZ(38,"div",6),e._UZ(39,"div",null,19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",20),e.TgZ(42,"a",21),e.TgZ(43,"span",22),e._uU(44,"Segui tutti i mercati"),e.qZA(),e.qZA(),e._uU(45," su TradingView "),e.qZA(),e.qZA())},styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}.tradingViewAssetInfo[_ngcontent-%COMP%]{height:300px!important}.tradingViewTechnicalAnalisys[_ngcontent-%COMP%]{height:450px!important}}.tradingViewAssetInfo[_ngcontent-%COMP%]{height:200px}.tradingViewTechnicalAnalisys[_ngcontent-%COMP%]{height:400px}"]}),a})();const fa=["tradingViewAdvanced"],ba=["tradingViewDetails"];let xa=(()=>{class a{constructor(t){this._renderer2=t,this.symbol=""}ngOnInit(){}ngAfterViewInit(){this.appendTradingViewAdvanced(),this.appendTradingViewDetails()}appendTradingViewAdvanced(){var t;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/tv.js",n.text='\n    {\n      "autosize": true,\n      "symbol": "BINANCE:BTCUSDT",\n      "interval": "D",\n      "timezone": "Etc/UTC",\n      "theme": "dark",\n      "style": "1",\n      "locale": "it",\n      "toolbar_bg": "#f1f3f6",\n      "enable_publishing": false,\n      "withdateranges": true,\n      "allow_symbol_change": true,\n      "container_id": "tradingview_39b4d"\n    }',null===(t=this.tradingViewAdvanced)||void 0===t||t.nativeElement.appendChild(n)}appendTradingViewDetails(){var t;let n=this._renderer2.createElement("div");n.style.height="100%";let i=this.symbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",o.text='\n    {\n      "symbol": "BINANCE:$SYMBOL$USD",\n      "width": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "isTransparent": true\n    }\n    '.replace("$SYMBOL$",i),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(t=this.tradingViewDetails)||void 0===t?void 0:t.nativeElement,n)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-advanced-graph"]],viewQuery:function(t,n){if(1&t&&(e.Gf(fa,5),e.Gf(ba,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.tradingViewAdvanced=i.first),e.iGM(i=e.CRH())&&(n.tradingViewDetails=i.first)}},inputs:{symbol:"symbol"},decls:17,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"section","mt-2"],[1,"card"],[1,"card-body"],[1,"tradingview-widget-container"],["id","tradingview_39b4d"],["tradingViewAdvanced",""],["tradingViewDetails",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"div",6),e._UZ(7,"div",null,7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",0),e.TgZ(10,"div",1),e.TgZ(11,"div",2),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"div",5),e._UZ(15,"div",null,8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA())},styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}}"]}),a})();const Ca=["tradingViewDetails"];let qa=(()=>{class a{constructor(t,n,i,o,r){this.route=t,this.cryptoService=n,this.screenService=i,this.logger=o,this._renderer2=r,this.routeSubscribe=new T.w0,this.detailsSubscribe=new T.w0,this.cryptoDashSubscribe=new T.w0,this.amount="******",this.hidden=!1,this.cryptoDashboard=new O,this.asset=new S,this.assetName=""}ngOnDestroy(){this.routeSubscribe.unsubscribe(),this.detailsSubscribe.unsubscribe(),this.cryptoDashSubscribe.unsubscribe()}ngOnInit(){this.screenService.hideFooter();let t=[...this.cryptoService.assets];this.routeSubscribe=this.route.params.subscribe(n=>{this.assetName=n.identifier,0!=t.length?this.asset=t.find(i=>i.identifier==n.identifier):this.getCryptoDetails(n.identifier),0!=this.cryptoService.cryptoDashboard.balance&&0!=t.length?this.cryptoDashboard=(0,g.p)(this.cryptoService.cryptoDashboard):this.getCryptoDashboard()}),this.isWalletBalanceHidden()}ngAfterViewInit(){this.appendTradingViewDetails()}getCryptoDetails(t){this.detailsSubscribe=this.cryptoService.getCryptoDetails(t).subscribe(n=>{this.logger.LOG(n.message,"CryptoDetailsComponent"),this.asset=n.data,this.cryptoService.asset=n.data})}getCryptoDashboard(){this.cryptoDashSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(t=>{this.cryptoService.cache.cacheCryptoDashboardData(t),this.logger.LOG(t.message,"CryptoDetailsComponent"),this.cryptoDashboard=t.data})}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(c.Vs.HIDDENAMOUNT));null!=t&&(this.hidden=t)}appendTradingViewDetails(){var t;let n=this._renderer2.createElement("div");n.style.height="100%";let i=this.asset.symbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",o.text='\n    {\n      "symbol": "$SYMBOL$USD",\n      "width": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "isTransparent": true\n    }\n    '.replace("$SYMBOL$",i),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(t=this.tradingViewDetails)||void 0===t?void 0:t.nativeElement,n)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.gz),e.Y36(C),e.Y36(I.H),e.Y36(M.m),e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-crypto-details"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ca,5),2&t){let i;e.iGM(i=e.CRH())&&(n.tradingViewDetails=i.first)}},outputs:{asset:"asset",assetName:"assetName"},decls:48,vars:35,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule",1,"mx-auto"],[1,"row"],[1,"tradingview-widget-container"],["tradingViewDetails",""],[1,"details_mobile"],[1,"text-center","hidden_desktop","datas"],[1,"card-text","fs-3","d-inline"],[2,"vertical-align","3px"],[3,"name"],[1,"d-inline",2,"margin-top","-15px"],[1,"title-section","col-6","text-end","hidden_mobile","inside"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"section"],[1,"card","transparent"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","capsuled"],[1,"nav-item"],["data-bs-toggle","tab","href","#overview","role","tab",1,"nav-link","active"],["data-bs-toggle","tab","href","#card","role","tab",1,"nav-link"],["hidden","",1,"nav-item"],["data-bs-toggle","tab","href","#settings","role","tab",1,"nav-link"],[1,"tab-content","mt-1","margin-bottom-size"],["id","overview","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"hidden","asset","cryptoDashboard","assetName"],["id","card","role","tabpanel",1,"tab-pane","fade"],[3,"assetSymbol"],["id","settings","role","tabpanel",1,"tab-pane","fade"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-crypto-header",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e._UZ(6,"div",null,5),e._UZ(8,"div",6),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"h5",8),e.TgZ(11,"span",9),e._UZ(12,"ion-icon",10),e._uU(13),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"p",11),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"h5",13),e.TgZ(19,"span",9),e._UZ(20,"ion-icon",10),e._uU(21),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"p",14),e._uU(24),e.qZA(),e.qZA(),e.TgZ(25,"div",15),e.TgZ(26,"div",16),e.TgZ(27,"div",17),e.TgZ(28,"ul",18),e.TgZ(29,"li",19),e.TgZ(30,"a",20),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.qZA(),e.TgZ(33,"li",19),e.TgZ(34,"a",21),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.qZA(),e.TgZ(37,"li",22),e.TgZ(38,"a",23),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",24),e.TgZ(42,"div",25),e._UZ(43,"app-details-overview",26),e.qZA(),e.TgZ(44,"div",27),e._UZ(45,"app-tradingview-data",28),e.qZA(),e.TgZ(46,"div",29),e._UZ(47,"app-advanced-graph"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.s9C("title",e.lcZ(2,27,"crypto.asset.title")),e.xp6(10),e.Gre("badge ",0==n.asset.performance?"badge-warning":n.asset.performance>0?"badge-success":"badge-danger",""),e.xp6(1),e.s9C("name",0==n.asset.performance?"arrow-down-outline":n.asset.performance>0?"arrow-up-outline":"arrow-down-outline"),e.xp6(1),e.hij(" ",n.asset.performance,"% "),e.xp6(1),e.AsE(" ",n.hidden?n.amount:n.asset.value," ",n.cryptoDashboard.currency," "),e.xp6(2),e.AsE(" ",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol," "),e.xp6(3),e.Gre("badge ",0==n.asset.performance?"badge-warning":n.asset.performance>0?"badge-success":"badge-danger",""),e.xp6(1),e.s9C("name",0==n.asset.performance?"arrow-down-outline":n.asset.performance>0?"arrow-up-outline":"arrow-down-outline"),e.xp6(1),e.hij(" ",n.asset.performance,"% "),e.xp6(1),e.AsE(" ",n.hidden?n.amount:n.asset.value," ",n.cryptoDashboard.currency," "),e.xp6(2),e.AsE(" ",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol," "),e.xp6(7),e.hij(" ",e.lcZ(32,29,"crypto.asset.tab1")," "),e.xp6(4),e.hij(" ",e.lcZ(36,31,"crypto.asset.tab2")," "),e.xp6(4),e.hij(" ",e.lcZ(40,33,"crypto.asset.tab3")," "),e.xp6(4),e.Q6J("hidden",n.hidden)("asset",n.asset)("cryptoDashboard",n.cryptoDashboard)("assetName",n.assetName),e.xp6(2),e.Q6J("assetSymbol",n.asset.symbol))},directives:[k,A.gu,ma,ya,xa],pipes:[_.X$],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -40px 30px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden!important}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-40px!important}.details_mobile[_ngcontent-%COMP%]{position:absolute;top:235px;height:70px;width:95%;background-color:#121212}.datas[_ngcontent-%COMP%]{position:absolute;top:240px}.tradingview-widget-container[_ngcontent-%COMP%]{height:210px;width:95%}}.w30[_ngcontent-%COMP%]{width:40px;height:40px}.transparent[_ngcontent-%COMP%]{background-color:transparent!important;margin-left:-10px!important;margin-right:-10px!important}.inside[_ngcontent-%COMP%]{position:absolute;right:110px;top:60px}.tradingview-widget-container[_ngcontent-%COMP%]{margin:5px 5px 0}"]}),a})();function wa(a,s){if(1&a&&(e.TgZ(0,"span"),e._UZ(1,"i"),e._uU(2),e.qZA()),2&a){const t=e.oxw().$implicit;e.Gre("",null!=t.history?0==t.history[t.history.length-1].percentage?"text-warning":t.history[t.history.length-1].percentage>0?"text-success":"text-danger":"text-warning"," mr-2"),e.xp6(1),e.Gre("fa ",null!=t.history&&t.history[t.history.length-1].percentage>0?"fa-arrow-up":"fa-arrow-down",""),e.xp6(1),e.AsE("",null!=t.history&&t.history[t.history.length-1].percentage>=1e3?"+":""," ",null!=t.history?t.history[t.history.length-1].percentage:0,"%")}}function Oa(a,s){1&a&&(e.TgZ(0,"span",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"stats.data.deleted")))}function Ma(a,s){if(1&a&&(e.TgZ(0,"div",24),e.TgZ(1,"div",25),e.TgZ(2,"div",26),e.TgZ(3,"div",27),e.TgZ(4,"div",28),e.TgZ(5,"h5",29),e._uU(6),e.qZA(),e.TgZ(7,"span",30),e.TgZ(8,"small"),e._uU(9),e.qZA(),e._uU(10),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"span",31),e.TgZ(13,"small"),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",32),e._UZ(16,"img",33),e.qZA(),e.qZA(),e.TgZ(17,"p",34),e.TgZ(18,"span",35),e.YNc(19,wa,3,8,"span",36),e.YNc(20,Oa,3,3,"span",37),e.qZA(),e.TgZ(21,"span",38),e._uU(22),e.ALo(23,"translate"),e.ALo(24,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.xp6(6),e.AsE(" ",t.name," (",t.symbol,") "),e.xp6(3),e.Oqu(n.resumeData.currency),e.xp6(1),e.hij(" ",n.isPast&&t.history&&t.history[t.history.length-1].balance?n.hidden?n.amount:t.history[t.history.length-1].balance:n.hidden?n.amount:t.value,""),e.xp6(4),e.AsE("",n.hidden?n.amount:t.balance," ",t.symbol,""),e.xp6(2),e.s9C("src",null==t?null:t.icon,e.LSH),e.xp6(3),e.Q6J("ngIf",!t.deletedDate),e.xp6(1),e.Q6J("ngIf",t.deletedDate),e.xp6(2),e.AsE("",e.lcZ(23,11,"stats.since")," ",null!=t.history?t.history[t.history.length-1].date:e.xi3(24,13,"","dd MMM y"),"")}}function Da(a,s){1&a&&(e.TgZ(0,"div",40),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function Sa(a,s){if(1&a&&e._UZ(0,"apx-chart",41),2&a){const t=e.oxw(2);e.Q6J("series",t.chartOptions.series)("chart",t.chartOptions.chart)("title",t.chartOptions.title)("colors",t.chartOptions.colors)("legend",t.chartOptions.legend)("stroke",t.chartOptions.stroke)("labels",t.chartOptions.labels)}}function Ua(a,s){if(1&a&&(e.TgZ(0,"th",50),e._UZ(1,"img",51),e._uU(2),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.s9C("src",t.icon,e.LSH),e.xp6(1),e.hij(" ",t.name," ")}}function Ea(a,s){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.percentage>=1e3?"+1000":t.percentage,"%)")}}function Ia(a,s){if(1&a&&(e.TgZ(0,"td"),e._uU(1),e.YNc(2,Ea,2,1,"span",54),e.qZA()),2&a){const t=s.$implicit,n=s.index,i=e.oxw().$implicit,o=e.oxw(3);e.IyS("",i.index!=n?0===t.percentage?"text-warning":t.percentage>0?"text-success":"text-danger":""," ",i.index-1===n||i.index===n?"text-end":"text-center","\n      ",i.index===n?0===t.balance?"text-warning":t.balance>0?"text-success":"text-danger":"",""),e.xp6(1),e.AsE(" ",o.resumeData.currency," ",o.hidden?o.amount:t.balance," "),e.xp6(1),e.Q6J("ngIf",i.index!=n)}}function Na(a,s){if(1&a&&(e.TgZ(0,"tr"),e.TgZ(1,"th",52),e._uU(2),e.ALo(3,"date"),e.qZA(),e.YNc(4,Ia,3,8,"td",53),e.qZA()),2&a){const t=s.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,2,t[t.length-2].date,"d MMM y")," "),e.xp6(2),e.Q6J("ngForOf",t)}}function ka(a,s){1&a&&(e.TgZ(0,"div",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.resume.warning")," "))}function La(a,s){if(1&a&&(e.TgZ(0,"div",42),e.TgZ(1,"div",43),e.TgZ(2,"table",44),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th",45),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,Ua,3,2,"th",46),e.TgZ(9,"th",47),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",47),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,Na,5,5,"tr",48),e.qZA(),e.qZA(),e.YNc(17,ka,3,3,"div",49),e.qZA(),e.qZA()),2&a){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.lcZ(7,6,"stats.data.table_date")," "),e.xp6(2),e.Q6J("ngForOf",t.resumeData.assets),e.xp6(2),e.hij(" ",e.lcZ(11,8,"stats.data.table_balance")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"stats.data.table_trend")," "),e.xp6(3),e.Q6J("ngForOf",t.tableBalance.slice().reverse()),e.xp6(1),e.Q6J("ngIf",0==t.tableBalance.length)}}function Ja(a,s){if(1&a&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"a",3),e.TgZ(3,"div",4),e.TgZ(4,"div",5),e.TgZ(5,"div",6),e._UZ(6,"i",7),e.qZA(),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"strong"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p",8),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e.TgZ(16,"div",10),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",2),e.TgZ(19,"a",3),e.TgZ(20,"div",4),e.TgZ(21,"div",5),e.TgZ(22,"div",11),e._UZ(23,"i",12),e.qZA(),e.qZA(),e.TgZ(24,"div"),e.TgZ(25,"strong"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"p",8),e._uU(29),e.ALo(30,"translate"),e.ALo(31,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",9),e.TgZ(33,"div",13),e._uU(34),e.qZA(),e.TgZ(35,"div",14),e.TgZ(36,"span"),e._UZ(37,"i"),e._uU(38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",15),e.TgZ(40,"div",16),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",1),e.YNc(44,Ma,25,16,"div",17),e.qZA(),e.qZA(),e.TgZ(45,"div",18),e.TgZ(46,"div",16),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",19),e.YNc(50,Da,5,0,"div",20),e.YNc(51,Sa,1,7,"apx-chart",21),e.qZA(),e.qZA(),e.TgZ(52,"div",22),e.TgZ(53,"div",16),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.YNc(56,La,18,12,"div",23),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,27,"stats.total")),e.xp6(3),e.AsE(" ",e.lcZ(13,29,"stats.since")," ",e.xi3(14,31,t.resumeData.lastUpdate,"dd MMM y")," "),e.xp6(5),e.AsE(" ",t.resumeData.currency," ",t.hidden?t.amount:t.resumeData.balance," "),e.xp6(9),e.Oqu(e.lcZ(27,34,"stats.performance")),e.xp6(3),e.AsE(" ",e.lcZ(30,36,"stats.since")," ",e.xi3(31,38,t.resumeData.holdingLong.lastUpdate,"dd MMM y")," "),e.xp6(4),e.Gre("price ",0==t.resumeData.holdingLong.performance?"text-warning":t.resumeData.holdingLong.performance>0?"text-success":"text-danger",""),e.xp6(1),e.AsE(" ",t.resumeData.currency," ",t.hidden?t.amount:t.resumeData.holdingLong.balance," "),e.xp6(2),e.Gre("",0==t.resumeData.holdingLong.performance?"text-warning":t.resumeData.holdingLong.performance>0?"text-success":"text-danger"," mr-2"),e.xp6(1),e.Gre("fa ",t.resumeData.holdingLong.performance>0?"fa-arrow-up":"fa-arrow-down",""),e.xp6(1),e.hij(" ",t.resumeData.holdingLong.performance,"%"),e.xp6(3),e.Oqu(e.lcZ(42,41,"crypto.resume.assetList")),e.xp6(3),e.Q6J("ngForOf",t.resumeDataFilterOnDate.assets),e.xp6(3),e.hij(" ",e.lcZ(48,43,"crypto.resume.graphAsset")," "),e.xp6(3),e.Q6J("ngIf",!t.chartOptions),e.xp6(1),e.Q6J("ngIf",t.chartOptions),e.xp6(3),e.hij(" ",e.lcZ(55,45,"crypto.resume.tableAsset")," "),e.xp6(2),e.Q6J("ngIf",t.resumeData.assets)}}let Pa=(()=>{class a{constructor(t,n){this.screenService=t,this.charts=n,this.amount="******",this.hidden=!1,this.resumeData=new O,this.isPast=!1,this.balances=[],this.filterDateHistory=[],this.resumeDataFilterOnDate=new O,this.tableBalance=[]}ngOnChanges(t){this.getDatas()}ngOnInit(){}getDatas(){this.resumeData.holdingLong.trend=this.resumeData.holdingLong.balance/(1+this.resumeData.holdingLong.performance/100),setTimeout(()=>{var t;this.resumeData.assets&&(this.resumeDataFilterOnDate=(0,g.p)(this.resumeData),this.isPast||(this.resumeDataFilterOnDate.assets=this.resumeDataFilterOnDate.assets.filter(n=>0!=n.balance)),this.chartOptions=(null===(t=this.screenService)||void 0===t?void 0:t.screenWidth)<=780?this.charts.renderCryptoDatas(this.resumeData,[200,this.isPast]):this.charts.renderCryptoDatas(this.resumeData,[350,this.isPast]))},100),this.renderTable()}renderTable(){this.tableBalance=[],this.balances=[],this.resumeData.statsAssetsDays&&this.resumeData.statsAssetsDays.forEach((t,n)=>{t.split("-"),t.split("-"),this.tableBalance.push(this.tableColumsCreateRefactor(t,n))})}tableColumsCreateRefactor(t,n){let i=[];this.resumeData.assets.forEach((h,Z)=>{var f;let w=null===(f=h.history)||void 0===f?void 0:f.find(b=>b.date.toString()===t);w?Z===this.resumeData.assets.length-1&&this.filterDateHistory.push(w.date.toString()):(w=new D.jk,w.balance=0,w.date=new Date(t),w.percentage=0,w.trend=0),i.push(w)});let o=new D.jk;o.balance=0,o.date=new Date(t),i.forEach(h=>{h&&null!=h.balance&&h.balance&&(o.balance=parseFloat((o.balance+h.balance).toFixed(2)))});let r=((o.balance-this.balances[this.balances.length-1])/this.balances[this.balances.length-1]*100).toFixed(2);o.percentage=parseFloat(r),(o.percentage===1/0||Number.isNaN(o.percentage)||0==n)&&(o.percentage=0);let l=new D.jk,d=(o.balance-this.balances[this.balances.length-1]).toFixed(2);return l.balance=parseFloat(d),Number.isNaN(l.balance)&&(l.balance=0),i.push(o),i.push(l),this.balances.push(o.balance),i.index=i.length-1,i}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(I.H),e.Y36(Q.C))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-resume-assets"]],inputs:{hidden:"hidden",resumeData:"resumeData",isPast:"isPast"},features:[e.TTD],decls:1,vars:1,consts:[["class","transactions row",4,"ngIf"],[1,"transactions","row"],[1,"col-md-6","mt-2"],["routerLink","/crypto/asset",1,"item"],[1,"detail"],[1,"col-auto",2,"padding-right","20px"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"sincetot"],[1,"right","float-end"],["id","totale",1,"price"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-poll"],["id","pil"],[1,"price","float-end","performancetot"],[1,"mt-2","sec1"],[1,"section-title"],["class","col-xl-3 col-sm-6 mobile-size",4,"ngFor","ngForOf"],[1,"section","col-xl-12"],[1,"card","inner-round","border_round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"section","mt-2","mb-4","col-xl-12"],["class","card",4,"ngIf"],[1,"col-xl-3","col-sm-6","mobile-size"],[1,"card","border_round","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[1,"row"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],["id","tot1",1,"h2","font-weight-bold","mb-0"],[2,"margin-left","1px"],[1,"col-auto"],["alt","img",1,"image-block","imaged","w48","round-img",3,"src"],[1,"mt-3","mb-0","text-muted","text-sm"],[1,"performancesingle0","float-end"],[3,"class",4,"ngIf"],["class","badge badge-danger","style","width: 70px",4,"ngIf"],[1,"text-nowrap","sincetot"],[1,"badge","badge-danger",2,"width","70px"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col","class","text-center",4,"ngFor","ngForOf"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],["class","mx-auto text-center alert alert-danger mb-1","role","alert",4,"ngIf"],["scope","col",1,"text-center"],["alt","",1,"table-logo",3,"src"],["scope","row"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],["role","alert",1,"mx-auto","text-center","alert","alert-danger","mb-1"]],template:function(t,n){1&t&&e.YNc(0,Ja,57,47,"div",0),2&t&&e.Q6J("ngIf",n.resumeData.assets)},directives:[u.O5,v.yS,A.Fo,u.sg,P.x],pipes:[_.X$,u.uU],styles:["@media screen and (max-width: 780px){.transactions[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}.mobile-size[_ngcontent-%COMP%]{margin-bottom:-15px}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}}.icon-shape[_ngcontent-%COMP%]{display:inline-flex;padding:12px;text-align:center;border-radius:50%;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.round-img[_ngcontent-%COMP%]{border-radius:50%}.transactions[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-radius:20px}.table-logo[_ngcontent-%COMP%]{border-radius:50%;width:25px;height:25px;align-items:center;justify-content:center;margin-right:5px;margin-left:-10px}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),a})();function Fa(a,s){1&a&&(e.TgZ(0,"div",14),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function Ya(a,s){if(1&a&&e._UZ(0,"apx-chart",15),2&a){const t=e.oxw(2);e.Q6J("series",t.trading.series)("chart",t.trading.chart)("title",t.trading.title)("colors",t.trading.colors)("legend",t.trading.legend)("stroke",t.trading.stroke)("labels",t.trading.labels)}}function Qa(a,s){if(1&a&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",11),e.YNc(5,Fa,5,0,"div",12),e.YNc(6,Ya,1,7,"apx-chart",13),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,"crypto.resume.graphAsset")," "),e.xp6(3),e.Q6J("ngIf",!t.trading),e.xp6(1),e.Q6J("ngIf",t.trading)}}function ja(a,s){if(1&a&&(e.TgZ(0,"tr"),e.TgZ(1,"th",25),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td",26),e._uU(5),e.qZA(),e.TgZ(6,"td",26),e._uU(7),e.qZA(),e.TgZ(8,"td",26),e._uU(9),e.qZA(),e.TgZ(10,"td",26),e._uU(11),e.qZA(),e.TgZ(12,"th",27),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"td",26),e._uU(16),e.qZA(),e.TgZ(17,"td",26),e._uU(18),e.qZA(),e.TgZ(19,"td",26),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA()),2&a){const t=s.$implicit,n=e.oxw(2);e.xp6(2),e.hij(" ",e.xi3(3,32,t.entryDate,"d MMM y")," "),e.xp6(3),e.AsE(" ",null==t.assetSell?null:t.assetSell.symbol,"/",null==t.asset?null:t.asset.symbol," "),e.xp6(2),e.AsE(" ",t.entryQuantity," ",null==t.asset?null:t.asset.symbol," "),e.xp6(2),e.AsE(" ",t.entryPrice," ",n.cryptoDashboard.currency," "),e.xp6(2),e.AsE(" ",t.entryPriceValue," ",n.cryptoDashboard.currency," "),e.xp6(2),e.hij(" ",e.xi3(14,35,t.exitDate,"d MMM y")," "),e.xp6(3),e.AsE(" ",t.exitQuantity," ",null==t.assetSell?null:t.assetSell.symbol," "),e.xp6(2),e.AsE(" ",t.exitPrice," ",n.cryptoDashboard.currency," "),e.xp6(2),e.AsE(" ",t.exitPriceValue," ",n.cryptoDashboard.currency," "),e.xp6(1),e.Gre("text-center ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger",""),e.xp6(1),e.lnq(" ",t.trend," ",n.cryptoDashboard.currency," (",t.performance,"%) "),e.xp6(1),e.Gre("text-center ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger",""),e.xp6(1),e.AsE(" ",t.trendSum," ",n.cryptoDashboard.currency," "),e.xp6(1),e.Gre("text-end ",0==t.trend?"text-warning":t.trend>0?"text-success":"text-danger",""),e.xp6(1),e.AsE(" ",t.balance," ",n.cryptoDashboard.currency," ")}}function Ra(a,s){1&a&&(e.TgZ(0,"div",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.resume.warning")," "))}function Ba(a,s){if(1&a&&(e.TgZ(0,"div",16),e.TgZ(1,"div",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",17),e.TgZ(5,"div",18),e.TgZ(6,"table",19),e.TgZ(7,"thead"),e.TgZ(8,"tr"),e.TgZ(9,"th",20),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",21),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th",21),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th",21),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th",21),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th",21),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th",21),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th",21),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th",21),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"th",21),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"th",21),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"th",22),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"tbody"),e.YNc(46,ja,27,38,"tr",23),e.qZA(),e.qZA(),e.YNc(47,Ra,3,3,"div",24),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.lnq(" ",e.lcZ(3,17,"crypto.resume.trading.table.title")," ",t.invested," ",t.cryptoDashboard.currency," "),e.xp6(8),e.hij(" ",e.lcZ(11,19,"crypto.resume.trading.table.tab1")," "),e.xp6(3),e.hij(" ",e.lcZ(14,21,"crypto.resume.trading.table.tab2")," "),e.xp6(3),e.hij(" ",e.lcZ(17,23,"crypto.resume.trading.table.tab3")," "),e.xp6(3),e.hij(" ",e.lcZ(20,25,"crypto.resume.trading.table.tab4")," "),e.xp6(3),e.hij(" ",e.lcZ(23,27,"crypto.resume.trading.table.tab5")," "),e.xp6(3),e.hij(" ",e.lcZ(26,29,"crypto.resume.trading.table.tab6")," "),e.xp6(3),e.hij(" ",e.lcZ(29,31,"crypto.resume.trading.table.tab7")," "),e.xp6(3),e.hij(" ",e.lcZ(32,33,"crypto.resume.trading.table.tab8")," "),e.xp6(3),e.hij(" ",e.lcZ(35,35,"crypto.resume.trading.table.tab9")," "),e.xp6(3),e.hij(" ",e.lcZ(38,37,"crypto.resume.trading.table.tab10")," "),e.xp6(3),e.hij(" ",e.lcZ(41,39,"crypto.resume.trading.table.tab11")," "),e.xp6(3),e.hij(" ",e.lcZ(44,41,"crypto.resume.trading.table.tab12")," "),e.xp6(3),e.Q6J("ngForOf",t.operations),e.xp6(1),e.Q6J("ngIf",t.operations&&0==t.operations.length)}}let Ha=(()=>{class a{constructor(t,n,i,o){this.cryptoService=t,this.router=n,this.screenService=i,this.charts=o,this.cryptoDashboard=new O,this.wallets=[],this.operations=[],this.walletsFilter=[],this.invested=0}get modalConstant(){return c.Dq}ngOnChanges(t){this.filterWallet(),this.getOperations()}ngOnInit(){this.filterWallet()}filterWallet(){let t=(0,g.p)(this.wallets);t&&(this.walletsFilter=t.filter(n=>n.type==c.jw.TRADING),this.walletsFilter.forEach(n=>{n.assets&&n.assets.length>0&&n.assets.forEach(i=>{i.operations&&i.operations.length>0&&(i.operations=i.operations.filter(o=>o.type==c.jw.TRADING))})}))}getOperations(){var t;let n=0,i=[],o=(0,g.p)(this.wallets);return o&&o.forEach(r=>{r.assets&&r.assets.length>0&&r.assets.forEach(l=>{r.type==c.jw.TRADING&&(n+=l.invested),l.operations&&l.operations.length>0&&(l.operations=l.operations.filter(d=>d.type==c.jw.TRADING),l.operations.forEach(d=>{d.asset=l,d.wallet=r,d.type!=c.jw.NEWINVESTMENT&&(d.assetSell=(0,g.p)(this.cryptoService.cryptoDashboard.assets.find(h=>h.symbol==d.entryCoin))),i.push(d)}))})}),i=i.filter(r=>r.type==c.jw.TRADING),i.sort((r,l)=>r.entryDate<l.entryDate?1:-1),this.trading=(null===(t=this.screenService)||void 0===t?void 0:t.screenWidth)<=780?this.charts.renderTradingOperations(i,[200]):this.charts.renderTradingOperations(i,[350]),this.getOperationTable(i,n),i}goToOperations(){let t=U();this.cryptoService.operationsMap.set(t,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+t])}getOperationTable(t,n){let i=n,o=0;this.operations=(0,g.p)(t).filter(r=>"CLOSED"==r.status),this.operations.reverse().forEach(r=>{r.trendSum=parseFloat((o+=r.trend).toFixed(2)),r.balance=parseFloat((i+=r.trend).toFixed(2))}),this.operations.reverse(),this.invested=n}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(v.F0),e.Y36(I.H),e.Y36(Q.C))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-trading-resume"]],inputs:{cryptoDashboard:"cryptoDashboard",wallets:"wallets"},features:[e.TTD],decls:13,vars:12,consts:[[1,"transactions","row"],["class","section col-xl-12",4,"ngIf"],["class","section mt-2 mb-4 col-xl-12",4,"ngIf"],[1,"col-md-12"],[1,"section","cards-op","mt-2"],[1,"section-heading"],[1,"title"],[1,"link","clickable",3,"click"],[3,"modalID","cryptoDashboard","walletsAsset","isAssetOperations"],[1,"section","col-xl-12"],[1,"section-title"],[1,"card","inner-round","border_round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"section","mt-2","mb-4","col-xl-12"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],["class","mx-auto text-center alert alert-danger mb-1","role","alert",4,"ngIf"],["scope","row"],[1,"text-center"],["scope","row",1,"text-center"],["role","alert",1,"mx-auto","text-center","alert","alert-danger","mb-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Qa,7,5,"div",1),e.YNc(2,Ba,48,43,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h2",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"a",7),e.NdJ("click",function(){return n.goToOperations()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.qZA(),e._UZ(12,"app-operations-list",8),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.trading&&1!=(null==n.trading||null==n.trading.labels?null:n.trading.labels.length)),e.xp6(1),e.Q6J("ngIf",n.operations&&n.operations.length>0),e.xp6(5),e.hij(" ",e.lcZ(8,8,"crypto.asset.details.overview.operations")," "),e.xp6(3),e.Oqu(e.lcZ(11,10,"crypto.asset.details.overview.view")),e.xp6(2),e.Q6J("modalID",n.modalConstant.CRYPTOTRADINGRESUME)("cryptoDashboard",n.cryptoDashboard)("walletsAsset",n.walletsFilter)("isAssetOperations",!0))},directives:[u.O5,P.x,u.sg,R],pipes:[_.X$,u.uU],styles:[".transactions[_ngcontent-%COMP%]{margin:0}@media screen and (max-width: 780px){.transactions[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important;margin-bottom:15px}}.round-img[_ngcontent-%COMP%]{border-radius:50%}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),a})();var Wa=m(5830),Va=m(3223),ce=m(4155);function Ga(a,s){if(1&a&&(e.TgZ(0,"tr"),e.TgZ(1,"th",15),e._UZ(2,"img",16),e._uU(3),e.qZA(),e.TgZ(4,"td",17),e._uU(5),e.qZA(),e.TgZ(6,"td",17),e._uU(7),e.qZA(),e.TgZ(8,"td",18),e._uU(9),e.qZA(),e.TgZ(10,"td",17),e._uU(11),e.qZA(),e.TgZ(12,"td",19),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.qZA()),2&a){const t=s.$implicit,n=e.oxw();e.xp6(2),e.s9C("src",t.icon,e.LSH),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",n.hidden?n.amount:t.balance," ",t.symbol," "),e.xp6(2),e.AsE(" ",n.hidden?n.amount:t.invested," ",n.cryptoCurrency," "),e.xp6(2),e.AsE(" ",n.hidden?n.amount:(t.invested/t.balance).toFixed(2)," ",n.cryptoCurrency," "),e.xp6(2),e.AsE(" ",t.current_price," ",n.cryptoCurrency," "),e.xp6(2),e.AsE(" ",n.hidden?n.amount:t.value," ",n.cryptoCurrency," "),e.xp6(1),e.Gre("text-end ",t.value-t.invested==0?"text-warning":t.value-t.invested>0?"text-success":"text-danger",""),e.xp6(1),e.AsE(" ",n.hidden?n.amount:(t.value-t.invested).toFixed(2)," ",n.cryptoCurrency," "),e.xp6(1),e.Gre("text-end ",(t.value-t.invested)/t.invested*100==0?"text-warning":(t.value-t.invested)/t.invested*100>0?"text-success":"text-danger",""),e.xp6(1),e.hij(" ",((t.value-t.invested)/t.invested*100).toFixed(2),"% ")}}function $a(a,s){if(1&a&&(e.TgZ(0,"tr",21),e.TgZ(1,"th",15),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&a){const t=s.$implicit,n=s.index,i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.hij(" ",i[i.length-1].date," "),e.xp6(1),e.MT6("",0===t.percentage?"text-warning":t.percentage>0?"text-success":"text-danger"," ",t.index===n?"text-end":"",""),e.xp6(1),e.AsE(" ",o.cryptoCurrency," ",o.hidden?o.amount:t.balance," "),e.xp6(1),e.Gre("",0===t.percentage?"text-warning":t.percentage>0?"text-success":"text-danger"," text-end"),e.xp6(1),e.hij(" ",t.percentage,"% "),e.xp6(1),e.Gre("",0===t.trend?"text-warning":t.trend>0?"text-success":"text-danger"," text-end"),e.xp6(1),e.AsE(" ",o.cryptoCurrency," ",o.hidden?o.amount:t.trend," ")}}function za(a,s){if(1&a&&(e.TgZ(0,"tbody"),e.YNc(1,$a,9,16,"tr",20),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function Xa(a,s){1&a&&(e.TgZ(0,"div",26),e._UZ(1,"div"),e._UZ(2,"div"),e._UZ(3,"div"),e._UZ(4,"div"),e.qZA())}function Ka(a,s){if(1&a&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.YNc(2,Xa,5,0,"div",24),e._UZ(3,"canvas",25),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.lineChartJS),e.xp6(1),e.Q6J("type","line")("data",t.lineChartJS.lineChartData)("options",t.lineChartJS.lineChartOptions)("legend",t.lineChartJS.lineChartLegend)}}function ei(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",27),e.TgZ(1,"div",28),e.TgZ(2,"div",11),e.TgZ(3,"h2",29),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().goToOperations()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.qZA(),e._UZ(9,"app-operations-list",31),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"crypto.asset.details.overview.operations")," "),e.xp6(3),e.Oqu(e.lcZ(8,7,"crypto.asset.details.overview.view")),e.xp6(2),e.Q6J("modalID",t.modalConstant.CRYPTOHISTORY)("cryptoDashboard",t.cryptoService.cryptoDashboard)("walletsAsset",t.cryptoService.cryptoDashboard.wallets)}}let ti=(()=>{class a{constructor(t,n,i,o){this.cryptoService=t,this.router=n,this.logger=i,this.chartsJS=o,this.amount="******",this.hidden=!1,this.cryptoCurrency="",this.assets=[],this.totalList=[],this.totalMap=new Map,this.balances=[],this.tableBalance=[],this.isOperationPresent=!1,this.operations=[],this.lineChartJS=new Wa.U}get modalConstant(){return c.Dq}get operationTypeConstant(){return c.jw}ngOnChanges(t){this.getResume(),this.getOperations()}ngOnInit(){this.getOperations()}getResume(){this.tableBalance=[],this.cryptoResume||(this.cryptoResume=(0,g.p)(this.cryptoService.cryptoResume)),this.cryptoResume.forEach((t,n)=>{this.tableBalance.push(this.tableCreate(n,t))}),this.totalMap.set("History",this.totalList),this.renderChart()}renderChart(){setTimeout(()=>{this.lineChartJS=this.chartsJS.renderChartLine(this.totalMap)},500)}tableCreate(t,n){let i=[],o=new D.jk;o.balance=n.balance,o.date=t;let r=((o.balance-this.balances[this.balances.length-1])/this.balances[this.balances.length-1]*100).toFixed(2),l=parseFloat((o.balance-this.balances[this.balances.length-1]).toFixed(2));return(Number.isNaN(o.balance)||null==o.balance)&&(o.balance=0),o.percentage=parseFloat(r),Number.isNaN(o.percentage)&&(o.percentage=0),o.trend=l,Number.isNaN(o.trend)&&(o.trend=0),i.push(o),this.totalList.push(o),this.balances.push(o.balance),i.index=i.length-1,i}getOperations(){let t=(0,g.p)(this.cryptoService.cryptoDashboard.assets);this.assets=t.filter(i=>i.balance>0),this.operations=[],(0,g.p)(this.cryptoService.cryptoDashboard.wallets).forEach(i=>{i.assets&&i.assets.length>0&&i.assets.forEach(o=>{o.operations&&o.operations.length>0&&o.operations.forEach(r=>{r.asset=o,r.wallet=i,r.type!=c.jw.NEWINVESTMENT&&(r.assetSell=(0,g.p)(this.cryptoService.cryptoDashboard.assets.find(l=>l.symbol==r.entryCoin))),this.operations.push(r)})})}),this.operations.sort((i,o)=>i.exitDate<o.exitDate?1:-1),this.operations.length>0&&(this.isOperationPresent=!0)}goToOperations(){let t=U();this.cryptoService.operationsMap.set(t,this.operations),this.router.navigate(["/crypto/operations/"+this.cryptoCurrency+"/"+t])}selectOperation(t){this.operationSelect=t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(v.F0),e.Y36(M.m),e.Y36(Va.Q))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-investments-history"]],inputs:{hidden:"hidden",cryptoResume:"cryptoResume",cryptoCurrency:"cryptoCurrency"},features:[e.TTD],decls:65,vars:49,consts:[[1,"row"],[1,"section","mt-2","col-xl-8","col-md-7"],[1,"section-title"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"section","mt-2","col-xl-4","col-md-5"],["hidden","",1,"section","mt-4","col-xl-8","col-md-7"],[1,"section-heading"],["id","year",1,"title"],["class","card border_round",4,"ngIf"],["class","section mb-3 col-md-12",4,"ngIf"],["scope","row"],["width","30","height","30","alt","","srcset","",1,"me-1",3,"src"],[1,"text-end"],[1,"text-end","text-primary"],[1,"text-end","text-secondary"],["class","topics",4,"ngFor","ngForOf"],[1,"topics"],[1,"card","border_round"],[1,"card-body",2,"min-height","380px"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["baseChart","","height","400",3,"type","data","options","legend"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],[1,"section","mb-3","col-md-12"],[1,"section","cards-op","mt-4"],[1,"title"],[1,"link","clickable",3,"click"],[3,"modalID","cryptoDashboard","walletsAsset"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"table",5),e.TgZ(8,"thead"),e.TgZ(9,"tr"),e.TgZ(10,"th",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",7),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th",7),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th",7),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th",7),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th",7),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th",7),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"tbody"),e.YNc(35,Ga,18,21,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",9),e.TgZ(37,"div",2),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",3),e.TgZ(41,"div",4),e.TgZ(42,"table",5),e.TgZ(43,"thead"),e.TgZ(44,"tr"),e.TgZ(45,"th",6),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"th",6),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"th",7),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"th",7),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(57,za,2,1,"tbody",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",10),e.TgZ(59,"div",11),e.TgZ(60,"h2",12),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.qZA(),e.YNc(63,Ka,4,5,"div",13),e.qZA(),e.YNc(64,ei,10,9,"div",14),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,19,"crypto.resume.investments.price.title")," "),e.xp6(8),e.hij(" ",e.lcZ(12,21,"crypto.resume.investments.price.table.tab1")," "),e.xp6(3),e.hij(" ",e.lcZ(15,23,"crypto.resume.investments.price.table.tab2")," "),e.xp6(3),e.hij(" ",e.lcZ(18,25,"crypto.resume.investments.price.table.tab3")," "),e.xp6(3),e.hij(" ",e.lcZ(21,27,"crypto.resume.investments.price.table.tab4")," "),e.xp6(3),e.hij(" ",e.lcZ(24,29,"crypto.resume.investments.price.table.tab5")," "),e.xp6(3),e.hij(" ",e.lcZ(27,31,"crypto.resume.investments.price.table.tab6")," "),e.xp6(3),e.hij(" ",e.lcZ(30,33,"crypto.resume.investments.price.table.tab7")," "),e.xp6(3),e.hij(" ",e.lcZ(33,35,"crypto.resume.investments.price.table.tab8")," "),e.xp6(3),e.Q6J("ngForOf",n.assets),e.xp6(3),e.hij(" ",e.lcZ(39,37,"stats.data.history")," "),e.xp6(8),e.hij(" ",e.lcZ(47,39,"stats.data.table_date")," "),e.xp6(3),e.hij(" ",e.lcZ(50,41,"stats.data.table_balance")," "),e.xp6(3),e.hij(" ",e.lcZ(53,43,"stats.data.table_performance")," "),e.xp6(3),e.hij(" ",e.lcZ(56,45,"stats.data.table_value")," "),e.xp6(2),e.Q6J("ngForOf",n.tableBalance.slice().reverse()),e.xp6(4),e.hij(" ",e.lcZ(62,47,"stats.data.graphHistory")," "),e.xp6(2),e.Q6J("ngIf",n.cryptoResume),e.xp6(1),e.Q6J("ngIf",n.isOperationPresent))},directives:[u.sg,u.O5,ce.jh,R],pipes:[_.X$],styles:[".icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.rounded-pill[_ngcontent-%COMP%]{background-color:#000!important}@media screen and (max-width: 780px){.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important;margin-bottom:-5px}}"]}),a})();function ni(a,s){if(1&a&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.s9C("value",t),e.xp6(1),e.hij(" ",t," ")}}function ai(a,s){1&a&&(e.TgZ(0,"li",15),e.TgZ(1,"a",33),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"crypto.resume.tab.tab2")," "))}function ii(a,s){if(1&a&&e._UZ(0,"app-resume-assets",34),2&a){const t=e.oxw();e.Q6J("hidden",t.hidden)("resumeData",t.resumeData)("isPast",t.isPast)}}let oi=(()=>{class a{constructor(t,n,i){this.cryptoService=t,this.screenService=n,this.logger=i,this.getResumeSub=new T.w0,this.amount="******",this.hidden=!1,this.assets=[],this.resumeData=new O,this.resume=new Map,this.years=[],this.isPast=!1}get modalConstant(){return c.Dq}ngOnInit(){this.screenService.hideFooter(),this.getResume()}getResume(){this.getResumeSub=this.cryptoService.getCryptoResumeData().subscribe(t=>{this.cryptoService.cache.cacheCryptoResumeData(t),this.logger.LOG(t.message,"CryptoResumeComponent"),this.resume=new Map(Object.entries(t.data)),this.years=Array.from(this.resume.keys()),this.updateData(this.years[this.years.length-1]),this.cryptoService.cryptoResume=this.resume}),this.isWalletBalanceHidden()}onChange(t){this.updateData(t.target.value)}updateData(t){this.isPast=this.years[this.years.length-1]!=t,this.resumeData=this.resume.get(t),this.assets=this.resumeData.assets}isOperationPresent(){let t=0;return this.resumeData.wallets&&this.resumeData.wallets.forEach(n=>{n.assets&&n.assets.length>0&&n.assets.forEach(i=>{null!=i.operations&&i.operations.length>0&&(t+=1)})}),t}isWalletBalanceHidden(){let t=JSON.parse(localStorage.getItem(c.Vs.HIDDENAMOUNT));null!=t&&(this.hidden=t)}ngOnDestroy(){this.getResumeSub.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(I.H),e.Y36(M.m))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-crypto-resume"]],decls:43,vars:25,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule"],[1,"row",2,"margin-top","10px","margin-bottom","-60px"],[1,"col-md-6"],[1,"title-section"],[1,"title"],[1,"addWallet","col-md-6"],[1,"form-group","boxed"],[1,"input-wrapper",2,"max-width","150px","margin-left","80%"],["id","select4b",1,"form-control","custom-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"card","transparent"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","capsuled"],[1,"nav-item"],["data-bs-toggle","tab","href","#overview","role","tab",1,"nav-link","active"],["class","nav-item",4,"ngIf"],["data-bs-toggle","tab","href","#resume","role","tab",1,"nav-link"],[1,"tab-content","mt-1","margin-bottom-size"],["id","overview","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"hidden","resumeData","isPast",4,"ngIf"],["id","card","role","tabpanel",1,"tab-pane","fade"],["hidden","",1,"section","mt-2"],[1,"card"],[1,"card-body","text-center","mt-5","mb-5"],[1,"mx-auto"],["src","https://www.colibriensemble.it/wp-content/uploads/2018/07/Work-in-Progress.png","alt","","srcset",""],[3,"cryptoDashboard","wallets"],["id","resume","role","tabpanel",1,"tab-pane","fade"],[3,"hidden","cryptoResume","cryptoCurrency"],[3,"modalId","wallets","assets","currency","statsAssetsDays","emitAddStats"],[3,"value"],["data-bs-toggle","tab","href","#card","role","tab",1,"nav-link"],[3,"hidden","resumeData","isPast"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-crypto-header",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"h2",6),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"div",9),e.TgZ(13,"select",10),e.NdJ("change",function(o){return n.onChange(o)}),e.YNc(14,ni,2,2,"option",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"ul",14),e.TgZ(18,"li",15),e.TgZ(19,"a",16),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.qZA(),e.YNc(22,ai,4,3,"li",17),e.TgZ(23,"li",15),e.TgZ(24,"a",18),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",19),e.TgZ(28,"div",20),e.YNc(29,ii,1,3,"app-resume-assets",21),e.qZA(),e.TgZ(30,"div",22),e.TgZ(31,"div",23),e.TgZ(32,"div",24),e.TgZ(33,"div",25),e.TgZ(34,"div",26),e._UZ(35,"img",27),e.qZA(),e._UZ(36,"hr"),e.TgZ(37,"h1"),e._uU(38,"Work in Progress"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(39,"app-trading-resume",28),e.qZA(),e.TgZ(40,"div",29),e._UZ(41,"app-investments-history",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"app-operations-modal",31),e.NdJ("emitAddStats",function(){return n.getResume()}),e.qZA()),2&t&&(e.xp6(1),e.s9C("title",e.lcZ(2,17,"crypto.resume.title")),e.xp6(7),e.Oqu(e.lcZ(9,19,"crypto.resume.title")),e.xp6(6),e.Q6J("ngForOf",n.years.slice().reverse()),e.xp6(6),e.hij(" ",e.lcZ(21,21,"crypto.resume.tab.tab1")," "),e.xp6(2),e.Q6J("ngIf",n.isOperationPresent()>0),e.xp6(3),e.hij(" ",e.lcZ(26,23,"crypto.resume.tab.tab3")," "),e.xp6(4),e.Q6J("ngIf",n.assets&&n.assets.length),e.xp6(10),e.Q6J("cryptoDashboard",n.resumeData)("wallets",n.resumeData.wallets),e.xp6(2),e.Q6J("hidden",n.hidden)("cryptoResume",n.resume)("cryptoCurrency",n.resumeData.currency),e.xp6(1),e.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoService.cryptoDashboard.wallets)("assets",n.cryptoService.cryptoDashboard.assets)("currency",n.cryptoService.cryptoDashboard.currency)("statsAssetsDays",n.cryptoService.cryptoDashboard.statsAssetsDays))},directives:[k,u.sg,p.YN,p.Kr,u.O5,Pa,Ha,ti,Y],pipes:[_.X$],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -60px 30px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:10px!important;margin-bottom:20px!important}.input-wrapper[_ngcontent-%COMP%]{max-width:90%!important;margin-left:8%!important}.transactions[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}}.transparent[_ngcontent-%COMP%]{background-color:transparent!important;margin-left:0!important;margin-right:0!important}.addWallet[_ngcontent-%COMP%]{padding-right:30px}"]}),a})();function si(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"input",33),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).selectTransferWallet(o)}),e.qZA(),e.TgZ(2,"label",34),e.TgZ(3,"div",35),e.TgZ(4,"div",36),e.TgZ(5,"p"),e._uU(6),e._UZ(7,"br"),e.TgZ(8,"small"),e._uU(9),e.qZA(),e.qZA(),e._UZ(10,"img",37),e.TgZ(11,"small"),e.TgZ(12,"p"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",38),e.TgZ(16,"div",39),e._UZ(17,"i",40),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=s.$implicit;e.xp6(1),e.s9C("id",t.id),e.xp6(1),e.s9C("for",t.id),e.xp6(4),e.hij(" ",t.name," "),e.xp6(3),e.hij("(",t.type,")"),e.xp6(1),e.s9C("src",t.img,e.LSH),e.xp6(3),e.AsE(" ",e.lcZ(14,7,"crypto.operationExchange.balance"),"",t.balance," ")}}function ri(a,s){if(1&a&&(e.TgZ(0,"div"),e.TgZ(1,"div",27),e.TgZ(2,"h2",28),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",29),e.TgZ(6,"div",30),e.YNc(7,si,18,9,"div",31),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,2,"crypto.operationExchange.select")," "),e.xp6(4),e.Q6J("ngForOf",t.wallets)}}function li(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditFees=!0}),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"crypto.operationExchange.fees"),": "),e.xp6(3),e.AsE(" ",t.fees," ",t.assetInWallet.symbol,"")}}function ci(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",57),e.TgZ(1,"div",58),e.TgZ(2,"div",59),e.TgZ(3,"div",60),e.TgZ(4,"label",61),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"input",62,63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fees=i}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"i",64),e._UZ(11,"ion-icon",65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",66),e.TgZ(13,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).makeNewBalance()}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(26);e.xp6(5),e.AsE("",e.lcZ(6,7,"crypto.operationExchange.editFees")," ",t.marketDataSelected.symbol,""),e.xp6(2),e.s9C("value",t.fees),e.s9C("placeholder",e.lcZ(9,9,"crypto.operationExchange.updateFees")),e.Q6J("ngModel",t.fees),e.xp6(6),e.Q6J("disabled",n.invalid),e.xp6(1),e.hij(" ",e.lcZ(15,11,"crypto.operationExchange.save")," ")}}function di(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",41),e.TgZ(1,"div",42),e.TgZ(2,"div",36),e.TgZ(3,"div",43),e.TgZ(4,"div",44),e.TgZ(5,"label",45),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",46),e.YNc(9,li,5,5,"div",47),e.YNc(10,ci,16,13,"div",48),e.qZA(),e.qZA(),e.TgZ(11,"div",49),e.TgZ(12,"div",50),e.TgZ(13,"input",51,52),e.NdJ("keyup",function(){return e.CHM(t),e.oxw().makeNewBalance()})("ngModelChange",function(i){return e.CHM(t),e.oxw().investedMoney=i}),e.qZA(),e.qZA(),e.TgZ(15,"div",53),e.TgZ(16,"select",54),e.TgZ(17,"option",55),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,7,"crypto.operationExchange.from")),e.xp6(3),e.Q6J("ngIf",!t.isEditFees),e.xp6(1),e.Q6J("ngIf",t.isEditFees),e.xp6(3),e.s9C("value",t.investedMoney),e.Q6J("ngModel",t.investedMoney),e.xp6(4),e.s9C("value",t.fiat),e.xp6(1),e.hij(" ",t.fiat," ")}}function pi(a,s){1&a&&(e.TgZ(0,"div",68),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.operationExchange.warning")," "))}function gi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditFees=!0}),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e._uU(5),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"crypto.operationExchange.fees"),": "),e.xp6(3),e.hij(" ",t.fees," "),e.xp6(1),e.hij(" ",t.assetToSell.symbol,"")}}function ui(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",57),e.TgZ(1,"div",58),e.TgZ(2,"div",59),e.TgZ(3,"div",60),e.TgZ(4,"label",61),e._uU(5),e.ALo(6,"translate"),e._uU(7),e.qZA(),e.TgZ(8,"input",62,63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fees=i}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"i",64),e._UZ(12,"ion-icon",65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",66),e.TgZ(14,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).makeNewBalance()}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(26);e.xp6(5),e.hij("",e.lcZ(6,7,"crypto.operationExchange.editFees")," "),e.xp6(2),e.hij(" ",t.assetToSell.symbol,""),e.xp6(1),e.s9C("value",t.fees),e.s9C("placeholder",e.lcZ(10,9,"crypto.operationExchange.updateFees")),e.Q6J("ngModel",t.fees),e.xp6(6),e.Q6J("disabled",n.invalid),e.xp6(1),e.hij(" ",e.lcZ(16,11,"crypto.operationExchange.save")," ")}}function hi(a,s){1&a&&(e.TgZ(0,"div",68),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.operationExchange.warningBalance")," "))}function mi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"div",42),e.TgZ(2,"div",36),e.TgZ(3,"div",43),e.TgZ(4,"div",44),e.TgZ(5,"label",69),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",46),e.YNc(9,gi,6,5,"div",47),e.YNc(10,ui,17,13,"div",48),e.qZA(),e.TgZ(11,"div",70),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"strong"),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",30),e.TgZ(17,"div",71),e.TgZ(18,"div",49),e.TgZ(19,"div",50),e.TgZ(20,"input",72,73),e.NdJ("keyup",function(){return e.CHM(t),e.oxw().makeNewBalance()})("ngModelChange",function(i){return e.CHM(t),e.oxw().investedBalance=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",74),e.TgZ(23,"app-asset-select",75),e.NdJ("emitSelectAsset",function(i){return e.CHM(t),e.oxw().emitOperationSelectAsset(i)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(24,hi,3,3,"div",19),e.qZA()}if(2&a){const t=e.MAs(21),n=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,14,"crypto.operationExchange.from")),e.xp6(3),e.Q6J("ngIf",!n.isEditFees),e.xp6(1),e.Q6J("ngIf",n.isEditFees),e.xp6(2),e.hij(" ",e.lcZ(13,16,"crypto.operationExchange.balance")," "),e.xp6(3),e.AsE(" ",n.assetToSell.balance?n.assetToSell.balance:0," ",n.assetToSell.symbol,""),e.xp6(5),e.s9C("value",n.investedBalance),e.s9C("max",n.assetToSell.balance),e.Q6J("ngModel",n.investedBalance),e.xp6(3),e.Q6J("wrapperID",n.assetConstant.HOLDING)("fiat",n.fiat)("isOperation",!0)("cryptoPrices",n.wallet.assets),e.xp6(1),e.Q6J("ngIf",t.invalid)}}function _i(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditFees=!0}),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e._uU(5),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"crypto.operationExchange.fees"),": "),e.xp6(3),e.hij(" ",t.fees," "),e.xp6(1),e.hij(" ",t.assetToSell.symbol,"")}}function Zi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",57),e.TgZ(1,"div",58),e.TgZ(2,"div",59),e.TgZ(3,"div",60),e.TgZ(4,"label",61),e._uU(5),e.ALo(6,"translate"),e._uU(7),e.qZA(),e.TgZ(8,"input",62,63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fees=i}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"i",64),e._UZ(12,"ion-icon",65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",66),e.TgZ(14,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).makeNewBalance()}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(26);e.xp6(5),e.hij("",e.lcZ(6,7,"crypto.operationExchange.editFees")," "),e.xp6(2),e.hij(" ",t.assetToSell.symbol,""),e.xp6(1),e.s9C("value",t.fees),e.s9C("placeholder",e.lcZ(10,9,"crypto.operationExchange.updateFees")),e.Q6J("ngModel",t.fees),e.xp6(6),e.Q6J("disabled",n.invalid),e.xp6(1),e.hij(" ",e.lcZ(16,11,"crypto.operationExchange.save")," ")}}function vi(a,s){1&a&&(e.TgZ(0,"div",68),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.operationExchange.warningBalance")," "))}function Ai(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"div",42),e.TgZ(2,"div",36),e.TgZ(3,"div",43),e.TgZ(4,"div",44),e.TgZ(5,"label",69),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",46),e.YNc(9,_i,6,5,"div",47),e.YNc(10,Zi,17,13,"div",48),e.qZA(),e.TgZ(11,"div",70),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"strong"),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",30),e.TgZ(17,"div",71),e.TgZ(18,"div",49),e.TgZ(19,"div",50),e.TgZ(20,"input",76,77),e.NdJ("keyup",function(){return e.CHM(t),e.oxw().makeNewBalance()})("ngModelChange",function(i){return e.CHM(t),e.oxw().investedBalance=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",74),e.TgZ(23,"app-asset-select",75),e.NdJ("emitSelectAsset",function(i){return e.CHM(t),e.oxw().emitOperationSelectAsset(i)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(24,vi,3,3,"div",19),e.qZA()}if(2&a){const t=e.MAs(21),n=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,14,"crypto.operationExchange.from")),e.xp6(3),e.Q6J("ngIf",!n.isEditFees),e.xp6(1),e.Q6J("ngIf",n.isEditFees),e.xp6(2),e.hij(" ",e.lcZ(13,16,"crypto.operationExchange.balance")," "),e.xp6(3),e.AsE(" ",n.assetToSell.balance?n.assetToSell.balance:0," ",n.assetToSell.symbol,""),e.xp6(5),e.s9C("value",n.investedBalance),e.s9C("max",n.assetToSell.balance),e.Q6J("ngModel",n.investedBalance),e.xp6(3),e.Q6J("wrapperID",n.assetConstant.TRADING)("fiat",n.fiat)("isOperation",!0)("cryptoPrices",n.stablecoin),e.xp6(1),e.Q6J("ngIf",t.invalid)}}function Ti(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditFees=!0}),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"crypto.operationExchange.fees"),": "),e.xp6(3),e.AsE(" ",t.fees," ",t.assetToSell.symbol,"")}}function yi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",57),e.TgZ(1,"div",58),e.TgZ(2,"div",59),e.TgZ(3,"div",60),e.TgZ(4,"label",61),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"input",62,63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).fees=i}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"i",64),e._UZ(11,"ion-icon",65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",66),e.TgZ(13,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditFees=!1}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(26);e.xp6(5),e.AsE("",e.lcZ(6,7,"crypto.operationExchange.editFees")," ",t.marketDataSelected.symbol,""),e.xp6(2),e.s9C("value",t.fees),e.s9C("placeholder",e.lcZ(9,9,"crypto.operationExchange.updateFees")),e.Q6J("ngModel",t.fees),e.xp6(6),e.Q6J("disabled",n.invalid),e.xp6(1),e.hij(" ",e.lcZ(15,11,"crypto.operationExchange.save")," ")}}function fi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"div",42),e.TgZ(2,"div",36),e.TgZ(3,"div",43),e.TgZ(4,"div",44),e.TgZ(5,"label",69),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",46),e.YNc(9,Ti,5,5,"div",47),e.YNc(10,yi,16,13,"div",48),e.qZA(),e.qZA(),e.TgZ(11,"div",30),e.TgZ(12,"div",78),e.TgZ(13,"div",49),e.TgZ(14,"div",50),e.TgZ(15,"input",79,80),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().balanceToTransfer=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",81),e.TgZ(18,"app-asset-select",75),e.NdJ("emitSelectAsset",function(i){return e.CHM(t),e.oxw().emitOperationSelectAsset(i)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,9,"crypto.operationExchange.to")),e.xp6(3),e.Q6J("ngIf",!t.isEditFees),e.xp6(1),e.Q6J("ngIf",t.isEditFees),e.xp6(5),e.s9C("value",t.balanceToTransfer),e.Q6J("ngModel",t.balanceToTransfer),e.xp6(3),e.Q6J("wrapperID",t.assetConstant.TRANSFER)("fiat",t.fiat)("isOperation",!0)("cryptoPrices",t.wallet.assets)}}function bi(a,s){1&a&&(e.TgZ(0,"div",68),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"crypto.operationExchange.warning")," "))}function xi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"div",42),e.TgZ(2,"div",36),e.TgZ(3,"div",43),e.TgZ(4,"div",44),e.TgZ(5,"label",69),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",46),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"strong"),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",30),e.TgZ(14,"div",78),e.TgZ(15,"div",49),e.TgZ(16,"div",50),e.TgZ(17,"input",82,83),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().assetNewBalance=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",81),e.TgZ(20,"app-asset-select",75),e.NdJ("emitSelectAsset",function(i){return e.CHM(t),e.oxw().emitSelectAsset(i)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,10,"crypto.operationExchange.to")),e.xp6(3),e.hij(" ",e.lcZ(10,12,"crypto.operationExchange.balance")," "),e.xp6(3),e.AsE(" ",t.assetInWallet.balance?t.assetInWallet.balance:0," ",t.assetInWallet.symbol,""),e.xp6(5),e.s9C("value",t.assetNewBalance),e.Q6J("ngModel",t.assetNewBalance),e.xp6(3),e.Q6J("wrapperID",t.assetConstant.NEWINVESTMENT)("fiat",t.fiat)("isOperation",!0)("cryptoPrices",t.marketData)}}function Ci(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditBalance=!0}),e.TgZ(1,"b"),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(2),e.Oqu(t.marketDataSelected.symbol),e.xp6(1),e.AsE(" = ",t.marketDataSelected.current_price," ",t.fiat," ")}}function qi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",91),e.TgZ(1,"div",92),e.TgZ(2,"div",59),e.TgZ(3,"div",60),e.TgZ(4,"label",61),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"input",62,63),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).marketDataSelected.current_price=i}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"i",64),e._UZ(11,"ion-icon",65),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",93),e.TgZ(13,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).editBalance()}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(26);e.xp6(5),e.AsE("",e.lcZ(6,7,"crypto.operationExchange.price")," ",t.marketDataSelected.symbol,""),e.xp6(2),e.s9C("value",t.marketDataSelected.current_price),e.s9C("placeholder",e.lcZ(9,9,"crypto.operationExchange.newPrice")),e.Q6J("ngModel",t.marketDataSelected.current_price),e.xp6(6),e.Q6J("disabled",n.invalid),e.xp6(1),e.hij(" ",e.lcZ(15,11,"crypto.operationExchange.save")," ")}}function wi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditDate=!0}),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,2,"crypto.operationExchange.last")," "),e.xp6(3),e.Oqu(t.operationDate?e.xi3(5,4,t.operationDate,"d MMM y"):"NEVER")}}function Oi(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",91),e.TgZ(1,"div",94),e.TgZ(2,"div",59),e.TgZ(3,"div",60),e.TgZ(4,"label",95),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"input",96,97),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).operationDate=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",93),e.TgZ(10,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).isEditDate=!1}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(2),n=e.MAs(26);e.xp6(5),e.hij("",e.lcZ(6,5,"crypto.operationExchange.date")," "),e.xp6(2),e.s9C("value",t.operationDate),e.Q6J("ngModel",t.operationDate),e.xp6(3),e.Q6J("disabled",n.invalid),e.xp6(1),e.hij(" ",e.lcZ(12,7,"crypto.operationExchange.save")," ")}}function Mi(a,s){if(1&a&&(e.TgZ(0,"div",41),e.TgZ(1,"div",84),e.TgZ(2,"div",85),e.TgZ(3,"div",86),e.YNc(4,Ci,4,3,"div",47),e.TgZ(5,"div",87),e.YNc(6,qi,16,13,"div",88),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",85),e.TgZ(8,"div",89),e.YNc(9,wi,6,7,"div",47),e.TgZ(10,"div",90),e.YNc(11,Oi,13,9,"div",88),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.isEditBalance),e.xp6(2),e.Q6J("ngIf",t.isEditBalance),e.xp6(3),e.Q6J("ngIf",!t.isEditDate),e.xp6(2),e.Q6J("ngIf",t.isEditDate)}}function Di(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",98),e.TgZ(1,"button",99),e.NdJ("click",function(){return e.CHM(t),e.oxw().exchangeInvestments()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()}if(2&a){const t=e.oxw(),n=e.MAs(26);e.xp6(1),e.Q6J("disabled",t.operationsValidation(n)),e.xp6(1),e.hij(" ",e.lcZ(3,2,"crypto.operationExchange.exchange")," ")}}let Si=(()=>{class a{constructor(t,n,i,o,r,l,d,h){this.cryptoService=t,this.route=n,this.screenService=i,this.logger=o,this.swal=r,this.router=l,this.cdref=d,this.translate=h,this.saveWalletSubscribe=new T.w0,this.routeSubscribe=new T.w0,this.saveWalletsSubscribe=new T.w0,this.getPriceSubscribe=new T.w0,this.fiat="",this.operationType="",this.walletSelect="",this.wallet=new D.w5,this.isEditBalance=!1,this.isEditDate=!1,this.marketData=[],this.marketDataSelected=new S,this.assetInWallet=new S,this.investedMoney=100,this.assetNewBalance=0,this.holdingAssetToSell=new S,this.investedBalance=0,this.tradingAssetToSell=new S,this.stablecoin=[],this.walletToTansfer=new D.w5,this.wallets=[],this.isWalletSelected=!1,this.transferAssetToSell=new S,this.balanceToTransfer=0,this.isEditFees=!1,this.fees=0,this.operationDate=new Date,this.assetToSell=new S,this.screenService.hideFooter()}ngOnDestroy(){this.saveWalletSubscribe.unsubscribe(),this.saveWalletsSubscribe.unsubscribe(),this.routeSubscribe.unsubscribe(),this.getPriceSubscribe.unsubscribe()}get modalConstant(){return c.Dq}get assetConstant(){return c.KT}get operations(){return c.jw}ngOnInit(){this.getOperationExchange()}ngAfterContentChecked(){this.cdref.detectChanges()}getOperationExchange(){this.operationDate=new Date,this.routeSubscribe=this.route.params.subscribe(t=>{this.operationType=t.operationType,this.walletSelect=t.wallet,this.fiat=t.fiat;let n=(0,g.p)(this.cryptoService.cryptoDashboard.wallets.slice());if(this.filterWalletsTransfer(n),this.wallet=n.find(i=>i.name==this.walletSelect),this.getCryptoPrices(t.fiat),this.operationType==this.operations.TRADING){let i=(0,g.p)(this.wallet.assets);this.stablecoin=i.filter(o=>o.category==c.A_.STABLECOIN)}})}filterWalletsTransfer(t){this.wallets=(0,g.p)(t).filter(n=>n.name!=this.walletSelect)}getCryptoPrices(t){this.getPriceSubscribe=this.cryptoService.getCryptoPriceData(t).subscribe(n=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(n),this.logger.LOG(n.message,"OperationExchangeComponent"),this.marketData=n.data})}isWalletPresent(){return null!=this.walletSelect}emitOperationSelectAsset(t){switch(this.assetToSell=t,this.operationType){case c.jw.HOLDING:case c.jw.TRADING:this.investedBalance=this.assetToSell.balance,this.makeNewBalance();break;case c.jw.TRANSFER:this.balanceToTransfer=this.assetToSell.balance,this.marketDataSelected=t}}emitHoldingSelectAsset(t){this.holdingAssetToSell=t,this.investedBalance=this.holdingAssetToSell.balance,this.makeNewBalance()}emitTradingSelectAsset(t){this.tradingAssetToSell=t,this.investedBalance=this.tradingAssetToSell.balance,this.makeNewBalance()}emitTransferSelectAsset(t){this.transferAssetToSell=t,this.balanceToTransfer=this.transferAssetToSell.balance,this.marketDataSelected=t}emitSelectAsset(t){t.id=void 0,t.lastUpdate=new Date,t.performance=0,t.trend=0,this.marketDataSelected=t;let n=(0,g.p)(this.wallet.assets);this.assetInWallet=n&&n.find(i=>i.identifier==t.identifier)?n.find(i=>i.identifier==t.identifier):t,this.makeNewBalance()}makeNewBalance(){switch(this.operationType){case c.jw.HOLDING:case c.jw.TRADING:this.investedMoney=this.assetToSell.current_price*this.investedBalance,this.assetNewBalance=parseFloat((this.assetToSell.current_price*(this.investedBalance-this.fees)/this.marketDataSelected.current_price).toFixed(8));break;case c.jw.NEWINVESTMENT:this.assetNewBalance=parseFloat((this.investedMoney/this.marketDataSelected.current_price-this.fees).toFixed(8))}this.isEditFees=!1}makeNewBalance_OLD(){switch(this.operationType){case c.jw.HOLDING:this.investedMoney=this.holdingAssetToSell.current_price*this.investedBalance,this.assetNewBalance=parseFloat((this.holdingAssetToSell.current_price*(this.investedBalance-this.fees)/this.marketDataSelected.current_price).toFixed(8));break;case c.jw.TRADING:this.investedMoney=this.tradingAssetToSell.current_price*this.investedBalance,this.assetNewBalance=parseFloat((this.tradingAssetToSell.current_price*(this.investedBalance-this.fees)/this.marketDataSelected.current_price).toFixed(8));break;case c.jw.NEWINVESTMENT:this.assetNewBalance=parseFloat((this.investedMoney/this.marketDataSelected.current_price-this.fees).toFixed(8))}this.isEditFees=!1}selectTransferWallet(t){this.walletToTansfer=t,this.isWalletSelected=!0}isEmpty(t){return Number.isNaN(t)||null==t}exchangeInvestments(){let t=(0,g.p)(this.operationType==c.jw.NEWINVESTMENT?this.assetInWallet:this.assetToSell);t.lastUpdate=new Date;let n=new N,i=new S,o=0,r=new S;switch(this.operationType){case c.jw.NEWINVESTMENT:this.isEmpty(t.invested)?t.invested=this.investedMoney:t.invested+=this.investedMoney,this.isEmpty(t.balance)?t.balance=this.assetNewBalance:t.balance+=this.assetNewBalance,n.entryCoin=this.fiat,n.entryPrice=t.current_price,n.exitCoin=t.symbol,n.exitPrice=t.current_price;break;case c.jw.HOLDING:case c.jw.TRADING:o=t.invested*(this.investedMoney/t.value),t.balance-=this.investedBalance,0==t.balance&&(o=t.invested),t.invested-=o;const l=JSON.stringify(this.assetInWallet),d=JSON.parse(l);i=(0,g.p)(d),this.isEmpty(i.invested)?i.invested=o:i.invested+=o,this.isEmpty(i.balance)?i.balance=this.assetNewBalance:i.balance+=this.assetNewBalance;break;case c.jw.TRANSFER:o=t.invested*(this.balanceToTransfer/t.value),t.balance-=this.balanceToTransfer,0==t.balance&&(o=t.invested),t.invested-=o,r=this.walletToTansfer.assets?(0,g.p)(this.walletToTansfer.assets).find(h=>h.identifier==t.identifier):void 0,null==r&&(r=(0,g.p)(this.marketDataSelected),r.balance=0,r.id=void 0,r.invested=0,r.performance=0,r.trend=0,r.lastUpdate=t.lastUpdate,r.history=[]),r.balance+=this.balanceToTransfer-this.fees,r.invested+=o,n.entryPriceValue=parseFloat((this.balanceToTransfer*this.marketDataSelected.current_price).toFixed(2)),n.entryQuantity=this.balanceToTransfer,n.exitPriceValue=parseFloat(((this.balanceToTransfer-this.fees)*this.marketDataSelected.current_price).toFixed(2)),n.exitQuantity=this.balanceToTransfer-this.fees,n.performance=0,n.trend=0}if(n.identifier=U(),n.type=this.operationType,n.status=this.operationType!=c.jw.TRADING?"CLOSED":"OPEN",n.entryDate=new Date(this.operationDate),n.fees=this.fees,this.operationType!=c.jw.NEWINVESTMENT&&(n.entryCoin=t.symbol,n.entryPrice=this.marketDataSelected.current_price,n.exitCoin=i.symbol,this.operationType!=c.jw.TRADING&&(n.exitPrice=this.marketDataSelected.current_price)),this.operationType!=c.jw.TRANSFER&&(n.entryPriceValue=parseFloat(this.investedMoney.toFixed(2)),n.entryQuantity=this.assetNewBalance),this.operationType!=c.jw.TRADING&&(n.exitDate=new Date(this.operationDate),this.operationType!=c.jw.TRANSFER&&(n.exitPriceValue=parseFloat(this.investedMoney.toFixed(2)),n.exitQuantity=this.investedMoney)),this.operationType!=c.jw.TRANSFER){this.operationType==c.jw.NEWINVESTMENT?t.operations=[n]:i.operations=[n];let l=(0,g.p)(this.wallet);l.assets=this.operationType!=c.jw.NEWINVESTMENT?[i,t]:[t],this.saveWallet(l)}else{r.operations=[n];let l=(0,g.p)(this.wallet),d=(0,g.p)(this.walletToTansfer);l.assets=[t],d.assets=[r],this.saveWallets([l,d])}}exchangeTransferInvestment(){let t=(0,g.p)(this.transferAssetToSell);t.lastUpdate=new Date;let n=t.invested*(this.balanceToTransfer/t.value);t.balance-=this.balanceToTransfer,0==t.balance&&(n=t.invested),t.invested-=n;let i=this.walletToTansfer.assets?(0,g.p)(this.walletToTansfer.assets).find(d=>d.identifier==t.identifier):void 0;null==i&&(i=(0,g.p)(this.marketDataSelected),i.balance=0,i.id=void 0,i.invested=0,i.performance=0,i.trend=0,i.lastUpdate=t.lastUpdate,i.history=[]),i.balance+=this.balanceToTransfer-this.fees,i.invested+=n;let o=new N;o.identifier=U(),o.type=this.operationType,o.status="CLOSED",o.entryDate=new Date(this.operationDate),o.entryCoin=t.symbol,o.entryPrice=this.marketDataSelected.current_price,o.entryPriceValue=parseFloat((this.balanceToTransfer*this.marketDataSelected.current_price).toFixed(2)),o.entryQuantity=this.balanceToTransfer,o.exitDate=new Date(this.operationDate),o.exitCoin=t.symbol,o.exitPrice=this.marketDataSelected.current_price,o.exitPriceValue=parseFloat(((this.balanceToTransfer-this.fees)*this.marketDataSelected.current_price).toFixed(2)),o.exitQuantity=this.balanceToTransfer-this.fees,o.performance=0,o.trend=0,o.fees=this.fees,i.operations=[o];let r=(0,g.p)(this.wallet),l=(0,g.p)(this.walletToTansfer);r.assets=[t],l.assets=[i],this.saveWallets([r,l])}exchangeTradingInvestment(){let t=(0,g.p)(this.tradingAssetToSell);t.lastUpdate=new Date;let n=t.invested*(this.investedMoney/t.value);t.balance-=this.investedBalance,0==t.balance&&(n=t.invested),t.invested-=n;const i=JSON.stringify(this.assetInWallet),o=JSON.parse(i);let r=(0,g.p)(o);r.performance||(r.performance=0,r.trend=0),Number.isNaN(r.invested)||null==r.invested?r.invested=n:r.invested+=n,Number.isNaN(r.balance)||null==r.balance?r.balance=this.assetNewBalance:r.balance+=this.assetNewBalance;let l=new N;l.identifier=U(),l.type=this.operationType,l.status="OPEN",l.entryDate=new Date(this.operationDate),l.entryCoin=t.symbol,l.entryPrice=this.marketDataSelected.current_price,l.entryPriceValue=this.investedMoney,l.entryQuantity=this.assetNewBalance,l.exitCoin=r.symbol,l.fees=this.fees,r.operations=[l];let d=(0,g.p)(this.wallet);d.assets=[r,t],this.saveWallet(d)}exchangeHoldingInvestment(){let t=(0,g.p)(this.holdingAssetToSell);t.lastUpdate=new Date;let n=t.invested*(this.investedMoney/t.value);t.balance-=this.investedBalance,0==t.balance&&(n=t.invested),t.invested-=n;const i=JSON.stringify(this.assetInWallet),o=JSON.parse(i);let r=(0,g.p)(o);r.performance||(r.performance=0,r.trend=0),Number.isNaN(r.invested)||null==r.invested?r.invested=n:r.invested+=n,Number.isNaN(r.balance)||null==r.balance?r.balance=this.assetNewBalance:r.balance+=this.assetNewBalance;let l=new N;l.identifier=U(),l.type=this.operationType,l.status="CLOSED",l.entryDate=new Date(this.operationDate),l.entryCoin=t.symbol,l.entryPrice=this.marketDataSelected.current_price,l.entryPriceValue=this.investedMoney,l.entryQuantity=this.assetNewBalance,l.exitDate=new Date(this.operationDate),l.exitCoin=r.symbol,l.exitPrice=this.marketDataSelected.current_price,l.exitPriceValue=this.investedMoney,l.exitQuantity=this.investedMoney,l.fees=this.fees,r.operations=[l];let d=(0,g.p)(this.wallet);d.assets=[r,t],this.saveWallet(d)}exchangeNewInvestment(){let t=(0,g.p)(this.assetInWallet);t.lastUpdate=new Date,t.performance||(t.performance=0,t.trend=0),Number.isNaN(t.invested)||null==t.invested?t.invested=this.investedMoney:t.invested+=this.investedMoney,Number.isNaN(t.balance)||null==t.balance?t.balance=this.assetNewBalance:t.balance+=this.assetNewBalance;let n=new N;n.identifier=U(),n.type=this.operationType,n.status="CLOSED",n.entryDate=new Date(this.operationDate),n.entryCoin=this.fiat,n.entryPrice=t.current_price,n.entryPriceValue=this.investedMoney,n.entryQuantity=this.assetNewBalance,n.exitDate=new Date(this.operationDate),n.exitCoin=t.symbol,n.exitPrice=t.current_price,n.exitPriceValue=this.investedMoney,n.exitQuantity=this.investedMoney,n.fees=this.fees,t.operations=[n];let i=(0,g.p)(this.wallet);i.assets=[t],this.saveWallet(i)}saveWallet(t){this.saveWalletSubscribe=this.cryptoService.addOrUpdateCryptoAsset(t).subscribe(n=>{this.logger.LOG(n.message,"OperationExchangeComponent");let i=t.assets.length>1?this.translate.instant("response.operation").replace("$OP1$",t.assets[1].symbol).replace("$OP2$",t.assets[0].symbol):this.translate.instant("response.operation").replace("$OP1$","USD").replace("$OP2$",t.assets[0].symbol);this.swal.toastMessage(G.u.SUCCESS,i),this.router.navigate(["/crypto/dashboard"])})}saveWallets(t){this.saveWalletsSubscribe=this.cryptoService.addOrUpdateCryptoAssets(t).subscribe(n=>{this.logger.LOG(n.message,"OperationExchangeComponent"),this.swal.toastMessage(G.u.SUCCESS,this.translate.instant("response.operation").replace("$OP1$",t[0].name).replace("$OP2$",t[1].name)),this.router.navigate(["/crypto/dashboard"])})}editBalance(){this.isEditBalance=!1,this.makeNewBalance()}operationsValidation(t){switch(this.operationType){case c.jw.NEWINVESTMENT:return t.invalid||!this.disableOnEdit();case c.jw.HOLDING:case c.jw.TRADING:return t.invalid||!this.validateSelect()||!this.disableOnEdit();case c.jw.TRANSFER:return t.invalid||!this.validateSelect()||!this.disableOnEdit()||!this.isWalletSelected;default:return!1}}disableOnEdit(){return!this.isEditBalance&&!this.isEditDate}validateSelect(){return!(!this.wallet.assets&&this.operationType!=c.jw.NEWINVESTMENT)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(v.gz),e.Y36(I.H),e.Y36(M.m),e.Y36(H.J),e.Y36(v.F0),e.Y36(e.sBO),e.Y36(_.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-operation-exchange"]],decls:43,vars:28,consts:[[1,"mx-auto","section-width"],[3,"routerLinks","title","isMenuActive","isInfoActive","emitInfo"],["type","hidden","data-bs-toggle","modal"],["openInfo",""],["id","appCapsule"],[1,"row","margin"],[1,"col-12","col-md-6"],[1,"title-section","row"],[1,"col-2","col-md-2","col-xl-1",2,"display","flex","align-items","center"],["alt","",1,"walletLogo",3,"src"],[1,"col-10","col-md-10","col-xl-11"],[1,"title"],[1,"col-6","hidden_mobile","text-end"],[1,"title-section"],["action",""],["f","ngForm"],[4,"ngIf"],[1,"mx-auto",2,"max-width","1500px"],["class","section mt-2",4,"ngIf"],["class","alert alert-danger mb-1","role","alert",4,"ngIf"],["class","section",4,"ngIf"],[1,"section"],[1,"exchange-line"],[1,"exchange-icon"],["name","swap-vertical-outline"],["class","form-button-group transparent",4,"ngIf"],[3,"operationType","modalId"],[1,"title-section","text-center","mb-3"],[1,"title",2,"margin-top","0px !important"],[1,"container","parent"],[1,"row"],["class","col text-center",4,"ngFor","ngForOf"],[1,"col","text-center"],["type","radio","name","imgbackground","required","",1,"d-none","imgbgchk",3,"id","click"],[3,"for"],[1,"card"],[1,"card-body"],["width","48","height","48","alt","Image 2",1,"border_round","mb-1",3,"src"],[1,"tick_container"],[1,"tick"],[1,"fa","fa-check"],[1,"section","mt-2"],[1,"card","border"],[1,"form-group","basic","p-0"],[1,"exchange-heading"],["for","fromAmount",1,"group-label"],[1,"exchange-wallet-info"],["class","clickable",3,"click",4,"ngIf"],["class","row editFees",4,"ngIf"],[1,"exchange-group"],[1,"input-col"],["type","number","id","fromAmount","placeholder","0","id","investedMoney","name","investedMoney","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","keyup","ngModelChange"],["investedMoney1","ngModel"],[1,"select-col"],[1,"form-select","form-select-lg","currency"],["selected","",3,"value"],[1,"clickable",3,"click"],[1,"row","editFees"],[1,"col-7","col-md-8"],[1,"form-group","basic"],[1,"input-wrapper"],["for","price",1,"label"],["type","number","id","price","name","price","required","",1,"form-control",3,"ngModel","value","placeholder","ngModelChange"],["price1","ngModel"],[1,"clear-input"],["name","close-circle"],[1,"col-1"],["type","button",1,"btn","btn-primary","rounded","me-1",2,"vertical-align","-25px",3,"disabled","click"],["role","alert",1,"alert","alert-danger","mb-1"],["for","toAmount",1,"group-label"],[1,"exchange-wallet-info",2,"position","absolute","bottom","9px","right","13px"],[1,"col-md-8","col-7","mt-1"],["type","number","id","toAmount","placeholder","0","id","assetHoldingBalance","name","assetHoldingBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","max","keyup","ngModelChange"],["assetHoldingBalance1","ngModel"],[1,"col-md-4","col-5","mb-2",2,"max-height","55px"],[3,"wrapperID","fiat","isOperation","cryptoPrices","emitSelectAsset"],["type","number","id","toTradingAmount","placeholder","0","id","assetTradingBalance","name","assetTradingBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","max","keyup","ngModelChange"],["assetTradingBalance1","ngModel"],[1,"col-md-8","col-7"],["type","number","id","toNewBalanceAmount","placeholder","0","id","balanceToTransfer","name","balanceToTransfer","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","ngModelChange"],["balanceToTransfer1","ngModel"],[1,"col-md-4","col-5",2,"max-height","55px"],["type","number","id","toNewBalanceAmount","placeholder","0","id","assetNewBalance","name","assetNewBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","ngModelChange"],["assetNewBalance1","ngModel"],[1,"row","fontsize-caption"],[1,"col-6"],[1,"row","text-start"],[1,"d-flex","justify-content-start"],["class","row","style","max-width: 300px",4,"ngIf"],[1,"row","text-end"],[1,"d-flex","justify-content-end"],[1,"row",2,"max-width","300px"],[1,"col-md","col-sm-12"],[1,"col",2,"max-width","80px"],[1,"col"],["for","date",1,"label"],["type","date","id","date","name","date","required","",1,"form-control",3,"ngModel","value","ngModelChange"],["date1","ngModel"],[1,"form-button-group","transparent"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"app-crypto-header",1),e.NdJ("emitInfo",function(){return e.CHM(i),e.MAs(3).click()}),e.qZA(),e._UZ(2,"input",2,3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e._UZ(9,"img",9),e.qZA(),e.TgZ(10,"div",10),e.TgZ(11,"h2",11),e._uU(12),e.qZA(),e.TgZ(13,"small"),e.TgZ(14,"p"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"div",13),e.TgZ(19,"h2",11),e._uU(20),e.qZA(),e.TgZ(21,"small"),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"form",14,15),e.YNc(27,ri,8,4,"div",16),e.TgZ(28,"section",17),e.YNc(29,di,19,9,"div",18),e.YNc(30,pi,3,3,"div",19),e.YNc(31,mi,25,18,"div",20),e.YNc(32,Ai,25,18,"div",20),e.TgZ(33,"div",21),e.TgZ(34,"div",22),e.TgZ(35,"div",23),e._UZ(36,"ion-icon",24),e.qZA(),e.qZA(),e.qZA(),e.YNc(37,fi,19,11,"div",20),e.YNc(38,bi,3,3,"div",19),e.YNc(39,xi,21,14,"div",20),e.YNc(40,Mi,12,4,"div",18),e.qZA(),e.YNc(41,Di,4,4,"div",25),e.qZA(),e.qZA(),e.qZA(),e._UZ(42,"app-info-modal",26)}2&t&&(e.xp6(1),e.Q6J("routerLinks","/crypto/dashboard")("title",n.operationType)("isMenuActive",!1)("isInfoActive",!0),e.xp6(1),e.Q2q("data-bs-target","#",n.modalConstant.INFO,""),e.xp6(7),e.s9C("src",n.wallet.img,e.LSH),e.xp6(3),e.Oqu(n.wallet.name),e.xp6(3),e.lnq(" ",e.lcZ(16,24,"crypto.operationExchange.balance")," ",n.wallet.balance," ",n.fiat," "),e.xp6(5),e.Oqu(n.operationType),e.xp6(3),e.Oqu(e.lcZ(24,26,"crypto.operationExchange.type")),e.xp6(4),e.Q6J("ngIf",n.operationType==n.operations.TRANSFER),e.xp6(2),e.Q6J("ngIf",n.operationType==n.operations.NEWINVESTMENT),e.xp6(1),e.Q6J("ngIf",!n.validateSelect()&&n.operationType!=n.operations.TRANSFER),e.xp6(1),e.Q6J("ngIf",n.operationType==n.operations.HOLDING&&n.validateSelect()),e.xp6(1),e.Q6J("ngIf",n.operationType==n.operations.TRADING),e.xp6(5),e.Q6J("ngIf",n.operationType==n.operations.TRANSFER&&n.validateSelect()),e.xp6(1),e.Q6J("ngIf",!n.validateSelect()&&n.operationType==n.operations.TRANSFER),e.xp6(1),e.Q6J("ngIf",n.operationType!=n.operations.TRANSFER),e.xp6(1),e.Q6J("ngIf",n.validateSelect()),e.xp6(1),e.Q6J("ngIf",n.operationType),e.xp6(1),e.Q6J("operationType",n.operationType)("modalId",n.modalConstant.INFO))},directives:[k,p._Y,p.JL,p.F,u.O5,u.sg,p.wV,p.Fj,p.Q7,p.JJ,p.On,A.gu,p.nD,p.YN,p.Kr,p.Fd,ae,V],pipes:[_.X$,u.uU],styles:["@media screen and (max-width: 780px){.title[_ngcontent-%COMP%]{font-size:larger}.margin[_ngcontent-%COMP%]{margin-top:10px!important;margin-left:20px!important;margin-right:20px!important}.walletLogo[_ngcontent-%COMP%]{vertical-align:-60px!important}.editFees[_ngcontent-%COMP%]{max-width:210px}}.margin[_ngcontent-%COMP%]{margin:20px}.walletLogo[_ngcontent-%COMP%]{border-radius:50%;vertical-align:-65px;width:80px}.border[_ngcontent-%COMP%]{border-color:#372648!important}.col[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer;transition:transform 1s;object-fit:cover}.col[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{overflow:hidden;position:relative}.imgbgchk[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > .tick_container[_ngcontent-%COMP%]{opacity:1}.imgbgchk[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{transform:scale(1.25);transition:.8s ease;opacity:.3}.tick_container[_ngcontent-%COMP%]{transition:.8s ease;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);cursor:pointer;text-align:center}.tick[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-size:16px;padding:6px 12px;height:40px;width:40px;border-radius:100%}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}"]}),a})();function Ui(a,s){if(1&a&&(e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"h2",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",8),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e._UZ(8,"app-operations-list",9),e.qZA()),2&a){const t=s.$implicit,n=e.oxw();e.xp6(3),e.AsE(" ",e.lcZ(4,9,"crypto.asset.details.overview.operations")," for ",t," "),e.xp6(3),e.Oqu(e.lcZ(7,11,"crypto.asset.details.overview.view")),e.xp6(2),e.Q6J("modalID",n.modalConstant.CRYPTOOPERATION)("cryptoDashboard",n.cryptoService.cryptoDashboard)("walletsAsset",n.cryptoService.cryptoDashboard.wallets)("isFullList",!0)("operationsMapByYear",n.operationsMapByYear)("year",t)}}let Ei=(()=>{class a{constructor(t,n){this.cryptoService=t,this.route=n,this.routeSubscribe=new T.w0,this.operations=[],this.cryptoCurrency="",this.operationsMapByYear=new Map}get modalConstant(){return c.Dq}ngOnDestroy(){this.routeSubscribe.unsubscribe()}ngOnInit(){this.routeSubscribe=this.route.params.subscribe(t=>{this.cryptoCurrency=t.currency;let n=this.cryptoService.operationsMap.get(t.uuid);this.mapOperationsByYear(n)})}mapOperationsByYear(t){let n=[];t.forEach(i=>{n.push(i.entryDate.toString().split("-")[0])}),this.uniqueYears=[...new Set(n)],this.uniqueYears.forEach(i=>{var o;null===(o=this.operationsMapByYear)||void 0===o||o.set(i,t.filter(r=>r.entryDate.toString().includes(i)))})}selectOperation(t){this.operationSelect=t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(v.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-operations"]],decls:6,vars:8,consts:[[1,"mx-auto","section-width"],[3,"title","isMenuActive"],["id","appCapsule"],["class","section mt-4",4,"ngFor","ngForOf"],[3,"modalId","operation","currency"],[1,"section","mt-4"],[1,"section-heading"],[1,"title"],["hidden","","href","#",1,"link"],[3,"modalID","cryptoDashboard","walletsAsset","isFullList","operationsMapByYear","year"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-crypto-header",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.YNc(4,Ui,9,13,"div",3),e.qZA(),e.qZA(),e._UZ(5,"app-operation-details",4)),2&t&&(e.xp6(1),e.Q6J("title",e.lcZ(2,6,"crypto.operationExchange.history"))("isMenuActive",!1),e.xp6(3),e.Q6J("ngForOf",null==n.uniqueYears?null:n.uniqueYears.slice()),e.xp6(1),e.Q6J("modalId",n.modalConstant.CRYPTOOPERATIONDETAILS)("operation",n.operationSelect)("currency",n.cryptoCurrency))},directives:[k,u.sg,R,le],pipes:[_.X$],styles:[".icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}"]}),a})(),Ii=(()=>{class a{constructor(t,n,i){this.cryptoService=t,this.route=n,this.screenService=i,this.marketDataSubscribe=new T.w0,this.marketData=[],this.search="",this.filterMarketData=[],this.cryptoDashboard=new O}get modalConstant(){return c.Dq}ngOnDestroy(){this.marketDataSubscribe.unsubscribe()}ngOnInit(){this.screenService.hideFooter(),this.getMarketData()}getMarketData(){this.cryptoDashboard=this.cryptoService.cryptoDashboard,this.route.params.subscribe(t=>{this.cryptoCurrency=t.currency,this.marketDataSubscribe=this.cryptoService.getCryptoPriceData(t.currency).subscribe(n=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(n),this.marketData=n.data,this.updateDate=this.marketData[0].updateDate,this.filterMarketData=n.data})})}onKeySearch(t){setTimeout(()=>{this.filterMarketDatas(this.search)},10)}filterMarketDatas(t){this.filterMarketData=this.marketData.filter(n=>{var i,o;return(null===(i=n.name)||void 0===i?void 0:i.toLocaleLowerCase().includes(t.toLocaleLowerCase()))||(null===(o=n.symbol)||void 0===o?void 0:o.toLocaleLowerCase().includes(t.toLocaleLowerCase()))})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C),e.Y36(v.gz),e.Y36(I.H))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-market-data"]],decls:30,vars:27,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule"],[1,"section","mt-2"],[1,"row"],[1,"col-12","col-md-8"],[1,"title-section",2,"margin-bottom","0px"],[1,"title"],[2,"margin-top","-10px"],[2,"margin-top","-25px"],[1,"col-12","col-md-4"],[1,"form-group","basic","margin"],[1,"input-wrapper"],["spellcheck","false","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup"],["name","ngModel"],[1,"clear-input"],["name","close-circle"],[3,"filterMarketData"],[3,"modalId","wallets","assets","currency","statsAssetsDays"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-crypto-header",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"h2",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p",8),e.TgZ(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"p",9),e.TgZ(16,"small"),e._uU(17),e.ALo(18,"translate"),e.ALo(19,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",10),e.TgZ(21,"div",11),e.TgZ(22,"div",12),e.TgZ(23,"input",13,14),e.NdJ("ngModelChange",function(o){return n.search=o})("keyup",function(o){return n.onKeySearch(o)}),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"i",15),e._UZ(27,"ion-icon",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(28,"app-market-data-table",17),e.qZA(),e.qZA(),e.qZA(),e._UZ(29,"app-operations-modal",18)),2&t&&(e.xp6(1),e.s9C("title",e.lcZ(2,14,"crypto.marketData.title")),e.xp6(8),e.Oqu(e.lcZ(10,16,"crypto.marketData.title")),e.xp6(4),e.AsE("",e.lcZ(14,18,"crypto.marketData.currency")," ",n.cryptoCurrency,""),e.xp6(4),e.AsE("",e.lcZ(18,20,"crypto.marketData.updated")," ",e.xi3(19,22,n.updateDate,"d MMM y, HH:mm"),""),e.xp6(6),e.s9C("placeholder",e.lcZ(25,25,"crypto.marketData.search")),e.Q6J("ngModel",n.search),e.xp6(5),e.Q6J("filterMarketData",n.filterMarketData),e.xp6(1),e.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoDashboard.wallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},directives:[k,p.Fj,p.JJ,p.On,A.gu,te,Y],pipes:[_.X$,u.uU],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -60px 30px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}.margin[_ngcontent-%COMP%]{margin-top:40px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:15px!important;margin-bottom:15px!important}.margin[_ngcontent-%COMP%]{margin-top:0!important}}.section[_ngcontent-%COMP%]{margin-bottom:-40px}"]}),a})();const ki=[{path:"",component:fe,children:[{path:"dashboard",component:$t,canActivate:[m(142).G]},{path:"requirements",component:ln,data:{animation:L.g8}},{path:"asset",component:Tn,data:{animation:L.g8}},{path:"asset/details/:identifier",component:qa},{path:"resume",component:oi,data:{animation:L.g8}},{path:"operation/:operationType/:wallet/:fiat",component:Si,data:{animation:L.g8}},{path:"operations/:currency/:uuid",component:Ei,data:{animation:L.g8}},{path:"market-data/:currency",component:Ii,data:{animation:L.g8}}]}];let Li=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[v.Bz.forChild(ki)],v.Bz]}),a})();var Ji=m(6396);let Pi=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[Li,u.ez,me.I,ue.V,P.X,ce.vQ,Ji.$,he.m,A.Pc.forRoot(),p.u5,ge.d,_.aw.forChild({loader:{provide:_.Zw,useFactory:pe.g,deps:[E.eN]}}),de.Wr.register("ngsw-worker.js",{enabled:y.N.production,registrationStrategy:"registerWhenStable:30000"})]]}),a})()}}]);