"use strict";(self.webpackChunkangular_moneystats=self.webpackChunkangular_moneystats||[]).push([[7936],{7936:(Qa,X,g)=>{g.r(X),g.d(X,{CryptoModule:()=>Ya});var u=g(6895),v=g(6521),d=g(4006),_=g(4484),U=g(529),gt=g(9256),y=g(4766),ut=g(6684),ht=g(7461),mt=g(3700),_t=g(8779),Zt=g(8151),A=g(8093),T=g(727),I=g(7327),C=g(8063),l=g(3648),N=g(8168),F=g(8116),t=g(4650),K=g(3993),At=g(894);const vt=function(i){return["/crypto/market-data",i]};function Tt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"a",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().vibrate()}),t.TgZ(2,"div",3),t._UZ(3,"ion-icon",4),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"a",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().vibrate()}),t.TgZ(8,"div",3),t.TgZ(9,"div",6),t._UZ(10,"img",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"a",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().vibrate()}),t.TgZ(12,"div",3),t._UZ(13,"ion-icon",9),t.TgZ(14,"strong"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"a",10),t.TgZ(18,"div",3),t._UZ(19,"ion-icon",11),t.TgZ(20,"strong"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(12,vt,null==e.user||null==e.user.settings?null:e.user.settings.cryptoCurrency)),t.xp6(4),t.Oqu(t.lcZ(6,6,"crypto.footer.tab4")),t.xp6(5),t.MGl("src","",e.environment.baseUrlSettings,"assets/images/logos/favicon_trasparent.png",t.LSH),t.xp6(5),t.Oqu(t.lcZ(16,8,"crypto.footer.tab3")),t.xp6(2),t.Q2q("data-bs-target","#",e.modalConstant.ADDOPERATIONS,""),t.xp6(4),t.Oqu(t.lcZ(22,10,"crypto.footer.tab1"))}}let yt=(()=>{class i{constructor(e,n,a){this.router=e,this.appService=n,this.contexts=a,this.cryptoDashboardSub=new T.w0,this.environment=y.N,this.isFooterActive=!1,e.events.subscribe(o=>{let r=o.url;this.isFooterActive=!r||"/crypto/requirements"!=r&&!r.includes("/crypto/asset/details")})}get modalConstant(){return l.Dq}ngOnDestroy(){this.cryptoDashboardSub.unsubscribe()}ngOnInit(){var e;this.user=this.appService.user,"DEFAULT_NAME"===this.user.name&&(this.user=F.K.getUserFromStorage()),null!==(e=this.user.settings.completeRequirement)&&void 0!==e&&e.match(C.qb.COMPLETED)||this.onBoard()}onBoard(){this.appService.isOnboardingCrypto?this.router.navigate(["crypto/requirements"]):(this.appService.isOnboardingCrypto=!0,this.router.navigate(["on-boarding"]))}vibrate(){this.user=this.appService.user,N.c.vibrate()}getRouteAnimationData(){var e,n,a,o;return null===(o=null===(a=null===(n=null===(e=this.contexts.getContext("primary"))||void 0===e?void 0:e.route)||void 0===n?void 0:n.snapshot)||void 0===a?void 0:a.data)||void 0===o?void 0:o.animation}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.F0),t.Y36(K.z),t.Y36(A.y6))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crypto"]],decls:4,vars:2,consts:[["id","footer","class","appBottomMenu mx-auto",4,"ngIf"],["id","footer",1,"appBottomMenu","mx-auto"],[1,"item",3,"routerLink","click"],[1,"col"],["name","trending-up"],["routerLink","",1,"item",3,"click"],[1,"action-button","large"],["alt","","width","60","height","60",3,"src"],["routerLink","/wallet",1,"item",3,"click"],["name","wallet"],["hidden","","data-bs-toggle","modal",1,"item"],["name","swap-horizontal"]],template:function(e,n){1&e&&(t._UZ(0,"app-loading"),t.TgZ(1,"div"),t._UZ(2,"router-outlet"),t.qZA(),t.YNc(3,Tt,23,14,"div",0)),2&e&&(t.xp6(1),t.Q6J("@routeAnimations",n.getRouteAnimationData()),t.xp6(2),t.Q6J("ngIf",n.isFooterActive))},directives:[At.N,A.lC,u.O5,A.yS,v.Fo,v.gu],pipes:[_.X$],styles:[".appBottomMenu[_ngcontent-%COMP%]{max-width:250px;border-radius:20px;height:45px;bottom:10px}"],data:{animation:[I.g8]}}),i})();var Q=g(991);class M{constructor(){this.balance=0,this.currency="USD",this.btcBalance=0,this.lastUpdate=new Date,this.statsAssetsDays=[],this.holdingLong=new tt,this.trading=new tt,this.assets=[],this.wallets=[]}}class tt{constructor(){this.balance=0,this.performance=0,this.trend=0,this.lastUpdate=new Date}}class k extends Q.v{constructor(){super(...arguments),this.balance=0,this.invested=0,this.lastUpdate=new Date,this.performance=0,this.trend=0,this.history=[],this.operations=[]}}class j extends Q.v{}var m=g(5930),E=g(3859),J=g(9646),ft=g(8161),V=g(5203),xt=g(5090);let q=(()=>{class i{constructor(e,n,a){this.http=e,this.swalService=n,this.cache=a,this.environment=y.N,this.user=new C.n5,this.currency=ft.s.USD,this.cryptoDashboard=new M,this.assets=[],this.operationsMap=new Map,this.cryptoResume=new Map}getCryptoDashboardData(){if(this.cache.getCryptoDashboardCache())return(0,J.of)(this.cache.getCryptoDashboardCache());const e=localStorage.getItem(l.Vs.ACCESSTOKEN),n=new U.WM({"Content-Type":"application/json",Authorization:e});return this.user.mockedUser?this.http.get(y.N.getCryptoDashboardMock):this.http.get(y.N.getCryptoDashboardDataUrl,{headers:n})}getCryptoPriceData(e){if(this.cache.getMarketDataByCurrencyCache())return(0,J.of)(this.cache.getMarketDataByCurrencyCache());const n=localStorage.getItem(l.Vs.ACCESSTOKEN),a=new U.WM({"Content-Type":"application/json",Authorization:n});return this.user.mockedUser?this.http.get(y.N.getCryptoPriceMock):this.http.get(y.N.getMarketDataUrl+"?currency="+e,{headers:a})}getCryptoResumeData(){if(this.cache.getCryptoResumeCache())return(0,J.of)(this.cache.getCryptoResumeCache());const e=localStorage.getItem(l.Vs.ACCESSTOKEN),n=new U.WM({"Content-Type":"application/json",Authorization:e});return this.user.mockedUser?this.http.get(y.N.getCryptoResumeMock):this.http.get(y.N.getCryptoResumeDataUrl,{headers:n})}getCryptoAssetsData(){if(this.cache.getAssetsCache())return(0,J.of)(this.cache.getAssetsCache());const e=localStorage.getItem(l.Vs.ACCESSTOKEN),n=new U.WM({"Content-Type":"application/json",Authorization:e});return this.user.mockedUser?this.http.get(y.N.getCryptoAssetsMock):this.http.get(y.N.getCryptoAssetDataUrl,{headers:n})}getCryptoDetails(e){const n=localStorage.getItem(l.Vs.ACCESSTOKEN),a=new U.WM({"Content-Type":"application/json",Authorization:n});return this.user.mockedUser?this.http.get(y.N.getCryptoDetailsMock):this.http.get(y.N.getCryptoDetailsDataUrl+"?identifier="+e,{headers:a})}addOrUpdateCryptoAsset(e){this.cache.clearCache();const n=localStorage.getItem(l.Vs.ACCESSTOKEN),a=new U.WM({"Content-Type":"application/json",Authorization:n});if(this.user.mockedUser){let o=new Q.C;return o.data=e,(0,J.of)(o)}return this.http.post(y.N.addCryptoAssetDataUrl,e,{headers:a})}addOrUpdateCryptoAssets(e){this.cache.clearCache();const n=localStorage.getItem(l.Vs.ACCESSTOKEN),a=new U.WM({"Content-Type":"application/json",Authorization:n});if(this.user.mockedUser){let o=new Q.C;return o.data=e,(0,J.of)(o)}return this.http.post(y.N.addCryptoAssetsDataUrl,e,{headers:a})}getAssetList(e){const n=[];return e.forEach(a=>{a.assets.forEach(o=>{var r;if(n.find(c=>c.name==o.name)){const c=n.indexOf(n.find(p=>p.name==o.name));n[c].balance+=o.balance,n[c].value+=o.value,n[c].performance=(n[c].performance+o.performance)/2,n[c].trend=n[c].trend+o.trend,null===(r=o.history)||void 0===r||r.forEach(p=>{let h=n[c].history.find(Z=>Z.date==p.date);n[c].history.find(Z=>Z.date==p.date).balance+=p.balance,n[c].history.find(Z=>Z.date==p.date).trend+=p.trend,n[c].history.find(Z=>Z.date==p.date).percentage=(h.percentage+p.percentage)/2}),o.operations.forEach(p=>{n[c].operations.push(p)}),n[c].operations.sort(p=>null!=p.exitDate?p.exitDate:p.entryDate)}else n.push(o)})}),n}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(U.eN),t.LFG(V.J),t.LFG(xt.Q))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var D=g(97),bt=g(385);function Ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"a",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToInfo()}),t._UZ(2,"ion-icon",8),t.qZA(),t.qZA()}}const qt=function(i){return["/crypto/market-data",i]};function wt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t.TgZ(3,"a",11),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",12),t.TgZ(7,"h6",13),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"a",14),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"a",15),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"div",16),t.TgZ(17,"a",17),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"a",18),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"a",19),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.TgZ(26,"div",20),t.TgZ(27,"a",21),t._UZ(28,"img",22),t._UZ(29,"span",23),t.qZA(),t.TgZ(30,"div",12),t.TgZ(31,"h6",13),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"a",24),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"a",25),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"div",16),t.TgZ(41,"a",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().logout()}),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,15,"crypto.header.tabOpt")," "),t.xp6(4),t.hij(" ",t.lcZ(9,17,"dashboard.sidebar.dropdown.options")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(37,qt,e.userService.user.settings.cryptoCurrency)),t.xp6(1),t.Oqu(t.lcZ(12,19,"crypto.header.tab5")),t.xp6(3),t.Oqu(t.lcZ(15,21,"crypto.header.tab2")),t.xp6(4),t.Oqu(t.lcZ(19,23,"crypto.header.tab1")),t.xp6(2),t.Q2q("data-bs-target","#",e.modalConstant.ADDOPERATIONS,""),t.xp6(1),t.hij(" ",t.lcZ(22,25,"crypto.header.tab3")," "),t.xp6(3),t.Oqu(t.lcZ(25,27,"crypto.header.tab4")),t.xp6(4),t.s9C("src",e.userService.user.profilePhoto,t.LSH),t.xp6(4),t.hij(" ",t.lcZ(33,29,"dashboard.sidebar.dropdown.options")," "),t.xp6(3),t.hij(" ",t.lcZ(36,31,"dashboard.sidebar.dropdown.settings"),""),t.xp6(2),t.Q2q("data-bs-target","#",e.modalConstant.VERSION,""),t.xp6(1),t.hij(" ",t.lcZ(39,33,"dashboard.sidebar.dropdown.version"),""),t.xp6(4),t.Oqu(t.lcZ(43,35,"dashboard.sidebar.dropdown.logout"))}}let L=(()=>{class i{constructor(e,n,a){this.location=e,this.router=n,this.userService=a,this.title="Crypto",this.isMenuActive=!0,this.isInfoActive=!1,this.emitInfo=new t.vpe,n.events.subscribe(o=>{this.isMenuActive="/crypto/requirements"!=o.url})}get modalConstant(){return l.Dq}ngOnInit(){}goBack(){this.vibrate(),null!=this.routerLinks?this.router.navigate([this.routerLinks]):this.location.back()}logout(){this.userService.logout()}goToInfo(){this.emitInfo.emit("go")}vibrate(){N.c.vibrate()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.Ye),t.Y36(A.F0),t.Y36(F.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crypto-header"]],inputs:{routerLinks:"routerLinks",title:"title",isMenuActive:"isMenuActive",isInfoActive:"isInfoActive"},outputs:{emitInfo:"emitInfo"},decls:9,vars:5,consts:[["id","cryptoHeader",1,"appHeader","no-border","mx-auto"],[1,"left"],[1,"headerButton","goBack","clickable",3,"click"],["name","arrow-back-outline"],[1,"pageTitle","clickable",3,"routerLink","click"],["class","right",4,"ngIf"],[3,"modalId"],[1,"right"],["name","alert-circle-outline"],[1,"menu","hidden_mobile"],[1,"dropdown","d-inline"],["href","#","data-bs-toggle","dropdown",1,"d-inline","me-2","title-page"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"dropdown-item",3,"routerLink"],["routerLink","/crypto/asset",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/wallet",1,"dropdown-item"],["data-bs-toggle","modal","aria-disabled","true",1,"d-inline","me-2","title-page","clickable","effect-underline"],["routerLink","/crypto/resume",1,"d-inline","me-2","title-page"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown",1,"headerButton"],["alt","image",1,"imaged","w32",3,"src"],[1,"badge","badge-danger"],["routerLink","/settings",1,"dropdown-item"],["href","#","data-bs-toggle","modal",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"a",2),t.NdJ("click",function(){return n.goBack()}),t._UZ(3,"ion-icon",3),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.NdJ("click",function(){return n.vibrate()}),t._uU(5),t.qZA(),t.YNc(6,Ct,3,0,"div",5),t.YNc(7,wt,44,39,"div",5),t.qZA(),t._UZ(8,"app-version",6)),2&e&&(t.xp6(4),t.s9C("routerLink",n.isMenuActive?"/crypto/dashboard":""),t.xp6(1),t.hij(" ",n.title," "),t.xp6(1),t.Q6J("ngIf",n.isInfoActive&&!n.isMenuActive),t.xp6(1),t.Q6J("ngIf",n.isMenuActive),t.xp6(1),t.Q6J("modalId",n.modalConstant.VERSION))},directives:[v.gu,A.rH,v.YI,u.O5,A.yS,v.Fo,bt.g],pipes:[_.X$],styles:[".imaged[_ngcontent-%COMP%]{width:32px!important;height:32px!important;object-position:center center!important;object-fit:cover!important}.headerButton[_ngcontent-%COMP%]{max-width:200px}.dropdown-header[_ngcontent-%COMP%]{margin-top:0}.menu[_ngcontent-%COMP%]{margin-top:15px}.appHeader[_ngcontent-%COMP%]{background-color:#121212!important;max-width:2500px}"]}),i})();var Ot=g(7149),Mt=g(6608),et=g(4837);function Dt(i,s){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",7),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",8),t._uU(5),t.qZA(),t.TgZ(6,"td",9),t._uU(7),t.qZA(),t.TgZ(8,"td",10),t.TgZ(9,"div",11),t.TgZ(10,"span"),t._UZ(11,"ion-icon",12),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"td",10),t._uU(14),t.qZA(),t.TgZ(15,"td",10),t._uU(16),t.qZA(),t.TgZ(17,"td",10),t._uU(18),t.qZA(),t.qZA()),2&i){const e=s.$implicit;t.xp6(2),t.hij("#",e.rank,""),t.xp6(2),t.s9C("src",e.icon,t.LSH),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.AsE(" ",e.currency," ",e.current_price," "),t.xp6(3),t.Gre("badge ",0==e.price_change_percentage_24h?"badge-warning":e.price_change_percentage_24h>0?"badge-success":"badge-danger",""),t.xp6(1),t.s9C("name",e.price_change_percentage_24h>0?"arrow-up-outline":"arrow-down-outline"),t.xp6(1),t.AsE(" ",null!=e.price_change_24h?e.price_change_24h.toFixed(2):e.price_change_24h," (",null!=e.price_change_percentage_24h?e.price_change_percentage_24h.toFixed(2):e.price_change_percentage_24h,"%) "),t.xp6(2),t.AsE(" ",e.currency," ",e.high_24h," "),t.xp6(2),t.AsE(" ",e.currency," ",e.low_24h," "),t.xp6(2),t.AsE(" ",e.currency," ",e.market_cap," ")}}let nt=(()=>{class i{constructor(){this.filterMarketData=[],this.limit=0}ngOnChanges(e){this.ngOnInit()}ngOnInit(){0!=this.limit&&this.filterMarketData.splice(this.limit,this.filterMarketData.length)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-market-data-table"]],inputs:{filterMarketData:"filterMarketData",limit:"limit"},features:[t.TTD],decls:28,vars:22,consts:[[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-end"],["scope","col",1,"text-end","hidden_mobile"],[4,"ngFor","ngForOf"],["scope","row",1,"align-middle"],["alt","img",1,"image-block","imaged","me-2",3,"src"],[1,"align-middle","text-primary","text-end"],[1,"align-middle","text-end","hidden_mobile"],[1,"text-small"],[3,"name"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th",3),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",4),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",5),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",5),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th",5),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th",5),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"tbody"),t.YNc(27,Dt,19,17,"tr",6),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,8,"crypto.marketData.table.tab1")," "),t.xp6(3),t.hij(" ",t.lcZ(10,10,"crypto.marketData.table.tab2")," "),t.xp6(3),t.hij(" ",t.lcZ(13,12,"crypto.marketData.table.tab3")," "),t.xp6(3),t.hij(" ",t.lcZ(16,14,"crypto.marketData.table.tab4")," "),t.xp6(3),t.hij(" ",t.lcZ(19,16,"crypto.marketData.table.tab5")," "),t.xp6(3),t.hij(" ",t.lcZ(22,18,"crypto.marketData.table.tab6")," "),t.xp6(3),t.hij(" ",t.lcZ(25,20,"crypto.marketData.table.tab7")," "),t.xp6(3),t.Q6J("ngForOf",n.filterMarketData))},directives:[u.sg,v.gu],pipes:[_.X$],styles:[".imaged[_ngcontent-%COMP%]{width:32px!important;height:32px!important;object-position:center center!important;object-fit:cover!important}"]}),i})();var it=g(7856),at=g(645);function St(i,s){if(1&i&&(t.TgZ(0,"span"),t._UZ(1,"img",12),t._uU(2),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.s9C("src",null==e.assetSelected?null:e.assetSelected.icon,t.LSH),t.xp6(1),t.AsE(" ",null==e.assetSelected?null:e.assetSelected.name," - ",null==e.assetSelected?null:e.assetSelected.symbol,"")}}function Ut(i,s){if(1&i&&(t.TgZ(0,"span",13),t._UZ(1,"img",14),t._uU(2),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.s9C("src",null==e.assetSelected?null:e.assetSelected.icon,t.LSH),t.xp6(1),t.hij(" ",null==e.assetSelected?null:e.assetSelected.symbol,"")}}function Et(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li",1),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().selectAssetInput(o.name)}),t._UZ(1,"img",12),t._uU(2),t.qZA()}if(2&i){const e=s.$implicit;t.xp6(1),t.s9C("src",e.icon,t.LSH),t.xp6(1),t.AsE(" ",e.name," - ",e.symbol," ")}}let ot=(()=>{class i{constructor(){this.wrapperID="",this.cryptoCurrency="",this.isOperation=!1,this.emitSelectAsset=new t.vpe,this.filterCryptoPrices=[],this.cryptoPrices=[],this.search="",this.isFilterActive=!1}ngOnChanges(e){this.getCryptoPrices()}ngOnInit(){this.getCryptoPrices()}selectAssetInput(e){this.search="",this.isFilterActive=!1,this.assetSelected=this.filterCryptoPrices.slice().find(n=>n.name==e),this.emitSelectAsset.emit(this.assetSelected),this.openCloseSelect()}onKeySearch(e){setTimeout(()=>{this.filterCryptoPrice(this.search)},10)}filterCryptoPrice(e){this.filterCryptoPrices=this.cryptoPrices.filter(n=>{var a,o;return(null===(a=n.name)||void 0===a?void 0:a.toLocaleLowerCase().includes(e.toLocaleLowerCase()))||(null===(o=n.symbol)||void 0===o?void 0:o.toLocaleLowerCase().includes(e.toLocaleLowerCase()))})}getCryptoPrices(){this.cryptoPrices&&this.cryptoPrices.length>0&&(this.filterCryptoPrices=this.cryptoPrices.slice(),this.assetSelected=(0,m.p)(this.cryptoPrices[0]),this.emitSelectAsset.emit(this.assetSelected)),this.wrapperID==l.KT.TRANSFER&&(this.filterCryptoPrices=this.filterCryptoPrices.filter(e=>e.balance>0))}openCloseSelect(){let e=document.getElementById(this.wrapperID);e?.classList.contains("active")?e.classList.remove("active"):e?.classList.add("active")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-asset-select"]],inputs:{wrapperID:"wrapperID",cryptoCurrency:["fiat","cryptoCurrency"],isOperation:"isOperation",cryptoPrices:"cryptoPrices"},outputs:{emitSelectAsset:"emitSelectAsset"},features:[t.TTD],decls:12,vars:9,consts:[[1,"wrapper","selectCryptoAsset",3,"id"],[3,"click"],[4,"ngIf"],["style","color: aliceblue",4,"ngIf"],["name","chevron-down-outline"],[1,"content"],[1,"search"],["name","search-outline"],["spellcheck","false","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["name","ngModel"],[1,"options"],[3,"click",4,"ngFor","ngForOf"],["alt","avatar",1,"imaged","d-inline","w30","rounded","me-1",3,"src"],[2,"color","aliceblue"],["alt","avatar",1,"imaged","d-inline","w30s","rounded","me-1",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.NdJ("click",function(){return n.openCloseSelect()}),t.YNc(2,St,3,3,"span",2),t.YNc(3,Ut,3,2,"span",3),t._UZ(4,"ion-icon",4),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t._UZ(7,"ion-icon",7),t.TgZ(8,"input",8,9),t.NdJ("ngModelChange",function(o){return n.search=o})("keyup",function(o){return n.onKeySearch(o)}),t.qZA(),t.qZA(),t.TgZ(10,"ul",10),t.YNc(11,Et,3,3,"li",11),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.s9C("id",n.wrapperID),t.xp6(1),t.Tol(n.isOperation?"select-btn-op float-end":"select-btn"),t.xp6(1),t.Q6J("ngIf",!n.isOperation),t.xp6(1),t.Q6J("ngIf",n.isOperation),t.xp6(2),t.uIk("style",n.isOperation?"position: absolute; z-index: 1":"",t.Ckj),t.xp6(3),t.Q6J("ngModel",n.search),t.xp6(3),t.Q6J("ngForOf",n.filterCryptoPrices))},directives:[u.O5,v.gu,d.Fj,d.JJ,d.On,u.sg],styles:[".w30[_ngcontent-%COMP%], .w30s[_ngcontent-%COMP%]{width:30px;height:30px}[_ngcontent-%COMP%]::selection{color:#fff;background:#4285f4}.wrapper[_ngcontent-%COMP%]{width:100%}.select-btn[_ngcontent-%COMP%], .select-btn-op[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.select-btn[_ngcontent-%COMP%]{height:55px;padding:0 20px;font-size:16px;background:#141025;border:1px solid #372648;border-radius:10px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}@media screen and (max-width: 780px){.select-btn-op[_ngcontent-%COMP%]{margin-left:0!important;padding:0!important}.w30s[_ngcontent-%COMP%]{width:20px;height:20px}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{left:0}}.select-btn-op[_ngcontent-%COMP%]{max-width:180px!important;margin-left:50%;height:55px;font-size:18px;font-weight:700;background:#141025;border-radius:10px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}.select-btn[_ngcontent-%COMP%], .select-btn-op[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;transition:transform .3s linear}.wrapper.active[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(-180deg)}.content[_ngcontent-%COMP%]{display:none;padding:15px;margin-top:15px;background:#141025;border-radius:10px;box-shadow:0 10px 25px #0000001a}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{top:50%;left:15px;color:#999;font-size:20px;pointer-events:none;transform:translateY(-50%);position:absolute}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;width:100%;outline:none;font-size:16px;border-radius:5px;padding:0 20px 0 43px;background:#141025;border:1px solid #372648}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{padding-left:42px;border:2px solid #4285f4}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bfbfbf}.content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{margin-top:10px;max-height:250px;overflow-y:auto;padding-right:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#372648;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#27173e}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;font-size:16px;margin-left:-20px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, li.selected[_ngcontent-%COMP%]{border-radius:5px;background:#27173e}"]}),i})();function Lt(i,s){1&i&&(t.TgZ(0,"h5",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.cryptoModal.addAsset.title")," "))}function It(i,s){1&i&&(t.TgZ(0,"h5",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.cryptoModal.editAsset.title")," "))}function kt(i,s){if(1&i&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&i){const e=s.$implicit,n=t.oxw(2);t.Q6J("selected",n.modelWallet===e.name)("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function Nt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",15),t.TgZ(3,"h2",16),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t.TgZ(7,"small"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",14),t.TgZ(11,"div",17),t.TgZ(12,"div",18),t.TgZ(13,"select",19,20),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().modelWallet=a}),t.TgZ(15,"option",21),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.YNc(18,kt,2,3,"option",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,6,"crypto.cryptoModal.addAsset.selectWalletTitle")," "),t.xp6(4),t.Oqu(t.lcZ(9,8,"crypto.cryptoModal.addAsset.selectWalletSubTitle")),t.xp6(5),t.Q6J("ngModel",e.modelWallet),t.xp6(2),t.Q6J("value",e.modelWallet),t.xp6(1),t.hij(" ",t.lcZ(17,10,"crypto.cryptoModal.addAsset.selectWalletTitle")," "),t.xp6(2),t.Q6J("ngForOf",e.wallets)}}function Jt(i,s){if(1&i&&(t.TgZ(0,"div",24),t.TgZ(1,"div",25),t._UZ(2,"img",26),t.TgZ(3,"h2",16),t._uU(4),t.qZA(),t.TgZ(5,"p"),t.TgZ(6,"small"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",27),t.TgZ(9,"span",28),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.s9C("src",null==e.asset?null:e.asset.icon,t.LSH),t.xp6(2),t.hij(" ",null==e.asset?null:e.asset.name," "),t.xp6(3),t.hij("USD ",null==e.asset?null:e.asset.current_price,""),t.xp6(3),t.Oqu(t.lcZ(11,4,"crypto.cryptoModal.addAsset.selectedAsset"))}}function Pt(i,s){1&i&&(t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.cryptoModal.addAsset.warning")," "))}function Yt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"app-asset-select",33),t.NdJ("emitSelectAsset",function(a){return t.CHM(e),t.oxw(2).emitSelectAsset(a)}),t.qZA(),t.YNc(2,Pt,3,3,"div",34),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("wrapperID",e.assetConstant.ADDASSET)("fiat",e.cryptoCurrency)("isOperation",!1)("cryptoPrices",e.marketData),t.xp6(1),t.Q6J("ngIf",e.warning)}}function Ft(i,s){if(1&i&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",24),t.TgZ(3,"div",25),t._UZ(4,"img",26),t.TgZ(5,"h2",16),t._uU(6),t.qZA(),t.TgZ(7,"p"),t.TgZ(8,"small"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",27),t.TgZ(12,"span",28),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",14),t._UZ(16,"hr",29),t.YNc(17,Jt,12,6,"div",30),t.YNc(18,Yt,3,5,"div",31),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.s9C("src",null==e.wallet?null:e.wallet.img,t.LSH),t.xp6(2),t.hij(" ",null==e.wallet?null:e.wallet.name," "),t.xp6(3),t.lnq("",t.lcZ(10,8,"crypto.cryptoModal.addAsset.currentBalance")," ",e.dashboardService.coinSymbol," ",null==e.wallet?null:e.wallet.balance,""),t.xp6(4),t.Oqu(t.lcZ(14,10,"crypto.cryptoModal.addAsset.selectedWallet")),t.xp6(4),t.Q6J("ngIf",e.isAssetSelected),t.xp6(1),t.Q6J("ngIf",!e.isAssetSelected)}}function Qt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"div",14),t.TgZ(2,"div",17),t.TgZ(3,"div",18),t.TgZ(4,"label",36),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",37,38),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().balance=a}),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"p",39),t.TgZ(11,"small"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",14),t.TgZ(15,"div",17),t.TgZ(16,"div",18),t.TgZ(17,"label",40),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"input",41,42),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().invested=a}),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"p",39),t.TgZ(24,"small"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,13,"crypto.cryptoModal.addAsset.balance")),t.xp6(2),t.hYB("placeholder","",t.lcZ(9,15,"crypto.cryptoModal.addAsset.balancePla"),"",null==e.asset?null:e.asset.symbol,""),t.Q6J("ngModel",e.balance),t.xp6(5),t.AsE("",t.lcZ(13,17,"crypto.cryptoModal.addAsset.balancePla"),"",null==e.asset?null:e.asset.symbol,""),t.xp6(6),t.AsE("",t.lcZ(19,19,"crypto.cryptoModal.addAsset.invested")," (",e.cryptoCurrency,")"),t.xp6(2),t.hYB("placeholder","",t.lcZ(22,21,"crypto.cryptoModal.addAsset.investedPla"),"",e.cryptoCurrency,""),t.Q6J("ngModel",e.invested),t.xp6(5),t.AsE("",t.lcZ(26,23,"crypto.cryptoModal.addAsset.investedPla"),"",e.cryptoCurrency,"")}}function jt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",43),t.TgZ(1,"button",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectWallet()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",""==e.modelWallet),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.addAsset.selectWalletTitle")," ")}}function Rt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",43),t.TgZ(1,"button",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectAsset()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",""==e.modelAsset),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.addAsset.selectAsset")," ")}}function Ht(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",43),t.TgZ(1,"button",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveAsset()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(),n=t.MAs(8);t.xp6(1),t.Q6J("disabled",n.invalid||e.warning),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.addAsset.add")," ")}}function Bt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",46),t.TgZ(1,"button",47),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectWallet()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",""==e.modelWallet),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.addAsset.selectWalletTitle")," ")}}function Wt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",46),t.TgZ(1,"button",47),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectAsset()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",""==e.modelAsset),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.addAsset.selectAsset")," ")}}function Vt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",46),t.TgZ(1,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveAsset()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(),n=t.MAs(8);t.xp6(1),t.Q6J("disabled",n.invalid||e.warning),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.addAsset.add")," ")}}let st=(()=>{class i{constructor(e,n,a){this.dashboardService=e,this.cryptoService=n,this.logger=a,this.getMarketDataSubscribe=new T.w0,this.saveAssetSubscription=new T.w0,this.environment=y.N,this.modalId="",this.cryptoCurrency="",this.emitAddAsset=new t.vpe,this.modelAsset="",this.isAssetSelected=!1,this.warning=!1,this.marketData=[],this.wallets=[],this.modelWallet="",this.isWalletSelected=!1,this.cryptoTypes=["Holding","Trading"],this.cryptoPrices=[],this.search="",this.categories=[],this.falseIf=!1}get modalConstant(){return l.Dq}get assetConstant(){return l.KT}ngOnInit(){this.getCryptoPrices(),this.categories=this.dashboardService.dashboard.categories,null==this.wallets&&this.dashboardService.dashboard.wallets&&(this.wallets=this.dashboardService.dashboard.wallets.filter(e=>"Crypto"==e.category))}getCryptoPrices(){this.getMarketDataSubscribe=this.cryptoService.getCryptoPriceData(this.cryptoCurrency).subscribe(e=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(e),this.logger.LOG(e.message,"AddAssetModalComponent"),this.marketData=e.data})}selectWallet(){this.wallet=this.wallets.find(e=>e.name==this.modelWallet),this.isWalletSelected=!0}selectAsset(){var e,n,a;null===(e=this.wallet)||void 0===e||!e.assets||(null===(n=this.wallet)||void 0===n?void 0:n.assets.length)>0&&(null===(a=this.wallet)||void 0===a||!a.assets.find(o=>o.name==this.modelAsset))?(this.warning=!1,this.asset=this.cryptoPrices.find(o=>o.name==this.modelAsset),this.isAssetSelected=!0):this.warning=!0}saveAsset(){var e,n,a,o;null===(e=this.wallet)||void 0===e||!e.assets||(null===(n=this.wallet)||void 0===n?void 0:n.assets.length)>0&&(null===(a=this.wallet)||void 0===a||!a.assets.find(r=>{var c;return r.name==(null===(c=this.asset)||void 0===c?void 0:c.name)}))?(this.warning=!1,null==(null===(o=this.wallet)||void 0===o?void 0:o.assets)&&(this.wallet.assets=[]),this.asset.id=void 0,this.asset.balance=this.balance,this.asset.invested=this.invested,this.asset.performance=0,this.asset.trend=0,this.asset.lastUpdate=new Date,this.wallet.assets=[this.asset],this.saveAssetSubscription=this.cryptoService.addOrUpdateCryptoAsset(this.wallet).subscribe(r=>{this.logger.LOG(r.message,"AddAssetModalComponent"),this.emitAddAsset.emit(r.data),this.resetModal()})):(this.isAssetSelected=!1,this.modelAsset="",this.warning=!0)}resetModal(){this.warning=!1,this.isAssetSelected=!1,this.isWalletSelected=!1,this.modelAsset="",this.modelWallet=""}emitSelectAsset(e){this.warning=!1,this.cryptoPrices=[e],this.modelAsset=e.name}ngOnDestroy(){this.getMarketDataSubscribe.unsubscribe(),this.saveAssetSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(at.s),t.Y36(q),t.Y36(D.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-asset-modal"]],inputs:{modalId:"modalId",cryptoCurrency:"cryptoCurrency",wallets:"wallets"},outputs:{emitAddAsset:"emitAddAsset"},decls:19,vars:12,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["type","submit"],["f","ngForm"],[1,"action-sheet-content"],["class","row",4,"ngIf"],["class","addWallet text-end hidden_mobile",4,"ngIf"],["class","mt-1 form-group basic hidden_desktop",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-6"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed"],[1,"input-wrapper"],["id","wallet","name","wallet","required","","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["wallet1","ngModel"],["selected","","disabled","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],[1,"card-title","row"],[1,"col-8"],["alt","avatar",1,"imaged","d-inline","w30","rounded",3,"src"],[1,"col-4"],[1,"mt-2","badge","badge-info","float-end"],[1,"hidden_desktop","hr"],["class","card-title row",4,"ngIf"],["class","col-md-8 col-12 float-end",4,"ngIf"],[1,"col-md-8","col-12","float-end"],[3,"wrapperID","fiat","isOperation","cryptoPrices","emitSelectAsset"],["class","mx-auto alert alert-danger mb-1 mt-2","role","alert",4,"ngIf"],["role","alert",1,"mx-auto","alert","alert-danger","mb-1","mt-2"],["for","balance",1,"label",2,"margin-left","5px"],["type","text","name","balance","id","balance",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["balance1","ngModel"],[2,"margin-left","5px"],["for","invested",1,"label",2,"margin-left","5px"],["type","text","required","","name","invested","id","invested",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["invested1","ngModel"],[1,"addWallet","text-end","hidden_mobile"],["type","button",1,"btn","btn-primary","me-1","mb-1",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mb-1",3,"disabled","click"],[1,"mt-1","form-group","basic","hidden_desktop"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.YNc(4,Lt,3,3,"h5",4),t.YNc(5,It,3,3,"h5",4),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"form",6,7),t.TgZ(9,"div",8),t.YNc(10,Nt,19,12,"div",9),t.YNc(11,Ft,19,12,"div",9),t.YNc(12,Qt,27,25,"div",9),t.YNc(13,jt,4,4,"div",10),t.YNc(14,Rt,4,4,"div",10),t.YNc(15,Ht,4,4,"div",10),t.YNc(16,Bt,4,4,"div",11),t.YNc(17,Wt,4,4,"div",11),t.YNc(18,Vt,4,4,"div",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.s9C("id",n.modalId),t.xp6(4),t.Q6J("ngIf",!(null!=n.asset&&n.asset.id)),t.xp6(1),t.Q6J("ngIf",null==n.asset?null:n.asset.id),t.xp6(5),t.Q6J("ngIf",!n.isWalletSelected),t.xp6(1),t.Q6J("ngIf",n.isWalletSelected),t.xp6(1),t.Q6J("ngIf",n.isAssetSelected),t.xp6(1),t.Q6J("ngIf",!n.isWalletSelected),t.xp6(1),t.Q6J("ngIf",n.isWalletSelected&&!n.isAssetSelected),t.xp6(1),t.Q6J("ngIf",n.isAssetSelected),t.xp6(1),t.Q6J("ngIf",!n.isWalletSelected),t.xp6(1),t.Q6J("ngIf",n.isWalletSelected&&!n.isAssetSelected),t.xp6(1),t.Q6J("ngIf",n.isAssetSelected))},directives:[u.O5,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,u.sg,ot,d.Fj],pipes:[_.X$],styles:['.w30[_ngcontent-%COMP%]{width:30px;height:30px}@media screen and (max-width: 780px){.addWallet[_ngcontent-%COMP%]{display:none}.hr[_ngcontent-%COMP%]{margin-top:-10px}}.addWallet[_ngcontent-%COMP%]{margin-top:5px;padding-right:20px}.select[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:100%;height:55px}.select[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{padding:0 30px 0 10px;min-height:55px;display:flex;align-items:center;background:#27173e;position:absolute;top:0;width:100%;height:50px;pointer-events:none;order:2;z-index:1;transition:background .4s ease-in-out;box-sizing:border-box;overflow:hidden;white-space:nowrap;border-radius:10px}.select[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background:#284bff}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;left:-99999px}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:1;z-index:2;background:#141025;border:1px solid #372648;position:relative}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid white;position:absolute;right:10px;top:calc(50% - 2.5px);pointer-events:none;z-index:3}.select[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{position:absolute;right:0;height:0px;width:0px;content:"";background:#141025}.select[_ngcontent-%COMP%]:focus   .option[_ngcontent-%COMP%]{position:relative;pointer-events:all}']}),i})();var S=g(1454),Gt=g(5646),$t=g(633);function zt(i,s){1&i&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"insertStats.dataPresent")," "))}function Xt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"div",9),t.TgZ(3,"h2",10),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t.TgZ(7,"small"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"div",11),t.TgZ(12,"div",12),t.TgZ(13,"input",13,14),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().dateStats=a}),t.qZA(),t.YNc(15,zt,3,3,"div",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,5,"crypto.cryptoModal.operations.stats.title")," "),t.xp6(4),t.Oqu(t.lcZ(9,7,"crypto.cryptoModal.operations.stats.subTitle")),t.xp6(5),t.Q6J("ngModel",e.dateStats)("disabled",e.currentIndex>0),t.xp6(2),t.Q6J("ngIf",e.dateValidation)}}function Kt(i,s){1&i&&(t.TgZ(0,"div",7),t.TgZ(1,"h2",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p"),t.TgZ(5,"small"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.operations.stats.resumeTitle")," "),t.xp6(4),t.Oqu(t.lcZ(7,4,"crypto.cryptoModal.operations.stats.resumeSubTitle")))}function te(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",33),t.TgZ(1,"div",8),t.TgZ(2,"div",22),t.TgZ(3,"h5",23),t._uU(4),t.qZA(),t.TgZ(5,"div",34),t.TgZ(6,"div",12),t.TgZ(7,"input",35,36),t.NdJ("ngModelChange",function(a){const r=t.CHM(e).$implicit,c=t.oxw(2).$implicit;return t.oxw(2).filterAsset(r,c.name).newValue=a}),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"i",37),t._UZ(11,"ion-icon",38),t.qZA(),t.qZA(),t.TgZ(12,"div",25),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",26),t._UZ(16,"img",27),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw(2).$implicit,a=t.oxw(2);t.xp6(4),t.AsE(" ",e.name," (",e.category,") "),t.xp6(3),t.MGl("name","balance",e.name,""),t.s9C("placeholder",t.lcZ(9,10,"insertStats.newBal")),t.Q6J("ngModel",a.filterAsset(e,n.name).newValue),t.xp6(6),t.HOy(" ",n.name," ",t.lcZ(14,12,"insertStats.balance")," ",a.filterAsset(e,n.name).value," ",a.currency," "),t.xp6(3),t.s9C("src",null==e?null:e.img,t.LSH)}}function ee(i,s){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",21),t.TgZ(2,"div",8),t.TgZ(3,"div",22),t.TgZ(4,"h5",23),t._uU(5),t.qZA(),t.TgZ(6,"span",24),t._uU(7),t.qZA(),t.TgZ(8,"div",25),t.TgZ(9,"small"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",26),t._UZ(13,"img",27),t.qZA(),t.qZA(),t.TgZ(14,"p",28),t.TgZ(15,"span",29),t.TgZ(16,"span"),t._UZ(17,"i"),t._uU(18),t.qZA(),t.qZA(),t.TgZ(19,"span",30),t._uU(20),t.ALo(21,"translate"),t.ALo(22,"date"),t.qZA(),t.qZA(),t._UZ(23,"hr"),t.qZA(),t.TgZ(24,"div",31),t.YNc(25,te,17,14,"div",32),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(5),t.AsE(" ",e.name," (",e.symbol,") "),t.xp6(2),t.AsE("",n.currency," ",e.value,""),t.xp6(3),t.HOy(" ",e.name," ",t.lcZ(11,20,"insertStats.balance")," ",e.balance," ",e.symbol,""),t.xp6(3),t.s9C("src",null==e?null:e.icon,t.LSH),t.xp6(3),t.Gre("",0==e.history[e.history.length-1].percentage?"text-warning":e.history[e.history.length-1].percentage>0?"text-success":"text-danger"," mr-2"),t.xp6(1),t.Gre("fa ",e.history[e.history.length-1].percentage>0?"fa-arrow-up":"fa-arrow-down",""),t.xp6(1),t.AsE("",1e3==e.history[e.history.length-1].percentage?" +":""," ",e.history[e.history.length-1].percentage,"%"),t.xp6(2),t.AsE("",t.lcZ(21,22,"stats.since")," ",t.xi3(22,24,e.history[e.history.length-1].date,"dd MMM y"),""),t.xp6(5),t.Q6J("ngForOf",n.filterWallets(n.wallets,e.name))}}function ne(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,ee,26,27,"div",20),t.qZA()),2&i){const e=s.$implicit,n=s.index,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n==a.currentIndex&&!a.isResumeAddAssets&&e.balance>0)}}function ie(i,s){if(1&i&&(t.TgZ(0,"li"),t.TgZ(1,"a",47),t.TgZ(2,"div",48),t._UZ(3,"img",49),t.qZA(),t.TgZ(4,"div",50),t.TgZ(5,"div"),t.TgZ(6,"strong"),t._uU(7),t.qZA(),t.TgZ(8,"div",51),t.TgZ(9,"strong"),t.TgZ(10,"span"),t._UZ(11,"ion-icon",52),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"strong"),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",53),t.TgZ(16,"strong"),t._uU(17),t.qZA(),t.TgZ(18,"div",54),t._uU(19),t.ALo(20,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=s.$implicit,n=t.oxw(2).$implicit,a=t.oxw(3);t.xp6(3),t.s9C("src",e.img,t.LSH),t.xp6(4),t.Oqu(e.name),t.xp6(3),t.Gre("badge me-1 ",0==a.filterAsset(e,n.name).history[a.filterAsset(e,n.name).history.length-1].percentage?"badge-warning":a.filterAsset(e,n.name).history[a.filterAsset(e,n.name).history.length-1].percentage>0?"badge-success":"badge-danger",""),t.xp6(1),t.s9C("name",a.filterAsset(e,n.name).history[a.filterAsset(e,n.name).history.length-1].percentage>0?"arrow-up-outline":"arrow-down-outline"),t.xp6(1),t.hij(" ",a.filterAsset(e,n.name).history[a.filterAsset(e,n.name).history.length-1].percentage.toFixed(2),"% "),t.xp6(1),t.Tol(0==a.filterAsset(e,n.name).history[a.filterAsset(e,n.name).history.length-1].trend?"text-warning":a.filterAsset(e,n.name).history[a.filterAsset(e,n.name).history.length-1].trend>0?"text-success":"text-danger"),t.xp6(1),t.AsE("",a.currency," ",a.filterAsset(e,n.name).history[a.filterAsset(e,n.name).history.length-1].trend,""),t.xp6(3),t.AsE("",a.currency," ",a.filterAsset(e,n.name).value,""),t.xp6(2),t.hij(" ",t.xi3(20,15,a.filterAsset(e,n.name).lastUpdate,"d MMM y")," ")}}function ae(i,s){1&i&&t._UZ(0,"hr",55)}function oe(i,s){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"h5",41),t._UZ(2,"img",42),t._uU(3),t.qZA(),t.TgZ(4,"div",43),t.TgZ(5,"small"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"div",44),t.TgZ(9,"ul",45),t.YNc(10,ie,21,18,"li",18),t.qZA(),t.qZA(),t.YNc(11,ae,1,0,"hr",46),t.qZA()),2&i){const e=t.oxw(),n=e.$implicit,a=e.index,o=t.oxw(3);t.xp6(2),t.s9C("src",null==n?null:n.icon,t.LSH),t.xp6(1),t.AsE(" ",n.name," (",n.symbol,") "),t.xp6(3),t.HOy(" ",n.name," ",t.lcZ(7,9,"insertStats.balance")," ",n.balance," ",n.symbol,""),t.xp6(4),t.Q6J("ngForOf",o.filterWallets(o.wallets,n.name)),t.xp6(1),t.Q6J("ngIf",a<o.assets.length-1)}}function se(i,s){if(1&i&&(t.TgZ(0,"div",39),t.YNc(1,oe,12,11,"div",20),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",e.balance>0)}}function re(i,s){if(1&i&&(t.TgZ(0,"div",39),t.YNc(1,se,2,1,"div",40),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.assets)}}function le(i,s){if(1&i&&(t.TgZ(0,"div",17),t._UZ(1,"hr"),t.YNc(2,ne,2,1,"div",18),t.YNc(3,re,2,1,"div",19),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.assets),t.xp6(1),t.Q6J("ngIf",e.isResumeAddAssets)}}function ce(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).changeAsset()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(1);t.Q6J("disabled",n.invalid&&!e.validateDate()),t.xp6(1),t.hij(" ",t.lcZ(2,2,"crypto.cryptoModal.operations.stats.next")," ")}}function de(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).save()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.cryptoModal.operations.stats.save")," "))}function pe(i,s){if(1&i&&(t.TgZ(0,"div",56),t.YNc(1,ce,3,4,"button",57),t.YNc(2,de,3,3,"button",58),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.currentIndex!=e.assets.length),t.xp6(1),t.Q6J("ngIf",e.isResumeAddAssets)}}function ge(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).changeAsset()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(1);t.Q6J("disabled",n.invalid&&!e.validateDate()),t.xp6(1),t.hij(" ",t.lcZ(2,2,"crypto.cryptoModal.operations.stats.next")," ")}}function ue(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).save()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.cryptoModal.operations.stats.save")," "))}function he(i,s){if(1&i&&(t.TgZ(0,"div",61),t.YNc(1,ge,3,4,"button",62),t.YNc(2,ue,3,3,"button",63),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.currentIndex!=e.assets.length),t.xp6(1),t.Q6J("ngIf",e.isResumeAddAssets)}}let me=(()=>{class i{constructor(e,n,a,o,r){this.cryptoService=e,this.errorService=n,this.router=a,this.statsService=o,this.logger=r,this.addStats=new T.w0,this.assets=[],this.currency="",this.wallets=[],this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.statsAssetsDays=[],this.currentIndex=0,this.emitAddStats=new t.vpe,this.saveValidation=!1,this.dateValidation=!1,this.dateStats=""}ngOnInit(){this.deleteTradingWallet()}ngOnChanges(e){this.deleteTradingWallet()}deleteTradingWallet(){this.getTodayAsString(),this.wallets&&this.wallets.length>0&&(this.wallets=this.wallets.filter(n=>n.type&&"Holding"==n.type));let e=[];this.wallets.forEach(n=>{n.assets&&n.assets.forEach(a=>{e.includes(a.symbol)||e.push(a.symbol)})}),this.assets=this.assets.filter(n=>e.includes(n.symbol))}filterWallets(e,n){return e.filter(o=>null!=o.assets&&o.assets.length>0?o.assets.find(r=>r.name==n):null)}filterAsset(e,n){return e.assets.find(a=>a.name==n)}changeAsset(){if(this.currentIndex+=1,document.getElementById("action-scheet")?.scrollTo(0,0),this.currentIndex==this.assets.length)return this.confirm(),void(this.isResumeAddAssets=!0);(null==this.assets[this.currentIndex]||0==this.assets[this.currentIndex].balance)&&this.changeAsset()}validateDate(){this.dateValidation=!1;let e=!1,n=this.statsAssetsDays;return n&&n.find(a=>a===this.dateStats)&&(this.dateValidation=!0,e=!0),n&&n.length&&parseInt(n[0].split("-")[0])>parseInt(this.dateStats.split("-")[0])&&(this.dateValidation=!0,e=!0),e}confirm(){let e=this.statsAssetsDays;this.wallets.forEach(n=>{n.assets&&n.assets.forEach(a=>{if(a.balance>0){let o=new S.jk;this.setDataForNewStats(a,e,o),a.newValue=parseFloat("")}})}),this.cryptoService.cryptoDashboard.statsAssetsDays?this.cryptoService.cryptoDashboard.statsAssetsDays.push(this.dateStats):this.cryptoService.cryptoDashboard.statsAssetsDays=[this.dateStats],this.cryptoService.cryptoDashboard.statsAssetsDays.sort(),this.saveValidation=!0}setDataForNewStats(e,n,a){var o,r,c;const p=[];n&&n.length>0&&n.forEach(x=>{p.push(x)}),p.push(this.dateStats),p.sort();let h=p.indexOf(this.dateStats),Z=new S.jk,f=new S.jk;if(f.balance=.001,p[h+1]){(null==Z||(null===(o=e.history)||void 0===o?void 0:o.find(w=>null==w.date)))&&(this.errorService.handleWalletStatsError(),this.router.navigate(["error"])),Z=null===(r=e.history)||void 0===r?void 0:r.find(w=>w.date.toString()===p[h+1]);let x=((Z.balance-(0!=e.newValue?e.newValue:.001))/(0!=e.newValue?e.newValue:.001)*100).toFixed(2);Z.percentage=parseFloat(x)>1e4?1e3:parseFloat(x),Z.trend=parseFloat((Z.balance-e.newValue).toFixed(2))}p[h-1]&&(f=null===(c=e.history)||void 0===c?void 0:c.find(x=>null!=x.date&&x.date.toString()===p[h-1]),null==f&&(f=new S.jk,f.balance=.001));let O=0!=f.balance?((e.newValue-f.balance)/f.balance*100).toFixed(2):"0";a.balance=e.newValue,a.date=new Date(this.dateStats),a.percentage=parseFloat(O)>1e4?1e3:parseFloat(O),a.trend=p.length>1?parseFloat((a.balance-(.001!=f.balance?f.balance:0)).toFixed(2)):0,Z.balance?e.history=[Z,a]:(f.date||(a.percentage=0),e.lastUpdate=a.date,e.value=a.balance,e.history=[a])}save(){this.saveValidation=!1,this.addStats=this.statsService.addStatsData(this.wallets).subscribe(e=>{this.logger.LOG(e.message,"AddCryptoStatsComponent"),this.wallets=e.data,this.emitAddStats.emit(this.wallets)}),this.getTodayAsString(),this.resetForm()}getTodayAsString(){let e=(new Date).toISOString().split("T")[0];this.dateStats=e}resetForm(){this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateValidation=!1,this.dateStats="",this.currentIndex=0}ngOnDestroy(){this.addStats.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(Gt.T),t.Y36(A.F0),t.Y36($t.G),t.Y36(D.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-crypto-stats"]],inputs:{assets:"assets",currency:"currency",wallets:"wallets",isAddStatsSelected:"isAddStatsSelected",isResumeAddAssets:"isResumeAddAssets",statsAssetsDays:"statsAssetsDays",currentIndex:"currentIndex"},outputs:{emitAddStats:"emitAddStats"},features:[t.TTD],decls:8,vars:5,consts:[["type","submit"],["f","ngForm"],["class","card-title",4,"ngIf"],["class","transactions row",4,"ngIf"],["class","addWallet text-end hidden_mobile",4,"ngIf"],[1,"hidden_desktop"],["class","form-group basic",4,"ngIf"],[1,"card-title"],[1,"row"],[1,"col-md-6"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed","float-end","ms-1","me-1","date-form"],[1,"input-wrapper"],["name","date","type","date","id","text4b","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["date1","ngModel"],["class","alert alert-danger mb-1","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","mb-1"],[1,"transactions","row"],[4,"ngFor","ngForOf"],["style","margin-top: -20px",4,"ngIf"],[4,"ngIf"],[1,"card-body",2,"margin-top","-30px","margin-bottom","-20px"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],["id","tot1",1,"h2","font-weight-bold","mb-0"],[1,"input-info"],[1,"col-auto"],["alt","img",1,"image-block","imaged","round-img",3,"src"],[1,"mt-3","mb-0","text-muted","text-sm"],[1,"performancesingle0","float-end"],[1,"text-nowrap","sincetot"],[1,"row",2,"margin-top","-45px"],["class","card-body col-md-4",4,"ngFor","ngForOf"],[1,"card-body","col-md-4"],[1,"form-group","boxed"],["required","","type","number","id","text4b",1,"form-control",3,"name","ngModel","placeholder","ngModelChange"],["balance1","ngModel"],[1,"clear-input"],["name","close-circle","role","img","aria-label","close circle",1,"md","hydrated"],[2,"margin-top","-20px"],["style","margin-top: -20px",4,"ngFor","ngForOf"],[1,"card-title","text-uppercase","text-muted","mb-0","ms-2"],["alt","img",1,"image-block","imaged","round-img","me-1",2,"width","30px !important","height","30px !important","vertical-align","-11px",3,"src"],[1,"input-info","ms-2"],[1,"card"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","mt-1","mb-1"],["style","margin-top: -10px",4,"ngIf"],[1,"item"],[1,"icon-box"],["alt","",2,"border-radius","50%",3,"src"],[1,"in"],[1,"text-small","text-secondary"],[3,"name"],[1,"text-end"],[1,"text-small"],[2,"margin-top","-10px"],[1,"addWallet","text-end","hidden_mobile"],["type","button","class","btn btn-primary me-1",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary me-1 mt-3","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","me-1",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mt-3",3,"click"],[1,"form-group","basic"],["type","button","class","btn btn-primary btn-block btn-lg",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-block btn-lg","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0,1),t.YNc(2,Xt,16,9,"div",2),t.YNc(3,Kt,8,6,"div",2),t.YNc(4,le,4,2,"div",3),t.YNc(5,pe,3,2,"div",4),t.TgZ(6,"div",5),t.YNc(7,he,3,2,"div",6),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.isAddStatsSelected&&!n.isResumeAddAssets),t.xp6(1),t.Q6J("ngIf",n.isResumeAddAssets),t.xp6(1),t.Q6J("ngIf",n.isAddStatsSelected),t.xp6(1),t.Q6J("ngIf",n.isAddStatsSelected),t.xp6(2),t.Q6J("ngIf",n.isAddStatsSelected))},directives:[d._Y,d.JL,d.F,u.O5,d.Fj,d.Q7,d.JJ,d.On,u.sg,d.wV,v.gu],pipes:[_.X$,u.uU],styles:[".round-img[_ngcontent-%COMP%]{margin-top:20px;width:70px;height:70px}.action-sheet-content[_ngcontent-%COMP%]{overflow-x:hidden!important}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}@media screen and (max-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:auto!important}.date-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:7px}}@media screen and (min-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:200px}}"]}),i})();function _e(i,s){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=s.$implicit,n=t.oxw();t.s9C("value",e),t.Q6J("selected",e==n.operationSelect),t.xp6(1),t.hij(" ",e," ")}}function Ze(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().isOperationSel=!0}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("disabled",e.invalid),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.operations.operation.selectType")," ")}}function Ae(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",21),t.TgZ(2,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().isOperationSel=!0}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){t.oxw();const e=t.MAs(4);t.xp6(2),t.Q6J("disabled",e.invalid),t.xp6(1),t.hij(" ",t.lcZ(4,2,"crypto.cryptoModal.operations.operation.selectType")," ")}}function ve(i,s){if(1&i&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&i){const e=s.$implicit,n=t.oxw(2);t.s9C("selected",e.name==n.walletSelect),t.s9C("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function Te(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"div",5),t.TgZ(2,"label",6),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"select",23,8),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().walletSelect=a}),t.TgZ(7,"option",9),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,ve,2,3,"option",24),t.qZA(),t.qZA(),t.TgZ(11,"div",11),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,"crypto.cryptoModal.operations.operation.selectWallet")),t.xp6(2),t.Q6J("ngModel",e.walletSelect),t.xp6(2),t.Q6J("value",e.walletSelect),t.xp6(1),t.hij(" ",t.lcZ(9,8,"crypto.cryptoModal.operations.operation.selectWallet")," "),t.xp6(2),t.Q6J("ngForOf",e.filterWallets),t.xp6(2),t.hij(" ",t.lcZ(13,10,"crypto.cryptoModal.operations.operation.selectWalletDesc")," ")}}function ye(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectWallet()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!e.isWalletPresent()),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.operations.operation.selectWallet")," ")}}function fe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",21),t.TgZ(2,"button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().selectWallet()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("disabled",!e.isWalletPresent()),t.xp6(1),t.hij(" ",t.lcZ(4,2,"crypto.cryptoModal.operations.operation.selectWallet")," ")}}let xe=(()=>{class i{constructor(e){this.router=e,this.wallets=[],this.assets=[],this.operations=l.BX,this.operationSelect="",this.isOperationSel=!1,this.filterWallets=[]}ngOnInit(){}isWalletPresent(){return null!=this.walletSelect}selectOperation(e){let n=e.target.value,a=(0,m.p)(this.wallets);this.filterWallets=n!=l.jw.NEWINVESTMENT&&n!=l.jw.TRANSFER?a.filter(o=>o.type==e.target.value):a}selectWallet(){this.router.navigate(["crypto/operation/"+this.operationSelect+"/"+this.walletSelect+"/"+this.fiat])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-crypto-operation"]],inputs:{wallets:"wallets",assets:"assets",fiat:"fiat"},decls:30,vars:18,consts:[[1,"transactions","row"],[1,"section","mb-2"],["type","submit"],["f","ngForm"],[1,"form-group","boxed"],[1,"input-wrapper"],["for","select4b",1,"label"],["id","operationSelect","name","operationSelect","required","",1,"form-control","custom-select",3,"ngModel","disabled","ngModelChange","change"],["operationSelect1","ngModel"],["selected","","disabled","",3,"value"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"input-info"],[1,"text-end","hidden_mobile"],["class","addWallet d-inline",4,"ngIf"],[1,"hidden_desktop"],[4,"ngIf"],["g","ngForm"],["class","form-group boxed",4,"ngIf"],[3,"value","selected"],[1,"addWallet","d-inline"],["type","button",1,"btn","btn-primary","me-1",3,"disabled","click"],[1,"form-group","basic",2,"margin-bottom","-20px"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],["id","operationSelect","name","operationSelect","required","",1,"form-control","custom-select",3,"ngModel","ngModelChange"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","me-1",3,"disabled","click"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"hr"),t.TgZ(2,"div",1),t.TgZ(3,"form",2,3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"label",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"select",7,8),t.NdJ("ngModelChange",function(o){return n.operationSelect=o})("change",function(o){return n.selectOperation(o)}),t.TgZ(12,"option",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,_e,2,3,"option",10),t.qZA(),t.qZA(),t.TgZ(16,"div",11),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.qZA(),t.TgZ(19,"div",12),t.YNc(20,Ze,4,4,"div",13),t.qZA(),t.TgZ(21,"div",14),t.YNc(22,Ae,5,4,"div",15),t.qZA(),t.qZA(),t.TgZ(23,"form",2,16),t.YNc(25,Te,14,12,"div",17),t.TgZ(26,"div",12),t.YNc(27,ye,4,4,"div",13),t.qZA(),t.TgZ(28,"div",14),t.YNc(29,fe,5,4,"div",15),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.Oqu(t.lcZ(9,12,"crypto.cryptoModal.operations.operation.selectOperation")),t.xp6(2),t.Q6J("ngModel",n.operationSelect)("disabled",n.isOperationSel&&""!=n.operationSelect),t.xp6(2),t.Q6J("value",n.operationSelect),t.xp6(1),t.hij(" ",t.lcZ(14,14,"crypto.cryptoModal.operations.operation.selectOperation")," "),t.xp6(2),t.Q6J("ngForOf",n.operations),t.xp6(2),t.hij(" ",t.lcZ(18,16,"crypto.cryptoModal.operations.operation.selectDescription")," "),t.xp6(3),t.Q6J("ngIf",!n.isOperationSel),t.xp6(2),t.Q6J("ngIf",!n.isOperationSel),t.xp6(3),t.Q6J("ngIf",n.isOperationSel),t.xp6(2),t.Q6J("ngIf",n.isOperationSel),t.xp6(2),t.Q6J("ngIf",n.isOperationSel))},directives:[d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,u.sg,u.O5],pipes:[_.X$],styles:[""]}),i})();function be(i,s){1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.info.operation.title")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"crypto.cryptoModal.info.operation.details")," "))}function Ce(i,s){1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p",10),t.ALo(5,"translate"),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.info.newInvestment.title")," "),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,4,"crypto.cryptoModal.info.newInvestment.details"),t.oJD))}function qe(i,s){1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p",10),t.ALo(5,"translate"),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.info.holding.title")," "),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,4,"crypto.cryptoModal.info.holding.details"),t.oJD))}function we(i,s){1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p",10),t.ALo(5,"translate"),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.info.trading.title")," "),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,4,"crypto.cryptoModal.info.trading.details"),t.oJD))}function Oe(i,s){1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p",10),t.ALo(5,"translate"),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.info.closeOperation.title")," "),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,4,"crypto.cryptoModal.info.closeOperation.details"),t.oJD))}function Me(i,s){1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p",10),t.ALo(5,"translate"),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.info.transfer.title")," "),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,4,"crypto.cryptoModal.info.transfer.details"),t.oJD))}function De(i,s){if(1&i&&(t.TgZ(0,"a",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw();t.Q2q("data-bs-target","#",e.modalConstant.ADDOPERATIONS,""),t.xp6(1),t.Oqu(t.lcZ(2,2,"crypto.cryptoModal.info.close"))}}function Se(i,s){if(1&i&&(t.TgZ(0,"a",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw();t.Q2q("data-bs-target","#",e.modalConstant.CLOSEOPERATION,""),t.xp6(1),t.Oqu(t.lcZ(2,2,"crypto.cryptoModal.info.close"))}}function Ue(i,s){1&i&&(t.TgZ(0,"a",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"crypto.cryptoModal.info.close")))}let G=(()=>{class i{constructor(){this.modalId="",this.isOperation=!1,this.isClosingOperation=!1,this.operationType="",this.operation=l.BX}get modalConstant(){return l.Dq}get operationTypeConstant(){return l.jw}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-info-modal"]],inputs:{modalId:"modalId",isOperation:"isOperation",isClosingOperation:"isClosingOperation",operationType:"operationType"},decls:16,vars:10,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-body"],[1,"action-sheet-content"],[1,"iconbox","text-warning"],["name","alert-circle"],["class","text-center",4,"ngIf"],["class","btn btn-primary btn-lg btn-block","data-bs-toggle","modal",4,"ngIf"],[1,"text-center"],[3,"innerHTML"],["data-bs-toggle","modal",1,"btn","btn-primary","btn-lg","btn-block"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"ion-icon",6),t.qZA(),t.YNc(7,be,7,6,"div",7),t.YNc(8,Ce,6,6,"div",7),t.YNc(9,qe,6,6,"div",7),t.YNc(10,we,6,6,"div",7),t.YNc(11,Oe,6,6,"div",7),t.YNc(12,Me,6,6,"div",7),t.YNc(13,De,3,4,"a",8),t.YNc(14,Se,3,4,"a",8),t.YNc(15,Ue,3,3,"a",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.s9C("id",n.modalId),t.xp6(7),t.Q6J("ngIf",n.isOperation),t.xp6(1),t.Q6J("ngIf",n.operationType==n.operationTypeConstant.NEWINVESTMENT),t.xp6(1),t.Q6J("ngIf",n.operationType==n.operationTypeConstant.HOLDING),t.xp6(1),t.Q6J("ngIf",n.operationType==n.operationTypeConstant.TRADING),t.xp6(1),t.Q6J("ngIf",n.operationType==n.operationTypeConstant.CLOSEOPERATION),t.xp6(1),t.Q6J("ngIf",n.operationType==n.operationTypeConstant.TRANSFER),t.xp6(1),t.Q6J("ngIf",n.isOperation&&!n.isClosingOperation),t.xp6(1),t.Q6J("ngIf",n.isClosingOperation&&!n.isOperation),t.xp6(1),t.Q6J("ngIf",!n.isOperation&&!n.isClosingOperation))},directives:[v.gu,u.O5],pipes:[_.X$],styles:[""]}),i})();function Ee(i,s){1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"h2",17),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p"),t.TgZ(5,"small"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"crypto.cryptoModal.operations.title")," "),t.xp6(4),t.Oqu(t.lcZ(7,4,"crypto.cryptoModal.operations.subTitle")))}function Le(i,s){if(1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"div",18),t.TgZ(2,"div",19),t.TgZ(3,"h2",17),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"ion-icon",20),t.TgZ(7,"p"),t.TgZ(8,"small"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,3,"crypto.cryptoModal.operations.operation.title")," "),t.xp6(2),t.Q2q("data-bs-target","#",e.modalConstant.INFO,""),t.xp6(3),t.Oqu(t.lcZ(10,5,"crypto.cryptoModal.operations.operation.subTitle"))}}function Ie(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().addStatsClick()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",22),t.TgZ(6,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().addOperationClick()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.qZA()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,2,"crypto.cryptoModal.operations.stats.title")," "),t.xp6(4),t.hij(" ",t.lcZ(8,4,"crypto.cryptoModal.operations.operation.title")," "))}function ke(i,s){if(1&i&&t._UZ(0,"app-add-crypto-operation",24),2&i){const e=t.oxw();t.Q6J("wallets",e.wallets)("fiat",e.currency)("assets",e.assets)}}function Ne(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",18),t.TgZ(1,"div",25),t.TgZ(2,"div",26),t.TgZ(3,"button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().addStatsClick()}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",25),t.TgZ(7,"div",26),t.TgZ(8,"button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().addOperationClick()}),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,2,"crypto.cryptoModal.operations.stats.title")," "),t.xp6(5),t.hij(" ",t.lcZ(10,4,"crypto.cryptoModal.operations.operation.title")," "))}let R=(()=>{class i{constructor(){this.modalId="",this.wallets=[],this.assets=[],this.currency="",this.statsAssetsDays=[],this.emitAddStats=new t.vpe,this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateStats="",this.currentIndex=0,this.isOperationSelected=!1}get modalConstant(){return l.Dq}ngOnInit(){}addStatsClick(){this.isAddStatsSelected=!0;let e=new S.jk;e.balance=0,e.date=new Date,e.percentage=0,e.trend=0,this.assets.forEach(n=>{(null==n.history||0==n.history.length)&&(n.history=[e])})}addOperationClick(){this.isOperationSelected=!0}addStats(e){this.resetForm(),this.emitAddStats.emit(e)}resetForm(){this.isAddStatsSelected=!1,this.isResumeAddAssets=!1,this.saveValidation=!1,this.dateStats="",this.currentIndex=0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-operations-modal"]],inputs:{modalId:"modalId",wallets:"wallets",assets:"assets",currency:"currency",statsAssetsDays:"statsAssetsDays"},outputs:{emitAddStats:"emitAddStats"},decls:19,vars:18,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["type","submit"],["f","ngForm"],["id","action-scheet",1,"action-sheet-content"],["class","card-title",4,"ngIf"],["class","text-end hidden_mobile",4,"ngIf"],[3,"statsAssetsDays","assets","currency","currentIndex","isAddStatsSelected","isResumeAddAssets","wallets","emitAddStats"],[3,"wallets","fiat","assets",4,"ngIf"],[1,"hidden_desktop"],["class","row",4,"ngIf"],[3,"isOperation","modalId"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"row"],[1,"col-md-12"],["name","alert-circle","data-bs-toggle","modal",2,"width","20px","height","20px","vertical-align","-5px"],[1,"text-end","hidden_mobile"],[1,"addWallet","d-inline"],["type","button",1,"btn","btn-primary","me-1","mb-1","hover-btn",3,"click"],[3,"wallets","fiat","assets"],[1,"col-6"],[1,"form-group","basic"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h5",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"form",6,7),t.TgZ(10,"div",8),t.YNc(11,Ee,8,6,"div",9),t.YNc(12,Le,11,7,"div",9),t.YNc(13,Ie,9,6,"div",10),t.TgZ(14,"app-add-crypto-stats",11),t.NdJ("emitAddStats",function(o){return n.addStats(o)}),t.qZA(),t.YNc(15,ke,1,3,"app-add-crypto-operation",12),t.TgZ(16,"div",13),t.YNc(17,Ne,11,6,"div",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(18,"app-info-modal",15)),2&e&&(t.s9C("id",n.modalId),t.xp6(5),t.hij(" ",t.lcZ(6,16,"crypto.cryptoModal.operations.title")," "),t.xp6(6),t.Q6J("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),t.xp6(1),t.Q6J("ngIf",n.isOperationSelected),t.xp6(1),t.Q6J("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),t.xp6(1),t.Q6J("statsAssetsDays",n.statsAssetsDays)("assets",n.assets)("currency",n.currency)("currentIndex",n.currentIndex)("isAddStatsSelected",n.isAddStatsSelected)("isResumeAddAssets",n.isResumeAddAssets)("wallets",n.wallets),t.xp6(1),t.Q6J("ngIf",n.isOperationSelected),t.xp6(2),t.Q6J("ngIf",!n.isAddStatsSelected&&!n.isOperationSelected),t.xp6(1),t.Q6J("isOperation",!0)("modalId",n.modalConstant.INFO))},directives:[d._Y,d.JL,d.F,u.O5,v.gu,me,xe,G],pipes:[_.X$],styles:[".round-img[_ngcontent-%COMP%]{margin-top:20px;width:70px;height:70px}.action-sheet-content[_ngcontent-%COMP%]{overflow-x:hidden!important}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}@media screen and (max-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:auto!important}.date-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:7px}}@media screen and (min-width: 780px){.date-form[_ngcontent-%COMP%]{max-width:200px}}"]}),i})();const Je=["tradingViewListCrypto"],Pe=["tradingViewPrices"],Ye=["tradingViewPricesScroll"],Fe=["selectGraph"],Qe=["dayGraph"];function je(i,s){1&i&&t._UZ(0,"ion-icon",87)}function Re(i,s){1&i&&t._UZ(0,"ion-icon",88)}function He(i,s){1&i&&t._UZ(0,"app-loading-card")}function Be(i,s){if(1&i&&t._UZ(0,"app-transaction-card",90),2&i){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("assets",e)("currency",n.cryptoDashboard.currency)("hiddenAmount",n.hidden)}}function We(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Be,1,3,"app-transaction-card",89),t.qZA()),2&i){const e=s.index;t.xp6(1),t.Q6J("ngIf",e<4)}}function Ve(i,s){if(1&i&&(t.TgZ(0,"option",91),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.split("-")[0]+e.split("-")[1]),t.xp6(1),t.hij(" ",e," ")}}function Ge(i,s){1&i&&t._UZ(0,"app-loading-card")}const rt=function(){return[1,2,3]},$e=function(i){return["/crypto/market-data",i]};let ze=(()=>{class i{constructor(e,n,a,o,r){this.screenService=e,this._renderer2=n,this.cryptoService=a,this.logger=o,this.appService=r,this.getDashboardSubscribe=new T.w0,this.marketDataSubscribe=new T.w0,this.filterMarketData=[],this.amount="******",this.hidden=!1,this.environment=y.N,this.selectedSymbol="BTCUSDT",this.symbolList=[],this.cryptoDashboard=new M,this.assets=[]}get modalConstant(){return l.Dq}ngOnInit(){this.getDashboard(),this.screenService.showFooter()}ngAfterViewInit(){this.appendListGraph(),this.appendPrices(),this.appendSelectGraph(this.selectedSymbol),this.appendPricesScroll(),this.appendDayGraph()}getDashboard(){this.getDashboardSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(e=>{this.cryptoService.cache.cacheCryptoDashboardData(e),this.logger.LOG(e.message,"CryptoDashboardComponent"),this.cryptoDashboard=e.data,this.cryptoService.cryptoDashboard=e.data,this.assets=e.data.assets,this.cryptoWallet=this.cryptoDashboard.wallets.filter(n=>"Crypto"==n.category),this.getCoinForGraph(),this.getMarketData()}),this.isWalletBalanceHidden()}vibrate(){N.c.vibrate()}getCoinForGraph(){this.symbolList=[];let e=(0,m.p)(this.assets);e=e.filter(n=>n.balance>0&&"USDT"!=n.symbol),e.forEach(n=>this.symbolList.push(n.symbol+"-USDT")),0==this.symbolList.length&&this.symbolList.push("BTC-USDT")}onChange(e){var n;null===(n=document.getElementById("selectSymbol"))||void 0===n||n.remove(),this.appendSelectGraph(e)}appendListGraph(){var e;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",n.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "defaultColumn": "overview",\n      "screener_type": "crypto_mkt",\n      "displayCurrency": "USD",\n      "colorTheme": "dark",\n      "locale": "it",\n      "isTransparent": true\n    }',null===(e=this.tradingViewListCrypto)||void 0===e||e.nativeElement.appendChild(n)}appendPrices(){var e;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-tickers.js",n.text='\n    {\n      "symbols": [\n        {\n          "proName": "BINANCE:BTCUSDT",\n          "title": "Bitcoin"\n        },\n        {\n          "proName": "BINANCE:ETHUSDT",\n          "title": "Ethereum"\n        },\n        {\n          "proName": "BINANCE:BNBUSDT",\n          "title": "Binance Coin"\n        },\n        {\n          "proName": "CROUSDT",\n          "title": "Crypto.com"\n        },\n        {\n          "proName": "BINANCE:SANDUSDT",\n          "title": "Sandbox"\n        },\n        {\n          "proName": "FX_IDC:EURUSD",\n          "title": "EUR/USD"\n        }\n      ],\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "showSymbolLogo": true,\n      "locale": "it"\n    }',null===(e=this.tradingViewPrices)||void 0===e||e.nativeElement.appendChild(n)}appendPricesScroll(){var e;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",n.text='\n    {\n      "symbols": [\n        {\n          "proName": "FX_IDC:EURUSD",\n          "title": "EUR/USD"\n        },\n        {\n          "description": "Bitcoin",\n          "proName": "BINANCE:BTCUSD"\n        },\n        {\n          "description": "Ethereum",\n          "proName": "BINANCE:ETHUSD"\n        },\n        {\n          "description": "Crypto.com",\n          "proName": "COINBASE:CROUSD"\n        },\n        {\n          "description": "Binance Coin",\n          "proName": "BINANCE:BNBUSD"\n        },\n        {\n          "description": "Sandbox",\n          "proName": "COINBASE:SANDUSD"\n        }\n      ],\n      "showSymbolLogo": true,\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "displayMode": "compact",\n      "locale": "it"\n    }',null===(e=this.tradingViewPricesScroll)||void 0===e||e.nativeElement.appendChild(n)}appendDayGraph(){var e;let n=this._renderer2.createElement("div");n.style.height="100%",n.id="selectSymbol1";let a=this._renderer2.createElement("script");a.type="text/javascript",a.src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js",a.text='\n      {\n        "container_id": "test",\n        "symbol": "$SYMBOL$",\n        "width": "100%",\n        "height": "100%",\n        "locale": "it",\n        "dateRange": "1D",\n        "colorTheme": "dark",\n        "isTransparent": true,\n        "autosize": true,\n        "largeChartUrl": ""\n      }'.replace("$SYMBOL$","BTCUSDT"),this._renderer2.appendChild(n,a),this._renderer2.appendChild(null===(e=this.dayGraph)||void 0===e?void 0:e.nativeElement,n)}appendSelectGraph(e){var n;let a=this._renderer2.createElement("div");a.style.height="100%",a.id="selectSymbol";let o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js",o.text='\n    {\n      "symbols": [\n        [\n          "$SYMBOL$|7D"\n        ]\n      ],\n      "chartOnly": false,\n      "width": "100%",\n      "height": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "autosize": true,\n      "showVolume": false,\n      "showMA": false,\n      "hideDateRanges": false,\n      "hideMarketStatus": false,\n      "hideSymbolLogo": false,\n      "scalePosition": "right",\n      "scaleMode": "Normal",\n      "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",\n      "fontSize": "10",\n      "noTimeScale": false,\n      "valuesTracking": "1",\n      "changeMode": "price-and-percent",\n      "chartType": "area",\n      "maLineColor": "#2962FF",\n      "maLineWidth": 1,\n      "maLength": 9,\n      "backgroundColor": "rgba(19, 23, 34, 0)",\n      "lineWidth": 2,\n      "lineType": 0,\n      "dateRanges": [\n        "1d|1",\n        "1w|15",\n        "1m|30",\n        "3m|60",\n        "12m|1D",\n        "60m|1W",\n        "all|1M"\n      ]\n    }'.replace("$SYMBOL$",e),this._renderer2.appendChild(a,o),this._renderer2.appendChild(null===(n=this.selectGraph)||void 0===n?void 0:n.nativeElement,a)}saveWallet(e){this.getDashboard()}hiddenShowAmount(){this.hidden=!this.hidden,localStorage.setItem(l.Vs.HIDDENAMOUNT,this.hidden.toString())}isWalletBalanceHidden(){let e=JSON.parse(localStorage.getItem(l.Vs.HIDDENAMOUNT));null!=e&&(this.hidden=e)}getMarketData(){this.marketDataSubscribe=this.cryptoService.getCryptoPriceData(this.cryptoDashboard.currency).subscribe(e=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(e),this.cryptoDashboard.lastUpdate=e.data[0].updateDate,this.filterMarketData=e.data})}calculateTrend(e,n){return parseFloat((e-e/(1+n/100)).toFixed(2))}ngOnDestroy(){this.getDashboardSubscribe.unsubscribe(),this.marketDataSubscribe.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(E.H),t.Y36(t.Qsj),t.Y36(q),t.Y36(D.m),t.Y36(K.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crypto-dashboard"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Je,5),t.Gf(Pe,5),t.Gf(Ye,5),t.Gf(Fe,5),t.Gf(Qe,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.tradingViewListCrypto=a.first),t.iGM(a=t.CRH())&&(n.tradingViewPrices=a.first),t.iGM(a=t.CRH())&&(n.tradingViewPricesScroll=a.first),t.iGM(a=t.CRH())&&(n.selectGraph=a.first),t.iGM(a=t.CRH())&&(n.dayGraph=a.first)}},decls:173,vars:126,consts:[[1,"mx-auto","section-width"],[3,"routerLinks"],["id","appCapsule"],[1,"title-section"],[1,"title","hidden_mobile"],[1,"row","mx-auto"],[1,"col-xl-4","col-md-6"],[1,"section","mt-2"],[1,"card","border_round","d-flex",2,"margin","-10px"],["alt","media",1,"cover","imgCover",3,"src"],[1,"card-body"],[1,"d-flex","float-end"],["width","100px","alt","","srcset","",3,"src"],[1,"clickable",3,"click"],[1,"card-title"],["name","eye-outline","style","\n                      height: 20px;\n                      width: 20px;\n                      align-self: center;\n                      position: absolute;\n                      top: 3px;\n                      color: aliceblue;\n                    ","class","ps-1",4,"ngIf"],["name","eye-off-outline","style","\n                      height: 20px;\n                      width: 20px;\n                      align-self: center;\n                      position: absolute;\n                      top: 3px;\n                      color: aliceblue;\n                    ","class","ps-1",4,"ngIf"],[1,"card-text","fs-3","balance","load-text"],[1,"hidden"],[1,"load-text",2,"margin-top","-15px"],[1,"card-text","load-text",2,"margin-top","-15px"],[1,"row","text-center",2,"height","25px"],["data-bs-toggle","modal",1,"col-6",2,"position","absolute","left","0px","z-index","99","pointer-events","visible","cursor","pointer"],["name","add-circle",1,"icon-size","icon-color"],[2,"vertical-align","-1px",3,"click"],["routerLink","/crypto/asset",1,"col-6","hidden_desktop",2,"position","absolute","right","0px","border-left","solid 1px","z-index","99","pointer-events","visible","cursor","pointer",3,"click"],["name","albums-outline",1,"icon-size","icon-color"],[2,"vertical-align","-1px","color","#958d9e"],["data-bs-toggle","modal",1,"col-6","hidden_mobile",2,"position","absolute","right","0px","border-left","solid 1px","z-index","99","pointer-events","visible","cursor","pointer"],[1,"hidden_desktop","mt-3","text-center"],[1,"row"],[1,"col-3",2,"margin-left","-1px"],["data-bs-toggle","modal",1,"inline-block","quick-action","clickable"],[1,"user-card"],[1,"icon-wrapper","bg-danger"],["name","duplicate"],[1,"title_text"],[1,"icon-wrapper","bg-success"],["name","swap-horizontal"],["routerLink","/crypto/resume",1,"inline-block","quick-action"],[1,"icon-wrapper","bg-warning"],["name","bar-chart"],["routerLink","/settings",1,"inline-block","quick-action"],[1,"icon-wrapper",2,"background","#337ab7"],["name","settings",2,"color","aliceblue"],[1,"section","mt-1","mb-1","hidden_desktop"],[1,"card"],[1,"tradingview-widget-container"],[1,"tradingview-widget-container__widget"],["tradingViewPricesScroll",""],[1,"section","stats-section","col-xl-5"],[1,"row","mt-1"],[1,"col-6"],[3,"title","value"],[1,"row","mt-2"],[1,"section","col-12","col-md-3","section-performance","mx-auto"],[1,"section-heading"],[1,"card","loading-hidden",2,"margin-top","-30px"],[1,"card-body","text-center","mx-auto"],["dayGraph",""],[1,"section","mt-5","col-xl-6"],[1,"title","ms-2"],["routerLink","/crypto/asset",1,"link"],[1,"transactions"],[4,"ngFor","ngForOf"],[1,"col-xl-6"],[1,"section","mt-4"],[1,"title"],[1,"form-group","boxed",2,"width","150px","margin-bottom","-10px","margin-top","-20px"],[1,"input-wrapper"],[1,"form-control","custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card",2,"margin-left","-10px","margin-right","-10px"],[1,"card-body",2,"height","380px"],[2,"height","360px"],["selectGraph",""],[1,"col-12"],["tradingViewPrices",""],[1,"section","mt-3","col-12"],[1,"link","me-2",3,"routerLink"],[1,"transactions","marketData"],[3,"filterMarketData","limit"],[1,"appFooter","fixed"],[1,"footer-title"],[3,"modalId","isCrypto","emitAddWallet"],[3,"cryptoCurrency","modalId","wallets","emitAddAsset"],[3,"modalId","wallets","assets","currency","statsAssetsDays","emitAddStats"],["name","eye-outline",1,"ps-1",2,"height","20px","width","20px","align-self","center","position","absolute","top","3px","color","aliceblue"],["name","eye-off-outline",1,"ps-1",2,"height","20px","width","20px","align-self","center","position","absolute","top","3px","color","aliceblue"],[3,"assets","currency","hiddenAmount",4,"ngIf"],[3,"assets","currency","hiddenAmount"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-crypto-header",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t.TgZ(10,"div",8),t._UZ(11,"img",9),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t._UZ(14,"img",12),t.qZA(),t.TgZ(15,"div",13),t.NdJ("click",function(){return n.hiddenShowAmount()}),t.TgZ(16,"p",14),t._uU(17),t.ALo(18,"translate"),t.YNc(19,je,1,0,"ion-icon",15),t.YNc(20,Re,1,0,"ion-icon",16),t.qZA(),t.qZA(),t.TgZ(21,"h5",17),t._uU(22),t.TgZ(23,"small",18),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"p",19),t._uU(26),t.qZA(),t.TgZ(27,"p",20),t.TgZ(28,"small"),t._uU(29),t.ALo(30,"translate"),t.ALo(31,"date"),t.qZA(),t.qZA(),t._UZ(32,"hr"),t.TgZ(33,"div",21),t.TgZ(34,"div",22),t._UZ(35,"ion-icon",23),t.TgZ(36,"a",24),t.NdJ("click",function(){return n.vibrate()}),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.qZA(),t.TgZ(39,"div",25),t.NdJ("click",function(){return n.vibrate()}),t._UZ(40,"ion-icon",26),t.TgZ(41,"a",27),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.qZA(),t.TgZ(44,"div",28),t._UZ(45,"ion-icon",23),t.TgZ(46,"a",27),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",29),t.TgZ(50,"div",30),t.TgZ(51,"div",31),t.TgZ(52,"a",32),t.TgZ(53,"div",33),t.TgZ(54,"div",34),t._UZ(55,"ion-icon",35),t.qZA(),t.TgZ(56,"strong",36),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(59,"div",31),t.TgZ(60,"a",32),t.TgZ(61,"div",33),t.TgZ(62,"div",37),t._UZ(63,"ion-icon",38),t.qZA(),t.TgZ(64,"strong",36),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(67,"div",31),t.TgZ(68,"a",39),t.TgZ(69,"div",33),t.TgZ(70,"div",40),t._UZ(71,"ion-icon",41),t.qZA(),t.TgZ(72,"strong"),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(75,"div",31),t.TgZ(76,"a",42),t.TgZ(77,"div",33),t.TgZ(78,"div",43),t._UZ(79,"ion-icon",44),t.qZA(),t.TgZ(80,"strong"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",45),t.TgZ(84,"div",46),t.TgZ(85,"div",10),t.TgZ(86,"div",47),t._UZ(87,"div",48),t._UZ(88,"div",null,49),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(90,"div",50),t.TgZ(91,"div",51),t.TgZ(92,"div",52),t._UZ(93,"app-stats-card",53),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"div",52),t._UZ(96,"app-stats-card",53),t.ALo(97,"translate"),t.qZA(),t.qZA(),t.TgZ(98,"div",54),t.TgZ(99,"div",52),t._UZ(100,"app-stats-card",53),t.ALo(101,"translate"),t.ALo(102,"date"),t.qZA(),t.TgZ(103,"div",52),t._UZ(104,"app-stats-card",53),t.ALo(105,"translate"),t.ALo(106,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(107,"div",55),t.TgZ(108,"div",56),t.TgZ(109,"p"),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.qZA(),t.TgZ(112,"div",57),t.TgZ(113,"div",58),t.TgZ(114,"div",47),t._UZ(115,"div",48),t._UZ(116,"div",null,59),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",30),t.TgZ(119,"div",60),t.TgZ(120,"div",56),t.TgZ(121,"h2",61),t._uU(122),t.ALo(123,"translate"),t.qZA(),t.TgZ(124,"a",62),t._uU(125),t.ALo(126,"translate"),t.qZA(),t.qZA(),t.TgZ(127,"div",63),t.YNc(128,He,1,0,"app-loading-card",64),t.YNc(129,We,2,1,"div",64),t.qZA(),t.qZA(),t.TgZ(130,"div",65),t.TgZ(131,"div",66),t.TgZ(132,"div",56),t.TgZ(133,"h2",67),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"div",68),t.TgZ(137,"div",69),t.TgZ(138,"select",70),t.NdJ("ngModelChange",function(o){return n.onChange(o)}),t.YNc(139,Ve,2,2,"option",71),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(140,"div",72),t.TgZ(141,"div",73),t.TgZ(142,"div",47),t._UZ(143,"div",48),t._UZ(144,"div",74,75),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(146,"div",30),t.TgZ(147,"div",76),t.TgZ(148,"div",66),t.TgZ(149,"div",72),t.TgZ(150,"div",10),t.TgZ(151,"div",47),t._UZ(152,"div",48),t._UZ(153,"div",null,77),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(155,"div",78),t.TgZ(156,"div",56),t.TgZ(157,"h2",61),t._uU(158),t.ALo(159,"translate"),t.qZA(),t.TgZ(160,"a",79),t._uU(161),t.ALo(162,"translate"),t.qZA(),t.qZA(),t.TgZ(163,"div",80),t.YNc(164,Ge,1,0,"app-loading-card",64),t._UZ(165,"app-market-data-table",81),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(166,"div",82),t.TgZ(167,"div",83),t._uU(168),t.ALo(169,"translate"),t.qZA(),t.qZA(),t.TgZ(170,"app-add-wallet",84),t.NdJ("emitAddWallet",function(o){return n.saveWallet(o)}),t.qZA(),t.TgZ(171,"app-add-asset-modal",85),t.NdJ("emitAddAsset",function(o){return n.saveWallet(o)}),t.qZA(),t.TgZ(172,"app-operations-modal",86),t.NdJ("emitAddStats",function(){return n.getDashboard()}),t.qZA()),2&e&&(t.xp6(1),t.Q6J("routerLinks",""),t.xp6(4),t.hij(" ",t.lcZ(6,71,"crypto.dashboard.title")," "),t.xp6(6),t.MGl("src","",n.environment.baseUrlHeader,"assets/images/crypto/card.svg",t.LSH),t.xp6(3),t.MGl("src","",n.environment.baseUrlHeader,"assets/images/crypto/Bitcoin-icon.png",t.LSH),t.xp6(3),t.hij(" ",t.lcZ(18,73,"crypto.dashboard.cardRes.title")," "),t.xp6(2),t.Q6J("ngIf",!n.hidden),t.xp6(1),t.Q6J("ngIf",n.hidden),t.xp6(2),t.hij(" ",n.hidden?n.amount:n.cryptoDashboard.balance," "),t.xp6(2),t.Oqu(n.cryptoDashboard.currency),t.xp6(2),t.hij(" ",n.hidden?n.amount:n.cryptoDashboard.btcBalance," BTC "),t.xp6(3),t.AsE("",t.lcZ(30,75,"crypto.dashboard.cardRes.lastUpdate")," ",t.xi3(31,77,n.cryptoDashboard.lastUpdate,"d MMM y HH:mm"),""),t.xp6(5),t.Q2q("data-bs-target","#",n.modalConstant.ADDASSET,""),t.xp6(3),t.Oqu(t.lcZ(38,80,"crypto.dashboard.cardRes.opt1")),t.xp6(5),t.Oqu(t.lcZ(43,82,"crypto.dashboard.cardRes.opt2")),t.xp6(2),t.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),t.xp6(3),t.Oqu(t.lcZ(48,84,"crypto.dashboard.cardRes.opt3")),t.xp6(5),t.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),t.xp6(5),t.Oqu(t.lcZ(58,86,"crypto.dashboard.mobileBtn.opt1")),t.xp6(3),t.Q2q("data-bs-target","#",n.modalConstant.ADDOPERATIONS,""),t.xp6(5),t.Oqu(t.lcZ(66,88,"crypto.dashboard.mobileBtn.opt2")),t.xp6(8),t.Oqu(t.lcZ(74,90,"crypto.dashboard.mobileBtn.opt3")),t.xp6(8),t.Oqu(t.lcZ(82,92,"crypto.dashboard.mobileBtn.opt4")),t.xp6(12),t.MGl("value","<h5 class='card-text fs-3 m-0'>",(n.hidden?n.amount:n.cryptoDashboard.holdingLong.balance).toString()+" <small>"+n.cryptoDashboard.currency.toString()+"</small></h5>","\n              "),t.Q6J("title",t.lcZ(94,94,"crypto.dashboard.performanceCard.holding")),t.xp6(3),t.Tol("date"),t.s9C("title",t.lcZ(97,96,"crypto.dashboard.performanceCard.trading")),t.hYB("value","<h5 class='card-text fs-3 m-0'>\n                ",n.hidden?n.amount:n.cryptoDashboard.trading.balance,"\n                <small>",n.cryptoDashboard.currency,"</small>\n              </h5>"),t.xp6(4),t.Tol(0==n.cryptoDashboard.holdingLong.performance?"text-warning":n.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger"),t.hYB("title","",t.lcZ(101,98,"crypto.dashboard.performanceCard.lastUpdate"),"\n                ",t.xi3(102,100,n.cryptoDashboard.holdingLong.lastUpdate,"d MMM y"),""),t.FAE("value","",n.hidden?n.amount:n.calculateTrend(n.cryptoDashboard.holdingLong.balance,n.cryptoDashboard.holdingLong.performance)+" "+n.cryptoDashboard.currency,"\n              <span class='badge align-top ",0==n.cryptoDashboard.holdingLong.performance?"badge-warning":n.cryptoDashboard.holdingLong.performance>0?"badge-success":"badge-danger","'\n            >\n              <ion-icon\n                name='",n.cryptoDashboard.holdingLong.performance>0?"arrow-up-outline":"arrow-down-outline","'\n              ></ion-icon>\n              ",n.cryptoDashboard.holdingLong.performance,"%\n            </span>"),t.xp6(4),t.Tol(0==n.cryptoDashboard.trading.performance?"text-warning":n.cryptoDashboard.trading.performance>0?"text-success":"text-danger"),t.hYB("title","",t.lcZ(105,103,"crypto.dashboard.performanceCard.lastUpdate"),"\n                ",t.xi3(106,105,n.cryptoDashboard.trading.lastUpdate,"d MMM y"),""),t.FAE("value","",n.hidden?n.amount:n.calculateTrend(n.cryptoDashboard.trading.balance,n.cryptoDashboard.trading.performance)+" "+n.cryptoDashboard.currency,"\n              <span class='badge align-top ",0==n.cryptoDashboard.trading.performance?"badge-warning":n.cryptoDashboard.trading.performance>0?"badge-success":"badge-danger","'\n            >\n              <ion-icon\n                name='",n.cryptoDashboard.trading.performance>0?"arrow-up-outline":"arrow-down-outline","'\n              ></ion-icon>\n              ",n.cryptoDashboard.trading.performance,"%\n            </span>"),t.xp6(6),t.hij(" ",t.lcZ(111,108,"crypto.dashboard.performanceCard.title")," "),t.xp6(12),t.hij(" ",t.lcZ(123,110,"crypto.dashboard.assetsCard.title")," "),t.xp6(3),t.Oqu(t.lcZ(126,112,"crypto.dashboard.assetsCard.view")),t.xp6(3),t.Q6J("ngForOf",t.DdM(122,rt)),t.xp6(1),t.Q6J("ngForOf",n.assets),t.xp6(5),t.hij(" ",t.lcZ(135,114,"crypto.dashboard.assetsCard.assetGraph")," "),t.xp6(4),t.Q6J("ngModel",n.selectedSymbol),t.xp6(1),t.Q6J("ngForOf",n.symbolList),t.xp6(19),t.hij(" ",t.lcZ(159,116,"crypto.dashboard.marketData.title")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(123,$e,n.cryptoDashboard.currency)),t.xp6(1),t.Oqu(t.lcZ(162,118,"crypto.dashboard.marketData.view")),t.xp6(3),t.Q6J("ngForOf",t.DdM(125,rt)),t.xp6(1),t.Q6J("filterMarketData",n.filterMarketData)("limit",15),t.xp6(3),t.hij(" ",t.lcZ(169,120,"copyright")," "),t.xp6(2),t.Q6J("modalId",n.modalConstant.ADDWALLET)("isCrypto",!0),t.xp6(1),t.Q6J("cryptoCurrency",n.cryptoDashboard.currency)("modalId",n.modalConstant.ADDASSET)("wallets",n.cryptoWallet),t.xp6(1),t.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoDashboard.wallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},directives:[L,u.O5,v.gu,A.rH,v.YI,A.yS,v.Fo,Ot.v,u.sg,Mt.o,et.s,d.EJ,d.JJ,d.On,d.YN,d.Kr,nt,it.Z,st,R],pipes:[_.X$,u.uU],styles:[".cover[_ngcontent-%COMP%]{height:100%;inset:0;position:absolute;border-radius:20px}.imgCover[_ngcontent-%COMP%]{display:block;object-fit:cover;width:100%}.icon-size[_ngcontent-%COMP%]{height:30px;width:30px;margin-top:-10px;margin-bottom:-10px;margin-right:10px}.icon-color[_ngcontent-%COMP%]{color:#5a75ff}.badge[_ngcontent-%COMP%]{margin-top:-10px}.w50[_ngcontent-%COMP%]{max-width:50%!important}@media screen and (max-width: 580px){.line[_ngcontent-%COMP%]{border-left:none!important}.line[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .line[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:0!important}}.statics[_ngcontent-%COMP%]{width:max-content;align-items:center;align-self:center;text-align:center}.card-body[_ngcontent-%COMP%]{width:100%}.line[_ngcontent-%COMP%]{border-left:solid 1px}.inline-block[_ngcontent-%COMP%]{display:inline-block}.title-section[_ngcontent-%COMP%]{margin-left:30px;margin-top:10px}@media screen and (max-width: 780px){.fixed[_ngcontent-%COMP%]{width:100%;bottom:0;height:120px;margin-top:-70px}.balance[_ngcontent-%COMP%]{font-size:xx-large!important}.section-performance[_ngcontent-%COMP%]{margin-top:30px;max-width:98%}.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px!important}.marketData[_ngcontent-%COMP%]{margin-bottom:30px!important;margin-left:5px!important;margin-right:5px!important}}@media screen and (min-width: 780px){.loading-hidden[_ngcontent-%COMP%]{margin-right:10px}}.row[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.quick-action[_ngcontent-%COMP%]{width:80px}.quick-action[_ngcontent-%COMP%]   .user-card[_ngcontent-%COMP%]{background-color:transparent}.quick-action[_ngcontent-%COMP%]   .title_text[_ngcontent-%COMP%]{width:70px;margin-left:calc(50% - 34px);text-align:center}.quick-action[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{border-radius:50px;width:60px;height:60px}.quick-action[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:30px!important;height:30px!important;margin-top:calc(50% - 15px)}.priority[_ngcontent-%COMP%]{position:absolute;z-index:999!important}@media screen and (min-width: 780px) and (max-width: 1200px){.section-performance[_ngcontent-%COMP%]{margin-top:40px}}@media screen and (min-width: 580px) and (max-width: 770px){.line[_ngcontent-%COMP%]{border-left:solid 0px}}.card-title[_ngcontent-%COMP%]{position:relative;z-index:9!important}.marketData[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-bottom:-30px}.section-performance[_ngcontent-%COMP%]{max-width:98%!important}.title[_ngcontent-%COMP%]{margin-left:5px}"]}),i})();function Xe(i,s){if(1&i&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&i){const e=s.$implicit,n=t.oxw();t.s9C("value",e),t.Q6J("selected",n.currency==e),t.xp6(1),t.hij(" ",e," ")}}let Ke=(()=>{class i{constructor(e){this.userService=e,this.environment=y.N,this.modalId="",this.currency="",this.emitAddCurrency=new t.vpe,this.currencies=["EUR","USD","GBP"]}selectCurrency(){let e=this.userService.user;e.settings.cryptoCurrency=this.currency,this.emitAddCurrency.emit(e),this.currency=""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(F.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-select-crypto-currency"]],inputs:{modalId:"modalId"},outputs:{emitAddCurrency:"emitAddCurrency"},decls:38,vars:24,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content","modal-round","mx-auto"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["type","submit"],["f","ngForm"],[1,"action-sheet-content"],[1,"row"],[1,"col-md-6"],[1,"card-title"],[1,"modal-title","d-inline",2,"vertical-align","-4px"],[1,"form-group","boxed"],[1,"input-wrapper"],["id","currency","name","wallet","required","","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["currency1","ngModel"],["selected","","disabled","",3,"value"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"addWallet","text-end","hidden_mobile"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","me-1","mb-1",3,"disabled","click"],[1,"mt-1","form-group","basic","hidden_desktop"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"],[3,"selected","value"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h5",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"form",6,7),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"h2",12),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p"),t.TgZ(18,"small"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",10),t.TgZ(22,"div",13),t.TgZ(23,"div",14),t.TgZ(24,"select",15,16),t.NdJ("ngModelChange",function(o){return n.currency=o}),t.TgZ(26,"option",17),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.YNc(29,Xe,2,3,"option",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",19),t.TgZ(31,"button",20),t.NdJ("click",function(){return n.selectCurrency()}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.qZA(),t.TgZ(34,"div",21),t.TgZ(35,"button",22),t.NdJ("click",function(){return n.selectCurrency()}),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const a=t.MAs(9);t.s9C("id",n.modalId),t.xp6(5),t.hij(" ",t.lcZ(6,12,"crypto.cryptoModal.selectCurrency.title")," "),t.xp6(10),t.hij(" ",t.lcZ(16,14,"crypto.cryptoModal.selectCurrency.title")," "),t.xp6(4),t.Oqu(t.lcZ(20,16,"crypto.cryptoModal.selectCurrency.subtitle")),t.xp6(5),t.Q6J("ngModel",n.currency),t.xp6(2),t.Q6J("value",n.currency),t.xp6(1),t.hij(" ",t.lcZ(28,18,"crypto.cryptoModal.selectCurrency.title")," "),t.xp6(2),t.Q6J("ngForOf",n.currencies),t.xp6(2),t.Q6J("disabled",a.invalid),t.xp6(1),t.hij(" ",t.lcZ(33,20,"crypto.cryptoModal.selectCurrency.save")," "),t.xp6(3),t.Q6J("disabled",a.invalid),t.xp6(1),t.hij(" ",t.lcZ(37,22,"crypto.cryptoModal.selectCurrency.save")," ")}},directives:[d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,u.sg],pipes:[_.X$],styles:[""]}),i})();function tn(i,s){1&i&&t._UZ(0,"ion-icon",22)}function en(i,s){1&i&&t._UZ(0,"ion-icon",23)}function nn(i,s){1&i&&t._UZ(0,"ion-icon",22)}function an(i,s){1&i&&t._UZ(0,"ion-icon",23)}function on(i,s){1&i&&t._UZ(0,"ion-icon",22)}function sn(i,s){1&i&&t._UZ(0,"ion-icon",23)}function rn(i,s){1&i&&t._UZ(0,"ion-icon",22)}function ln(i,s){1&i&&t._UZ(0,"ion-icon",23)}let cn=(()=>{class i{constructor(e,n,a,o){this.dashboardService=e,this.userService=n,this.router=a,this.logger=o,this.updateUserSub=new T.w0,this.isWalletCreated=!1,this.isCryptoWalletCreated=!1,this.isAssetCreated=!1,this.isCurrencyAdded=!1,this.currency="",this.CRYPTO="Crypto",this.enableModalCrypto=!1}ngOnDestroy(){this.updateUserSub.unsubscribe()}get modalConstant(){return l.Dq}ngOnInit(){var e;let n=this.userService.user,a=null===(e=n.settings.completeRequirement)||void 0===e?void 0:e.split(";");a.includes(C.qb.ASSET)&&(this.isAssetCreated=!0),a.includes(C.qb.CRYPTO_WALLET)&&(this.isCryptoWalletCreated=!0),a.includes(C.qb.WALLET)&&(this.isWalletCreated=!0),a.includes(C.qb.CURRENCY)&&(this.isCurrencyAdded=!0),this.wallets=this.dashboardService.dashboard.wallets,null!=this.wallets&&0!=this.wallets.length&&(this.isWalletCreated=!0),n.settings.cryptoCurrency&&(this.isCurrencyAdded=!0,this.currency=n.settings.cryptoCurrency),this.goToDashboard()}validateBtn(){return this.isCryptoWalletCreated&&this.isWalletCreated&&this.isAssetCreated&&this.isCurrencyAdded}saveWallet(e){var n;let a=this.userService.user;if(null!=this.wallets){let o=null===(n=this.wallets)||void 0===n?void 0:n.indexOf(this.wallets.find(r=>r.name==e.name));this.wallets[o]=e,this.isWalletCreated=!0,this.cryptoWallet=this.wallets.filter(r=>r.category==this.CRYPTO),this.wallets[o].category==this.CRYPTO&&(this.isCryptoWalletCreated=!0),null!=this.wallets[o].assets&&0!=this.wallets[o].assets.length&&(this.isAssetCreated=!0)}else null==this.wallets&&e.category==this.CRYPTO?(this.isCryptoWalletCreated=!0,this.dashboardService.dashboard.wallets=[e],this.cryptoWallet=[e],this.wallets=[e],this.isWalletCreated=!0):(this.dashboardService.dashboard.wallets=[e],this.wallets=[e],this.isWalletCreated=!0);this.isWalletCreated&&(a.settings.completeRequirement=a.settings.completeRequirement?a.settings.completeRequirement.concat(C.qb.WALLET).concat(";"):C.qb.WALLET.concat(";")),this.isCryptoWalletCreated&&(a.settings.completeRequirement=a.settings.completeRequirement?a.settings.completeRequirement.concat(C.qb.CRYPTO_WALLET).concat(";"):C.qb.CRYPTO_WALLET.concat(";")),this.isAssetCreated&&(a.settings.completeRequirement=a.settings.completeRequirement?a.settings.completeRequirement.concat(C.qb.ASSET).concat(";"):C.qb.ASSET.concat(";")),this.updateUser(a)}selectCurrency(e){e.settings.completeRequirement=e.settings.completeRequirement?e.settings.completeRequirement.concat(C.qb.CURRENCY).concat(";"):C.qb.CURRENCY.concat(";"),this.updateUser(e),this.isCurrencyAdded=!0,this.currency=e.settings.currency}updateUser(e){this.isAssetCreated&&this.isCryptoWalletCreated&&this.isCurrencyAdded&&this.isWalletCreated&&(e.settings.completeRequirement=C.qb.COMPLETED),this.updateUserSub=this.userService.updateUserData(e).subscribe(n=>{this.logger.LOG(n.message,"RequirementsComponent"),this.userService.user=n.data,this.userService.setUserGlobally()})}goToDashboard(){this.isAssetCreated&&this.isCryptoWalletCreated&&this.isCurrencyAdded&&this.isWalletCreated&&this.router.navigate(["/crypto/dashboard"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(at.s),t.Y36(F.K),t.Y36(A.F0),t.Y36(D.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-requirements"]],decls:77,vars:67,consts:[[1,"mx-auto","section-width"],[3,"routerLinks","title"],["id","appCapsule"],[1,"title-section"],[1,"title"],[1,"section","mt-3","mx-auto",2,"max-width","600px"],[1,"card","border_round","mb-3"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","mt-1","mb-1"],["data-bs-toggle","modal",1,"item","clickable"],[1,"icon-box"],["class","icon-medium bg-orange","name","alert-circle-outline",4,"ngIf"],["class","icon-medium bg-blue","name","checkmark-circle",4,"ngIf"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],["data-bs-toggle","modal",3,"click"],["data-bs-toggle","modal"],[1,"form-button-group","transparent","section-width","mx-auto"],["type","button","routerLink","/crypto/dashboard",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled"],[3,"modalId","categoriesInput","isCrypto","wallets","emitAddWallet"],[3,"modalId","wallets","cryptoCurrency","emitAddAsset"],[3,"modalId","emitAddCurrency"],["name","alert-circle-outline",1,"icon-medium","bg-orange"],["name","checkmark-circle",1,"icon-medium","bg-blue"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-crypto-header",1),t.ALo(2,"translate"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"h2",4),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"ul",7),t.TgZ(14,"li"),t.TgZ(15,"a",8),t.TgZ(16,"div",9),t.YNc(17,tn,1,0,"ion-icon",10),t.YNc(18,en,1,0,"ion-icon",11),t.qZA(),t.TgZ(19,"div",12),t.TgZ(20,"div"),t.TgZ(21,"strong"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"li"),t.TgZ(29,"a",15),t.NdJ("click",function(){return n.enableModalCrypto=!1}),t.TgZ(30,"div",9),t.YNc(31,nn,1,0,"ion-icon",10),t.YNc(32,an,1,0,"ion-icon",11),t.qZA(),t.TgZ(33,"div",12),t.TgZ(34,"div"),t.TgZ(35,"strong"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"div",13),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t._UZ(41,"div",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"li"),t.TgZ(43,"a",15),t.NdJ("click",function(){return n.enableModalCrypto=!0}),t.TgZ(44,"div",9),t.YNc(45,on,1,0,"ion-icon",10),t.YNc(46,sn,1,0,"ion-icon",11),t.qZA(),t.TgZ(47,"div",12),t.TgZ(48,"div"),t.TgZ(49,"strong"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"div",13),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.qZA(),t._UZ(55,"div",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"li"),t.TgZ(57,"a",16),t.TgZ(58,"div",9),t.YNc(59,rn,1,0,"ion-icon",10),t.YNc(60,ln,1,0,"ion-icon",11),t.qZA(),t.TgZ(61,"div",12),t.TgZ(62,"div"),t.TgZ(63,"strong"),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",13),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.qZA(),t._UZ(69,"div",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"div",17),t.TgZ(71,"button",18),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"app-add-wallet",19),t.NdJ("emitAddWallet",function(o){return n.saveWallet(o)}),t.qZA(),t.TgZ(75,"app-add-asset-modal",20),t.NdJ("emitAddAsset",function(o){return n.saveWallet(o)}),t.qZA(),t.TgZ(76,"app-select-crypto-currency",21),t.NdJ("emitAddCurrency",function(o){return n.selectCurrency(o)}),t.qZA()),2&e&&(t.xp6(1),t.Q6J("routerLinks","")("title",t.lcZ(2,43,"crypto.requirements.headerTitle")),t.xp6(5),t.Oqu(t.lcZ(7,45,"crypto.requirements.title")),t.xp6(3),t.hij(" ",t.lcZ(10,47,"crypto.requirements.subTitle")," "),t.xp6(6),t.Q2q("data-bs-target","#",n.modalConstant.ADDCRYPTOCURRENCY,""),t.xp6(2),t.Q6J("ngIf",!n.isCurrencyAdded),t.xp6(1),t.Q6J("ngIf",n.isCurrencyAdded),t.xp6(4),t.hij(" ",t.lcZ(23,49,"crypto.requirements.req4.title"),""),t.xp6(3),t.hij(" ",t.lcZ(26,51,"crypto.requirements.req4.subTitle")," "),t.xp6(4),t.Gre("item clickable ",n.isCurrencyAdded?"":"disabled",""),t.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),t.xp6(2),t.Q6J("ngIf",!n.isWalletCreated),t.xp6(1),t.Q6J("ngIf",n.isWalletCreated),t.xp6(4),t.Oqu(t.lcZ(37,53,"crypto.requirements.req1.title")),t.xp6(3),t.hij(" ",t.lcZ(40,55,"crypto.requirements.req1.subTitle")," "),t.xp6(4),t.Gre("item clickable ",n.isCurrencyAdded?"":"disabled",""),t.Q2q("data-bs-target","#",n.modalConstant.ADDWALLET,""),t.xp6(2),t.Q6J("ngIf",!n.isCryptoWalletCreated),t.xp6(1),t.Q6J("ngIf",n.isCryptoWalletCreated),t.xp6(4),t.Oqu(t.lcZ(51,57,"crypto.requirements.req2.title")),t.xp6(3),t.hij(" ",t.lcZ(54,59,"crypto.requirements.req2.subTitle")," "),t.xp6(4),t.Gre("item clickable ",n.isCryptoWalletCreated?"":"disabled",""),t.Q2q("data-bs-target","#",n.modalConstant.ADDASSET,""),t.xp6(2),t.Q6J("ngIf",!n.isAssetCreated),t.xp6(1),t.Q6J("ngIf",n.isAssetCreated),t.xp6(4),t.hij(" ",t.lcZ(65,61,"crypto.requirements.req3.title"),""),t.xp6(3),t.hij(" ",t.lcZ(68,63,"crypto.requirements.req3.subTitle")," "),t.xp6(4),t.Q6J("disabled",!n.validateBtn()),t.xp6(1),t.hij(" ",t.lcZ(73,65,"crypto.requirements.next")," "),t.xp6(2),t.Q6J("modalId",n.modalConstant.ADDWALLET)("categoriesInput",null==n.dashboard?null:n.dashboard.categories)("isCrypto",n.enableModalCrypto)("wallets",n.wallets),t.xp6(1),t.Q6J("modalId",n.modalConstant.ADDASSET)("wallets",n.cryptoWallet)("cryptoCurrency",n.currency),t.xp6(1),t.Q6J("modalId",n.modalConstant.ADDCRYPTOCURRENCY))},directives:[L,u.O5,v.gu,A.rH,v.YI,it.Z,st,Ke],pipes:[_.X$],styles:[".title-section[_ngcontent-%COMP%]{margin-left:30px;margin-top:45px;margin-right:30px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:30px!important;margin-bottom:20px!important}.title[_ngcontent-%COMP%]{font-size:larger}}.icon-medium[_ngcontent-%COMP%]{width:25px;height:25px}.bg-orange[_ngcontent-%COMP%]{color:#ffcd67}.bg-blue[_ngcontent-%COMP%]{color:#284bff}.disabled[_ngcontent-%COMP%]{pointer-events:none}"]}),i})();var H=g(8862),Y=g(4243);function dn(i,s){if(1&i&&(t.TgZ(0,"div",36),t.TgZ(1,"div",37),t.TgZ(2,"a",38),t.TgZ(3,"div",39),t.TgZ(4,"div",40),t.TgZ(5,"div",41),t._UZ(6,"i",42),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"strong"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p",43),t._uU(12),t.ALo(13,"translate"),t.ALo(14,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",44),t.TgZ(16,"div",45),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",37),t.TgZ(19,"a",38),t.TgZ(20,"div",39),t.TgZ(21,"div",40),t.TgZ(22,"div",46),t._UZ(23,"i",47),t.qZA(),t.qZA(),t.TgZ(24,"div"),t.TgZ(25,"strong"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"p",43),t._uU(29),t.ALo(30,"translate"),t.ALo(31,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",44),t.TgZ(33,"div",48),t.TgZ(34,"div"),t._uU(35),t.qZA(),t.qZA(),t.TgZ(36,"div",49),t.TgZ(37,"span"),t._UZ(38,"i"),t._uU(39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,20,"stats.total")),t.xp6(3),t.AsE(" ",t.lcZ(13,22,"stats.since")," ",t.xi3(14,24,e.cryptoDashboard.lastUpdate,"dd MMM y")," "),t.xp6(5),t.AsE(" ",e.cryptoDashboard.currency," ",e.hidden?e.amount:e.cryptoDashboard.balance," "),t.xp6(9),t.Oqu(t.lcZ(27,27,"stats.performance")),t.xp6(3),t.AsE(" ",t.lcZ(30,29,"stats.since")," ",t.xi3(31,31,e.cryptoDashboard.holdingLong.lastUpdate,"dd MMM y")," "),t.xp6(4),t.Gre("price ",0==e.cryptoDashboard.holdingLong.performance?"text-warning":e.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger",""),t.xp6(2),t.AsE(" ",e.cryptoDashboard.currency," ",e.hidden?e.amount:e.cryptoDashboard.holdingLong.balance," "),t.xp6(2),t.Gre("",0==e.cryptoDashboard.holdingLong.performance?"text-warning":e.cryptoDashboard.holdingLong.performance>0?"text-success":"text-danger"," mr-2"),t.xp6(1),t.Gre("fa ",e.cryptoDashboard.holdingLong.performance>0?"fa-arrow-up":"fa-arrow-down",""),t.xp6(1),t.hij(" ",e.cryptoDashboard.holdingLong.performance,"%")}}function pn(i,s){1&i&&(t.TgZ(0,"div",50),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function gn(i,s){if(1&i&&t._UZ(0,"apx-chart",51),2&i){const e=t.oxw();t.Q6J("series",e.chart1Y.series)("chart",e.chart1Y.chart)("title",e.chart1Y.title)("colors",e.chart1Y.colors)("legend",e.chart1Y.legend)("stroke",e.chart1Y.stroke)("labels",e.chart1Y.labels)}}function un(i,s){1&i&&(t.TgZ(0,"div",50),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function hn(i,s){if(1&i&&t._UZ(0,"apx-chart",51),2&i){const e=t.oxw();t.Q6J("series",e.chart3Y.series)("chart",e.chart3Y.chart)("title",e.chart3Y.title)("colors",e.chart3Y.colors)("legend",e.chart3Y.legend)("stroke",e.chart3Y.stroke)("labels",e.chart3Y.labels)}}function mn(i,s){1&i&&(t.TgZ(0,"div",50),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function _n(i,s){if(1&i&&t._UZ(0,"apx-chart",52),2&i){const e=t.oxw();t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("title",e.chartOptions.title)("colors",e.chartOptions.colors)("legend",e.chartOptions.legend)("stroke",e.chartOptions.stroke)("labels",e.chartOptions.labels)}}function Zn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){return t.CHM(e),t.oxw().zeroBalanceSwitch()}),t._UZ(1,"ion-icon",54),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"crypto.asset.show"),""))}function An(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){return t.CHM(e),t.oxw().zeroBalanceSwitch()}),t._UZ(1,"ion-icon",55),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"crypto.asset.hidden"),""))}function vn(i,s){if(1&i&&t._UZ(0,"app-transaction-card",57),2&i){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("hiddenAmount",n.hidden)("assets",e)("currency",n.cryptoDashboard.currency)}}function Tn(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,vn,1,3,"app-transaction-card",56),t.qZA()),2&i){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.showZeroBalance?e.balance>=0:e.balance>0)}}let yn=(()=>{class i{constructor(e,n,a,o){this.cryptoService=e,this.charts=n,this.screenService=a,this.logger=o,this.cryptoAssetSubscribe=new T.w0,this.amount="******",this.hidden=!1,this.cryptoDashboard=new M,this.assets=[],this.showZeroBalance=!1,this.thisYear=(new Date).getFullYear()}get modalConstant(){return l.Dq}ngOnDestroy(){this.cryptoAssetSubscribe.unsubscribe()}ngOnInit(){this.screenService.hideFooter(),this.getAssets()}getAssets(){this.cryptoDashboard=(0,m.p)(this.cryptoService.cryptoDashboard),this.cryptoAssetSubscribe=this.cryptoService.getCryptoAssetsData().subscribe(e=>{this.cryptoService.cache.cacheAssetsData(e),this.logger.LOG(e.message,"CryptoAssetComponent"),this.assets=e.data,this.cryptoService.assets=e.data,this.cryptoDashboard.assets=e.data}),this.graph1Y(),this.isWalletBalanceHidden()}graphAll(){if(!this.chartOptions){let e=(0,m.p)(this.cryptoDashboard);e.statsAssetsDays=this.getAllDate(),setTimeout(()=>{var n;this.cryptoDashboard.wallets&&(this.chartOptions=(null===(n=this.screenService)||void 0===n?void 0:n.screenWidth)<=780?this.charts.renderCryptoDatas(e,[l.Gf.MOBILE_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(e,[l.Gf.ULTRA_WIDE,l.Gf.LIVE_PRICE_AS_LAST_DATA]))},500)}}graph1Y(){if(!this.chart1Y){let e=(0,m.p)(this.cryptoDashboard);e.statsAssetsDays=this.getAllDate();let n=[];e.assets.forEach(a=>{var o;let r=null===(o=a.history)||void 0===o?void 0:o.filter(c=>c.date.toString().split("-")[0]===(new Date).getFullYear().toString());a.history=r,0!=a.balance&&n.push(a)}),e.assets=n,e.statsAssetsDays&&(e.statsAssetsDays=e.statsAssetsDays.filter(a=>a.toString().split("-")[0]===(new Date).getFullYear().toString())),setTimeout(()=>{var a;this.chart1Y=(null===(a=this.screenService)||void 0===a?void 0:a.screenWidth)<=780?this.charts.renderCryptoDatas(e,[l.Gf.MOBILE_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(e,[l.Gf.ULTRA_WIDE,l.Gf.LIVE_PRICE_AS_LAST_DATA])},500)}}graph3Y(){if(!this.chart3Y){let e=(0,m.p)(this.cryptoDashboard);e.statsAssetsDays=this.getAllDate();let n=[(new Date).getFullYear().toString(),((new Date).getFullYear()-1).toString(),((new Date).getFullYear()-2).toString()],a=[];e.assets.forEach((o,r)=>{var c;let p=null===(c=o.history)||void 0===c?void 0:c.filter(h=>n.includes(h.date.toString().split("-")[0]));o.history=p,0!=p?.length&&a.push(o)}),e.assets=a,e.statsAssetsDays&&(e.statsAssetsDays=e.statsAssetsDays.filter(o=>n.includes(o.toString().split("-")[0]))),setTimeout(()=>{var o;this.chart3Y=(null===(o=this.screenService)||void 0===o?void 0:o.screenWidth)<=780?this.charts.renderCryptoDatas(e,[l.Gf.MOBILE_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(e,[l.Gf.ULTRA_WIDE,l.Gf.LIVE_PRICE_AS_LAST_DATA])},500)}}zeroBalanceSwitch(){return this.showZeroBalance=!this.showZeroBalance}getAllDate(){let e=[];return this.cryptoDashboard.assets.forEach(n=>{var a;return null===(a=n.history)||void 0===a?void 0:a.forEach(o=>{e.find(r=>r==o.date.toString())||e.push(o.date.toString())})}),e.sort(),e}isWalletBalanceHidden(){let e=JSON.parse(localStorage.getItem(l.Vs.HIDDENAMOUNT));null!=e&&(this.hidden=e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(H.C),t.Y36(E.H),t.Y36(D.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crypto-asset"]],decls:56,vars:31,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule",1,"mx-auto"],[1,"section","hidden_mobile","mt-2"],["class","transactions row","style","\n          margin-top: -15px;\n          margin-left: 5px !important;\n          margin-right: 5px !important;\n        ",4,"ngIf"],[1,"row","margin-bottom-size"],[1,"col-md-7"],[1,"title-section","hidden_desktop"],[1,"card-title"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"section","mt-2"],[1,"section-title","hidden_mobile"],[1,"card","border_round"],[1,"card-body","pt-1"],["role","tablist",1,"nav","nav-tabs","lined"],[1,"nav-item"],["data-bs-toggle","tab","href","#tab-1y","role","tab",1,"nav-link","active",3,"click"],["data-bs-toggle","tab","href","#tab-3y","role","tab",1,"nav-link",3,"click"],["data-bs-toggle","tab","href","#tab-all","role","tab",1,"nav-link",3,"click"],[1,"tab-content"],["id","tab-1y","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"inner-round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],["id","tab-3y","role","tabpanel",1,"tab-pane","fade"],["id","tab-all","role","tabpanel",1,"tab-pane","fade"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"col-md-5"],[1,"section","mt-2","mb-2"],[1,"section-heading"],[1,"section-title"],["class","link clickable",3,"click",4,"ngIf"],[1,"transactions"],[4,"ngFor","ngForOf"],[3,"modalId","wallets","assets","currency","statsAssetsDays","emitAddStats"],[1,"transactions","row",2,"margin-top","-15px","margin-left","5px !important","margin-right","5px !important"],[1,"col-md-6","mt-2"],["routerLink","/crypto/asset",1,"item"],[1,"detail"],[1,"col-auto",2,"padding-right","20px"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"sincetot"],[1,"right","float-end"],["id","totale",1,"price"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-poll"],["id","pil"],[1,"price","float-end","performancetot"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",3,"series","chart","title","colors","legend","stroke","labels"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"link","clickable",3,"click"],["name","eye-outline",2,"width","20px","height","20px","vertical-align","-5px"],["name","eye-off-outline",2,"width","20px","height","20px","vertical-align","-5px"],[3,"hiddenAmount","assets","currency",4,"ngIf"],[3,"hiddenAmount","assets","currency"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-crypto-header",1),t.ALo(2,"translate"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.YNc(5,dn,40,34,"div",4),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t.TgZ(9,"p",8),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"h5",9),t._uU(13),t.qZA(),t.TgZ(14,"p",10),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"div",11),t.TgZ(17,"div",12),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"div",14),t.TgZ(22,"ul",15),t.TgZ(23,"li",16),t.TgZ(24,"a",17),t.NdJ("click",function(){return n.graph1Y()}),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"li",16),t.TgZ(27,"a",18),t.NdJ("click",function(){return n.graph3Y()}),t._uU(28," 3Y "),t.qZA(),t.qZA(),t.TgZ(29,"li",16),t.TgZ(30,"a",19),t.NdJ("click",function(){return n.graphAll()}),t._uU(31," All "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",20),t.TgZ(33,"div",21),t.TgZ(34,"div",22),t.YNc(35,pn,5,0,"div",23),t.YNc(36,gn,1,7,"apx-chart",24),t.qZA(),t.qZA(),t.TgZ(37,"div",25),t.TgZ(38,"div",22),t.YNc(39,un,5,0,"div",23),t.YNc(40,hn,1,7,"apx-chart",24),t.qZA(),t.qZA(),t.TgZ(41,"div",26),t.TgZ(42,"div",22),t.YNc(43,mn,5,0,"div",23),t.YNc(44,_n,1,7,"apx-chart",27),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",28),t.TgZ(46,"div",29),t.TgZ(47,"div",30),t.TgZ(48,"div",31),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.YNc(51,Zn,4,3,"a",32),t.YNc(52,An,4,3,"a",32),t.qZA(),t.TgZ(53,"div",33),t.YNc(54,Tn,2,1,"div",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"app-operations-modal",35),t.NdJ("emitAddStats",function(){return n.getAssets()}),t.qZA()),2&e&&(t.xp6(1),t.s9C("title",t.lcZ(2,23,"crypto.asset.title")),t.xp6(4),t.Q6J("ngIf",n.cryptoDashboard.assets),t.xp6(5),t.hij(" ",t.lcZ(11,25,"crypto.dashboard.cardRes.title")," "),t.xp6(3),t.AsE(" ",n.hidden?n.amount:n.cryptoDashboard.balance," ",n.cryptoDashboard.currency," "),t.xp6(2),t.hij(" ",n.hidden?n.amount:n.cryptoDashboard.btcBalance," BTC "),t.xp6(3),t.hij(" ",t.lcZ(19,27,"crypto.asset.assetGraph")," "),t.xp6(7),t.hij(" ",n.thisYear," "),t.xp6(10),t.Q6J("ngIf",!n.chart1Y),t.xp6(1),t.Q6J("ngIf",n.chart1Y),t.xp6(3),t.Q6J("ngIf",!n.chart3Y),t.xp6(1),t.Q6J("ngIf",n.chart3Y),t.xp6(3),t.Q6J("ngIf",!n.chartOptions),t.xp6(1),t.Q6J("ngIf",n.chartOptions),t.xp6(5),t.hij(" ",t.lcZ(50,29,"crypto.asset.assetList")," "),t.xp6(2),t.Q6J("ngIf",!n.showZeroBalance),t.xp6(1),t.Q6J("ngIf",n.showZeroBalance),t.xp6(2),t.Q6J("ngForOf",n.assets),t.xp6(1),t.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoDashboard.wallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},directives:[L,u.O5,A.yS,v.Fo,Y.x,v.gu,u.sg,et.s,R],pipes:[_.X$,u.uU],styles:["#appCapsule[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:0!important}.row[_ngcontent-%COMP%]{margin-right:0!important}.row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:-8px}.row[_ngcontent-%COMP%]   .transactions[_ngcontent-%COMP%]{margin-right:-20px!important}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}}.transactions[_ngcontent-%COMP%]{margin-top:-10px;margin-left:-15px!important;margin-right:-15px!important}.icon-shape[_ngcontent-%COMP%]{display:inline-flex;padding:12px;text-align:center;border-radius:50%;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.round-img[_ngcontent-%COMP%]{border-radius:50%}.item[_ngcontent-%COMP%]{border-radius:20px}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),i})();const lt={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let B;const fn=new Uint8Array(16);function xn(){if(!B&&(B=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!B))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(fn)}const b=[];for(let i=0;i<256;++i)b.push((i+256).toString(16).slice(1));const P=function bn(i,s,e){if(lt.randomUUID&&!s&&!i)return lt.randomUUID();const n=(i=i||{}).random||(i.rng||xn)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,s){e=e||0;for(let a=0;a<16;++a)s[e+a]=n[a];return s}return function ct(i,s=0){return(b[i[s+0]]+b[i[s+1]]+b[i[s+2]]+b[i[s+3]]+"-"+b[i[s+4]]+b[i[s+5]]+"-"+b[i[s+6]]+b[i[s+7]]+"-"+b[i[s+8]]+b[i[s+9]]+"-"+b[i[s+10]]+b[i[s+11]]+b[i[s+12]]+b[i[s+13]]+b[i[s+14]]+b[i[s+15]]).toLowerCase()}(n)};var Cn=g(9103),$=g(2384);function qn(i,s){if(1&i&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,3,"crypto.closeOperation.fees"),": "),t.xp6(3),t.AsE("",e.operationToClose.fees," ",null==e.operationToClose.assetSell?null:e.operationToClose.assetSell.symbol,"")}}function wn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"div",33),t.TgZ(2,"div",39),t.TgZ(3,"div",40),t.TgZ(4,"div",41),t.TgZ(5,"label",42),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",43,44),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().operationToClose.exitQuantity=a})("keyup",function(){return t.CHM(e),t.oxw().updateExitPrice()}),t.qZA(),t.TgZ(10,"i",45),t._UZ(11,"ion-icon",46),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",39),t.TgZ(13,"div",40),t.TgZ(14,"div",41),t.TgZ(15,"label",47),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"input",48,49),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().operationToClose.exitPriceValue=a}),t.qZA(),t.TgZ(20,"i",45),t._UZ(21,"ion-icon",46),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",39),t.TgZ(23,"div",40),t.TgZ(24,"div",41),t.TgZ(25,"label",50),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"input",51,52),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().operationToClose.exitPrice=a})("keyup",function(){return t.CHM(e),t.oxw().refreshData()}),t.qZA(),t.TgZ(30,"i",45),t._UZ(31,"ion-icon",46),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",39),t.TgZ(33,"div",40),t.TgZ(34,"div",41),t.TgZ(35,"label",53),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"input",54,55),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().fees=a})("keyup",function(){return t.CHM(e),t.oxw().refreshData()}),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"i",45),t._UZ(42,"ion-icon",46),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.AsE("",t.lcZ(7,13,"crypto.closeOperation.quantity")," (",null==e.operationToClose.assetSell?null:e.operationToClose.assetSell.symbol,")"),t.xp6(2),t.Q6J("ngModel",e.operationToClose.exitQuantity),t.xp6(8),t.AsE("",t.lcZ(17,15,"crypto.closeOperation.value")," (",e.cryptoCurrency,")"),t.xp6(2),t.Q6J("ngModel",e.operationToClose.exitPriceValue),t.xp6(8),t.AsE("",t.lcZ(27,17,"crypto.closeOperation.selling")," (",null==e.operationToClose.asset?null:e.operationToClose.asset.symbol,")"),t.xp6(2),t.Q6J("ngModel",e.operationToClose.exitPrice),t.xp6(8),t.AsE("",t.lcZ(37,19,"crypto.closeOperation.fees")," (",null==e.operationToClose.asset?null:e.operationToClose.asset.symbol,")"),t.xp6(2),t.s9C("placeholder",t.lcZ(40,21,"crypto.closeOperation.fees")),t.Q6J("ngModel",e.fees)}}function On(i,s){if(1&i&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,3,"crypto.closeOperation.fees"),": "),t.xp6(3),t.AsE("",e.fees," ",null==e.operationToClose.asset?null:e.operationToClose.asset.symbol,"")}}function Mn(i,s){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"h5",27),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",28),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.TgZ(8,"strong"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"p",29),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"strong"),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"p",29),t._uU(16),t.ALo(17,"translate"),t.TgZ(18,"strong"),t._uU(19),t.TgZ(20,"span"),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"p",29),t._uU(23),t.ALo(24,"translate"),t.TgZ(25,"strong"),t._uU(26),t.qZA(),t.qZA(),t.YNc(27,On,5,5,"p",30),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.lnq(" ",t.lcZ(3,24,"crypto.closeOperation.closeP")," ",null==e.operationToClose.asset?null:e.operationToClose.asset.symbol,"-",null==e.operationToClose.assetSell?null:e.operationToClose.assetSell.symbol," "),t.xp6(4),t.hij(" ",t.lcZ(7,26,"crypto.closeOperation.pair"),": "),t.xp6(3),t.AsE("",null==e.operationToClose.asset?null:e.operationToClose.asset.symbol,"-",null==e.operationToClose.assetSell?null:e.operationToClose.assetSell.symbol,""),t.xp6(2),t.hij(" ",t.lcZ(12,28,"crypto.closeOperation.quantity"),": "),t.xp6(3),t.AsE("",e.operationToClose.exitQuantity," ",e.operationToClose.entryCoin,""),t.xp6(2),t.AsE(" ",null==e.operationToClose.assetSell?null:e.operationToClose.assetSell.symbol," ",t.lcZ(17,30,"crypto.closeOperation.value"),": "),t.xp6(3),t.AsE("",e.operationToClose.exitPriceValue," ",e.cryptoCurrency," "),t.xp6(1),t.Gre("badge ",0==e.operationToClose.trend?"badge-warning":e.operationToClose.trend<0?"badge-danger":"badge-success",""),t.xp6(1),t.lnq("",e.cryptoCurrency," ",e.operationToClose.trend," (",e.operationToClose.performance,"%)"),t.xp6(2),t.AsE(" ",t.lcZ(24,32,"crypto.closeOperation.sellPrice")," ",e.operationToClose.exitCoin,": "),t.xp6(3),t.AsE("",e.operationToClose.exitPrice," ",e.cryptoCurrency,""),t.xp6(1),t.Q6J("ngIf",e.fees)}}function Dn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().isEditActive=!0}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"crypto.closeOperation.edit")))}function Sn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(e),t.oxw().isEditActive=!1}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){t.oxw();const e=t.MAs(5);t.Q6J("disabled",e.invalid),t.xp6(1),t.hij(" ",t.lcZ(2,2,"crypto.closeOperation.save")," ")}}let Un=(()=>{class i{constructor(e,n,a,o,r){this.cryptoService=e,this.swal=n,this.router=a,this.logger=o,this.translate=r,this.closeSubscribe=new T.w0,this.modalId="",this.operation=new j,this.operationToClose=new j,this.cryptoCurrency="",this.currentPrice=0,this.isEditActive=!1,this.fees=0}get modalConstant(){return l.Dq}get operationTypeConstant(){return l.jw}ngOnDestroy(){this.closeSubscribe.unsubscribe()}ngOnChanges(e){this.operation&&this.getData()}getData(){var e,n,a,o,r,c;if(!this.operation||!this.operation.type||this.operation.type!=l.jw.TRADING)return;this.cryptoCurrency=this.cryptoService.cryptoDashboard.currency;let p=(null===(e=this.operation)||void 0===e?void 0:e.entryQuantity)*(null===(a=null===(n=this.operation)||void 0===n?void 0:n.asset)||void 0===a?void 0:a.current_price);this.currentPrice=parseFloat(p.toFixed(2));let h=(0,m.p)(this.operation);h.exitDate=new Date,h.exitPrice=null===(o=h?.asset)||void 0===o?void 0:o.current_price,h.exitPriceValue=parseFloat(p.toFixed(2)),h.exitQuantity=parseFloat(p.toFixed(8)),h.performance=parseFloat(((p-(null===(r=this.operation)||void 0===r?void 0:r.entryPriceValue))/p*100).toFixed(2)),h.trend=parseFloat((p-(null===(c=this.operation)||void 0===c?void 0:c.entryPriceValue)).toFixed(2)),this.operationToClose=h}refreshData(){var e,n,a,o,r;let c=this.operationToClose,p=(null===(e=this.operationToClose)||void 0===e?void 0:e.entryQuantity)*(null===(n=this.operationToClose)||void 0===n?void 0:n.exitPrice),h=this.fees*(null===(a=this.operationToClose)||void 0===a?void 0:a.exitPrice);c.exitPriceValue=parseFloat((p-h).toFixed(2)),c.exitQuantity=parseFloat((p-h).toFixed(8)),c.performance=parseFloat(((p-(null===(o=this.operationToClose)||void 0===o?void 0:o.entryPriceValue))/p*100).toFixed(2)),c.trend=parseFloat((p-h-(null===(r=this.operationToClose)||void 0===r?void 0:r.entryPriceValue)).toFixed(2))}updateExitPrice(){var e;this.operationToClose.exitPriceValue=parseFloat(null===(e=this.operationToClose.exitQuantity)||void 0===e?void 0:e.toFixed(2))}closeOperation(){var e,n,a,o,r;this.operationToClose.status="CLOSED";let p=(0,m.p)(this.cryptoService.cryptoDashboard).wallets.find(x=>null!=x.assets&&x.assets.find(w=>null!=w.operations&&w.operations.find(Fa=>{var z;return Fa.id==(null===(z=this.operation)||void 0===z?void 0:z.id)}))),h=p?.assets.find(x=>{var w;return x.symbol==(null===(w=this.operationToClose)||void 0===w?void 0:w.exitCoin)}),Z=p?.assets.find(x=>{var w;return x.symbol==(null===(w=this.operationToClose)||void 0===w?void 0:w.entryCoin)});this.operationToClose.asset=void 0,this.operationToClose.assetSell=void 0,this.operationToClose.wallet=void 0;let f=parseFloat((this.fees*(null===(e=this.operationToClose)||void 0===e?void 0:e.exitPrice)).toFixed(8));this.operationToClose.fees?this.operationToClose.fees+=f:this.operationToClose.fees=f,h.operations=[this.operationToClose],h.balance-=null===(n=this.operationToClose)||void 0===n?void 0:n.entryQuantity,h.invested-=null===(a=this.operationToClose)||void 0===a?void 0:a.entryPriceValue,h.updateDate=new Date,Z.balance+=null===(o=this.operationToClose)||void 0===o?void 0:o.exitQuantity,Z.invested+=null===(r=this.operationToClose)||void 0===r?void 0:r.entryPriceValue,Z.updateDate=new Date,p.assets=[h,Z],this.closeSubscribe=this.cryptoService.addOrUpdateCryptoAsset(p).subscribe(x=>{this.logger.LOG(x.message,"CloseOperationComponent"),this.swal.toastMessage($.u.SUCCESS,this.translate.instant("response.close")),this.router.navigate(["/crypto/dashboard"])})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(V.J),t.Y36(A.F0),t.Y36(D.m),t.Y36(_.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-close-operation"]],inputs:{modalId:"modalId",operation:"operation"},features:[t.TTD],decls:87,vars:66,consts:[["tabindex","-1","role","dialog","data-bs-focus","false",1,"modal","fade","action-sheet",3,"id"],["role","document",1,"modal-dialog","fullbig-modal"],[1,"modal-content","modal-round","mx-auto","fullbig-modal"],[1,"modal-body"],["type","submit"],["f","ngForm"],[1,"action-sheet-content","fullbig-modal"],[1,"iconbox","text-warning"],["name","alert-circle"],[1,"text-center"],["name","alert-circle","data-bs-toggle","modal",2,"width","20px","height","20px","vertical-align","-2px"],[3,"innerHTML"],[1,"splash-page","mb-5"],[1,"transfer-verification"],[1,"transfer-amount"],[1,"caption"],[2,"margin-top","-20px"],[1,"from-to-block","mb-0"],[1,"item","text-center"],["alt","avatar",1,"imaged","w48",3,"src"],[1,"arrow"],[1,"mx-auto",2,"max-width","500px","margin-top","-45px","margin-bottom","-25px"],[1,"timeline","timed","ms-1","me-0"],[1,"item"],[1,"time"],[1,"dot","bg-success"],[1,"content"],[1,"title","text-start"],[1,"text","text-start"],[1,"p"],["class","p",4,"ngIf"],[1,"dot","bg-danger"],["class","content",4,"ngIf"],[1,"row"],[1,"col-6"],["class","btn btn-lg btn-outline-secondary btn-block goBack",3,"click",4,"ngIf"],["class","btn btn-lg btn-primary btn-block goBack",3,"disabled","click",4,"ngIf"],["data-bs-toggle","modal",1,"btn","btn-danger","btn-lg","btn-block",3,"disabled","click"],[3,"isClosingOperation","modalId","operationType"],[1,"col-12","col-md-6"],[1,"form-group","basic"],[1,"input-wrapper"],["for","quantity1",1,"label"],["name","quantity","type","number","id","quantity1","placeholder","Enter an Amount",1,"form-control",3,"ngModel","ngModelChange","keyup"],["quantity1","ngModel"],[1,"clear-input"],["name","close-circle"],["for","quantityValue1",1,"label"],["name","quantityValue","type","number","id","quantityValue1","placeholder","Enter an Amount","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["quantityValue1","ngModel"],["for","price1",1,"label"],["name","price","type","number","id","price1","placeholder","Enter an Amount",1,"form-control",3,"ngModel","ngModelChange","keyup"],["price1","ngModel"],["for","fees",1,"label"],["name","fees","type","number","id","fees",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["fees1","ngModel"],[1,"btn","btn-lg","btn-outline-secondary","btn-block","goBack",3,"click"],[1,"btn","btn-lg","btn-primary","btn-block","goBack",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"form",4,5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t._UZ(8,"ion-icon",8),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"h3"),t._uU(11),t.ALo(12,"translate"),t._UZ(13,"ion-icon",10),t.qZA(),t._UZ(14,"p",11),t.ALo(15,"translate"),t._UZ(16,"hr"),t.TgZ(17,"div",12),t.TgZ(18,"div",13),t.TgZ(19,"div",14),t.TgZ(20,"span",15),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"h2"),t._uU(24),t.qZA(),t.TgZ(25,"p",16),t.TgZ(26,"small"),t._uU(27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",17),t.TgZ(29,"div",18),t._UZ(30,"img",19),t.TgZ(31,"strong"),t._uU(32),t.qZA(),t.qZA(),t.TgZ(33,"div",18),t._UZ(34,"img",19),t.TgZ(35,"strong"),t._uU(36),t.qZA(),t.qZA(),t._UZ(37,"div",20),t.qZA(),t.qZA(),t.TgZ(38,"div",21),t.TgZ(39,"div",22),t.TgZ(40,"div",23),t.TgZ(41,"span",24),t._uU(42),t.ALo(43,"date"),t.qZA(),t._UZ(44,"div",25),t.TgZ(45,"div",26),t.TgZ(46,"h5",27),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div",28),t.TgZ(50,"p"),t._uU(51),t.ALo(52,"translate"),t.TgZ(53,"strong"),t._uU(54),t.qZA(),t.qZA(),t.TgZ(55,"p",29),t._uU(56),t.ALo(57,"translate"),t.TgZ(58,"strong"),t._uU(59),t.qZA(),t.qZA(),t.TgZ(60,"p",29),t._uU(61),t.ALo(62,"translate"),t.TgZ(63,"strong"),t._uU(64),t.qZA(),t.qZA(),t.TgZ(65,"p",29),t._uU(66),t.ALo(67,"translate"),t.TgZ(68,"strong"),t._uU(69),t.qZA(),t.qZA(),t.YNc(70,qn,5,5,"p",30),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",23),t.TgZ(72,"span",24),t._uU(73),t.ALo(74,"date"),t.qZA(),t._UZ(75,"div",31),t.YNc(76,wn,43,23,"div",32),t.YNc(77,Mn,28,34,"div",32),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"div",33),t.TgZ(79,"div",34),t.YNc(80,Dn,3,3,"a",35),t.YNc(81,Sn,3,4,"button",36),t.qZA(),t.TgZ(82,"div",34),t.TgZ(83,"button",37),t.NdJ("click",function(){return n.closeOperation()}),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(86,"app-info-modal",38)),2&e){const a=t.MAs(5);t.s9C("id",n.modalId),t.xp6(11),t.hij(" ",t.lcZ(12,42,"crypto.closeOperation.title")," "),t.xp6(2),t.Q2q("data-bs-target","#",n.modalConstant.INFO,""),t.xp6(1),t.Q6J("innerHTML",t.lcZ(15,44,"crypto.closeOperation.subTitle"),t.oJD),t.xp6(7),t.Oqu(t.lcZ(22,46,"crypto.closeOperation.amount")),t.xp6(3),t.AsE("",n.operationToClose.entryCoin," ",n.currentPrice,""),t.xp6(3),t.AsE("",n.operationToClose.exitCoin," ",n.operationToClose.entryQuantity,""),t.xp6(3),t.s9C("src",null==n.operationToClose.asset?null:n.operationToClose.asset.icon,t.LSH),t.xp6(2),t.Oqu(null==n.operationToClose.asset?null:n.operationToClose.asset.name),t.xp6(2),t.s9C("src",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.icon,t.LSH),t.xp6(2),t.Oqu(null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.name),t.xp6(6),t.Oqu(t.xi3(43,48,n.operationToClose.entryDate,"d MMM y")),t.xp6(5),t.lnq(" ",t.lcZ(48,51,"crypto.closeOperation.open")," ",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol,"-",null==n.operationToClose.asset?null:n.operationToClose.asset.symbol," "),t.xp6(4),t.hij(" ",t.lcZ(52,53,"crypto.closeOperation.pair"),": "),t.xp6(3),t.AsE("",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol,"-",null==n.operationToClose.asset?null:n.operationToClose.asset.symbol,""),t.xp6(2),t.hij(" ",t.lcZ(57,55,"crypto.closeOperation.quantity"),": "),t.xp6(3),t.AsE("",n.operationToClose.entryQuantity," ",n.operationToClose.exitCoin,""),t.xp6(2),t.AsE(" ",null==n.operationToClose.assetSell?null:n.operationToClose.assetSell.symbol," ",t.lcZ(62,57,"crypto.closeOperation.value"),": "),t.xp6(3),t.AsE("",n.operationToClose.entryPriceValue," ",n.operationToClose.entryCoin,""),t.xp6(2),t.AsE(" ",t.lcZ(67,59,"crypto.closeOperation.price")," ",n.operationToClose.exitCoin,": "),t.xp6(3),t.AsE("",n.operationToClose.entryPrice," ",n.cryptoCurrency,""),t.xp6(1),t.Q6J("ngIf",n.operationToClose.fees),t.xp6(3),t.Oqu(t.xi3(74,61,n.operationToClose.exitDate,"d MMM y")),t.xp6(3),t.Q6J("ngIf",n.isEditActive),t.xp6(1),t.Q6J("ngIf",!n.isEditActive),t.xp6(3),t.Q6J("ngIf",!n.isEditActive),t.xp6(1),t.Q6J("ngIf",n.isEditActive),t.xp6(2),t.Q6J("disabled",a.invalid||n.isEditActive),t.xp6(1),t.hij(" ",t.lcZ(85,64,"crypto.closeOperation.close")," "),t.xp6(2),t.Q6J("isClosingOperation",!0)("modalId",n.modalConstant.INFO)("operationType",n.operationTypeConstant.CLOSEOPERATION)}},directives:[d._Y,d.JL,d.F,v.gu,u.O5,d.wV,d.Fj,d.JJ,d.On,G],pipes:[_.X$,u.uU],styles:["@media screen and (max-height: 870px){.fullbig-modal[_ngcontent-%COMP%]{max-height:550px!important;height:550px!important}}.fullbig-modal[_ngcontent-%COMP%]{max-height:800px!important;height:800px}.p[_ngcontent-%COMP%]{margin-top:-15px}.item[_ngcontent-%COMP%]{display:block;padding-top:0}.timeline[_ngcontent-%COMP%]:before{top:10px;bottom:25px}"]}),i})();function En(i,s){if(1&i&&(t.TgZ(0,"div",17),t.TgZ(1,"div",18),t.TgZ(2,"div",19),t.TgZ(3,"div",20),t._UZ(4,"img",21),t.qZA(),t.TgZ(5,"h3",22),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.s9C("src",null==e.operation||null==e.operation.asset?null:e.operation.asset.icon,t.LSH),t.xp6(2),t.hij(" ",null==e.operation||null==e.operation.asset?null:e.operation.asset.name," ")}}function Ln(i,s){if(1&i&&(t.TgZ(0,"div",17),t.TgZ(1,"div",18),t.TgZ(2,"div",19),t.TgZ(3,"div",20),t._UZ(4,"img",21),t.qZA(),t.TgZ(5,"h3",22),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.s9C("src",null==e.operation||null==e.operation.wallet?null:e.operation.wallet.img,t.LSH),t.xp6(2),t.hij(" ",null==e.operation||null==e.operation.wallet?null:e.operation.wallet.name," ")}}function In(i,s){if(1&i&&(t.TgZ(0,"div",17),t.TgZ(1,"div",18),t.TgZ(2,"div",19),t.TgZ(3,"div",20),t._UZ(4,"img",21),t.qZA(),t.TgZ(5,"h3",22),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.s9C("src",null==e.operation||null==e.operation.assetSell?null:e.operation.assetSell.icon,t.LSH),t.xp6(2),t.hij(" ",null==e.operation||null==e.operation.assetSell?null:e.operation.assetSell.name," ")}}function kn(i,s){if(1&i&&(t.TgZ(0,"div",17),t.TgZ(1,"div",18),t.TgZ(2,"div",23),t.TgZ(3,"div",20),t._UZ(4,"img",21),t.qZA(),t.TgZ(5,"h3",22),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.s9C("src",null==e.operation||null==e.operation.asset?null:e.operation.asset.icon,t.LSH),t.xp6(2),t.hij(" ",null==e.operation||null==e.operation.asset?null:e.operation.asset.name," ")}}function Nn(i,s){if(1&i&&(t.TgZ(0,"div",17),t.TgZ(1,"div",18),t.TgZ(2,"div",23),t.TgZ(3,"div",20),t._UZ(4,"img",21),t.qZA(),t.TgZ(5,"h3",22),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.s9C("src",null==e.operation||null==e.operation.wallet?null:e.operation.wallet.img,t.LSH),t.xp6(2),t.hij(" ",null==e.operation||null==e.operation.wallet?null:e.operation.wallet.name," ")}}function Jn(i,s){if(1&i&&(t.TgZ(0,"li"),t.TgZ(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",24),t._uU(5),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"crypto.operationDetails.identifier")),t.xp6(3),t.hij(" ",null==e.operation?null:e.operation.identifier,"")}}function Pn(i,s){if(1&i&&(t.TgZ(0,"li"),t.TgZ(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"strong"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"crypto.operationDetails.fees"),""),t.xp6(4),t.AsE("",null==e.operation?null:e.operation.fees," ",null==e.operation?null:e.operation.entryCoin,"")}}function Yn(i,s){if(1&i&&(t.TgZ(0,"li"),t.TgZ(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"crypto.operationDetails.exit")),t.xp6(3),t.Oqu(t.xi3(6,4,null==e.operation?null:e.operation.exitDate,"MMM dd, y HH:mm"))}}function Fn(i,s){if(1&i&&(t.TgZ(0,"li"),t.TgZ(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"strong"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"crypto.operationDetails.exitPrice")),t.xp6(4),t.AsE("",null==e.operation?null:e.operation.exitPrice," ",e.currency,"")}}function Qn(i,s){if(1&i&&(t.TgZ(0,"li"),t.TgZ(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"strong"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.AsE("",e.currency," ",t.lcZ(3,4,"crypto.operationDetails.value"),""),t.xp6(4),t.AsE("",null==e.operation?null:e.operation.exitPriceValue," ",e.currency,"")}}function jn(i,s){if(1&i&&(t.TgZ(0,"div",25),t.TgZ(1,"a",26),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q2q("data-bs-target","#",e.modalConstant.CLOSEOPERATION+e.modalId,""),t.xp6(1),t.Oqu(t.lcZ(3,2,"crypto.closeOperation.title"))}}let dt=(()=>{class i{constructor(){this.operation=new j,this.modalId="",this.currency="",this.trend=0,this.percentage=0}get modalConstant(){return l.Dq}get operationTypeConstant(){return l.jw}ngOnInit(){this.getTradingData()}ngOnChanges(e){this.getTradingData()}getTradingData(){var e,n,a,o,r,c,p;let h=(null===(e=this.operation)||void 0===e?void 0:e.entryQuantity)*(null===(a=null===(n=this.operation)||void 0===n?void 0:n.asset)||void 0===a?void 0:a.current_price);this.trend=null!==(o=this.operation)&&void 0!==o&&o.trend?this.operation.trend:parseFloat((h-(null===(r=this.operation)||void 0===r?void 0:r.entryPriceValue)).toFixed(2)),this.percentage=null!==(c=this.operation)&&void 0!==c&&c.performance?this.operation.performance:parseFloat(((h-(null===(p=this.operation)||void 0===p?void 0:p.entryPriceValue))/h*100).toFixed(2))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-operation-details"]],inputs:{operation:"operation",modalId:"modalId",currency:"currency"},features:[t.TTD],decls:82,vars:68,consts:[["tabindex","-1","role","dialog",1,"modal","fade","modalbox",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-center"],["alt","img",1,"image-block","imaged","w30","me-1",3,"src"],["href","#","data-bs-dismiss","modal"],[1,"modal-body"],[1,"section","mt-2","mb-2","row"],["class","col-5",4,"ngIf"],[1,"col-2","text-center",2,"align-self","center"],["name","swap-horizontal-outline"],[1,"listview","flush","transparent","simple-listview","no-space","mt-3"],[4,"ngIf"],[1,"text-small"],["class","modal-footer",4,"ngIf"],[3,"operation","modalId"],[1,"col-5"],[1,"listed-detail","mt-3"],[1,"float-end","text-end"],[1,"icon-wrapper"],["alt","img",1,"image-block","imaged","w48",3,"src"],[1,"text-center","mt-2"],[1,"float-start","text-start"],[2,"text-align","end"],[1,"modal-footer"],["data-bs-toggle","modal",1,"btn","btn-primary","btn-lg","btn-block"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h5",4),t._UZ(5,"img",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"a",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"div",8),t.YNc(13,En,7,2,"div",9),t.YNc(14,Ln,7,2,"div",9),t.YNc(15,In,7,2,"div",9),t.TgZ(16,"div",10),t._UZ(17,"ion-icon",11),t.qZA(),t.YNc(18,kn,7,2,"div",9),t.YNc(19,Nn,7,2,"div",9),t.TgZ(20,"ul",12),t.YNc(21,Jn,6,4,"li",13),t.TgZ(22,"li"),t.TgZ(23,"strong"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",14),t.TgZ(27,"span"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"li"),t.TgZ(30,"strong"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"span"),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"li"),t.TgZ(36,"strong"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"span"),t.TgZ(40,"mark"),t._uU(41),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"li"),t.TgZ(43,"strong"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"span"),t._uU(47),t.ALo(48,"date"),t.qZA(),t.qZA(),t.TgZ(49,"li"),t.TgZ(50,"strong"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"strong"),t.TgZ(54,"span"),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"li"),t.TgZ(57,"strong"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"strong"),t.TgZ(61,"span"),t._uU(62),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"li"),t.TgZ(64,"strong"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"strong"),t.TgZ(68,"span"),t._uU(69),t.qZA(),t.qZA(),t.qZA(),t.YNc(70,Pn,7,5,"li",13),t.YNc(71,Yn,7,7,"li",13),t.YNc(72,Fn,7,5,"li",13),t.YNc(73,Qn,7,6,"li",13),t.TgZ(74,"li"),t.TgZ(75,"strong"),t._uU(76,"Trend"),t.qZA(),t.TgZ(77,"strong"),t.TgZ(78,"span"),t._uU(79),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(80,jn,4,4,"div",15),t.qZA(),t.qZA(),t.qZA(),t._UZ(81,"app-close-operation",16)),2&e&&(t.s9C("id",n.modalId),t.xp6(5),t.s9C("src",null==n.operation||null==n.operation.asset?null:n.operation.asset.icon,t.LSH),t.xp6(1),t.AsE("",null==n.operation||null==n.operation.asset?null:n.operation.asset.name," ",t.lcZ(7,47,"crypto.operationDetails.title")," "),t.xp6(3),t.Oqu(t.lcZ(10,49,"crypto.operationDetails.close")),t.xp6(4),t.Q6J("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.TRANSFER),t.xp6(1),t.Q6J("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.NEWINVESTMENT),t.xp6(1),t.Q6J("ngIf",(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.TRANSFER),t.xp6(3),t.Q6J("ngIf",(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.TRANSFER),t.xp6(1),t.Q6J("ngIf",(null==n.operation?null:n.operation.type)==n.operationTypeConstant.TRANSFER),t.xp6(2),t.Q6J("ngIf",null==n.operation?null:n.operation.identifier),t.xp6(3),t.Oqu(t.lcZ(25,51,"crypto.operationDetails.status")),t.xp6(3),t.Gre("badge ","CLOSED"==(null==n.operation?null:n.operation.status)?"badge-danger":"badge-success"," "),t.xp6(1),t.Oqu(null==n.operation?null:n.operation.status),t.xp6(3),t.Oqu(t.lcZ(32,53,"crypto.operationDetails.type")),t.xp6(3),t.hij(" ",null==n.operation?null:n.operation.type,""),t.xp6(3),t.Oqu(t.lcZ(38,55,"crypto.operationDetails.currency")),t.xp6(4),t.AsE("",null==n.operation?null:n.operation.entryCoin,"-",null==n.operation?null:n.operation.exitCoin,""),t.xp6(3),t.Oqu(t.lcZ(45,57,"crypto.operationDetails.entry")),t.xp6(3),t.Oqu(t.xi3(48,59,null==n.operation?null:n.operation.entryDate,"MMM dd, y HH:mm")),t.xp6(4),t.Oqu(t.lcZ(52,62,"crypto.operationDetails.entryPrice")),t.xp6(4),t.AsE("",null==n.operation?null:n.operation.entryPrice," ",null==n.operation?null:n.operation.entryCoin,""),t.xp6(3),t.AsE("",n.currency," ",t.lcZ(59,64,"crypto.operationDetails.value"),""),t.xp6(4),t.AsE("",null==n.operation?null:n.operation.entryPriceValue," ",n.currency,""),t.xp6(3),t.AsE("",t.lcZ(66,66,"crypto.operationDetails.quantity")," (",null==n.operation?null:n.operation.exitCoin,")"),t.xp6(4),t.AsE("",null==n.operation?null:n.operation.entryQuantity," ",null==n.operation?null:n.operation.exitCoin,""),t.xp6(1),t.Q6J("ngIf",null==n.operation?null:n.operation.fees),t.xp6(1),t.Q6J("ngIf",(null==n.operation?null:n.operation.exitDate)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),t.xp6(1),t.Q6J("ngIf",(null==n.operation?null:n.operation.exitPrice)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),t.xp6(1),t.Q6J("ngIf",(null==n.operation?null:n.operation.exitPriceValue)&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.NEWINVESTMENT&&(null==n.operation?null:n.operation.type)!=n.operationTypeConstant.HOLDING),t.xp6(5),t.Gre("badge ",0==n.trend?"badge-warning":n.trend<0?"badge-danger":"badge-success",""),t.xp6(1),t.lnq("",n.currency," ",n.trend," (",n.percentage,"%)"),t.xp6(1),t.Q6J("ngIf","OPEN"==(null==n.operation?null:n.operation.status)),t.xp6(1),t.Q6J("operation",n.operation)("modalId",n.modalConstant.CLOSEOPERATION+n.modalId))},directives:[u.O5,v.gu,Un],pipes:[_.X$,u.uU],styles:[".imaged[_ngcontent-%COMP%]{width:100px!important;height:100px!important;border-radius:50%;object-position:center center!important;object-fit:cover!important}.w30[_ngcontent-%COMP%]{width:30px!important;height:30px!important}.modal-footer[_ngcontent-%COMP%]{border-top:transparent!important}.listview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:60px}"]}),i})();function Rn(i,s){if(1&i&&t._UZ(0,"img",14),2&i){const e=t.oxw(2).$implicit;t.s9C("src",null==e||null==e.assetSell?null:e.assetSell.icon,t.LSH)}}function Hn(i,s){if(1&i&&t._UZ(0,"img",14),2&i){const e=t.oxw(2).$implicit;t.s9C("src",null==e||null==e.wallet?null:e.wallet.img,t.LSH)}}function Bn(i,s){if(1&i&&t._UZ(0,"img",15),2&i){const e=t.oxw(2).$implicit;t.s9C("src",null==e||null==e.asset?null:e.asset.icon,t.LSH)}}function Wn(i,s){if(1&i&&t._UZ(0,"img",15),2&i){const e=t.oxw(2).$implicit;t.s9C("src",null==e||null==e.wallet?null:e.wallet.img,t.LSH)}}function Vn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"a",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().selectOperation(a)}),t.TgZ(2,"div",7),t.YNc(3,Rn,1,1,"img",8),t.YNc(4,Hn,1,1,"img",8),t.YNc(5,Bn,1,1,"img",9),t.YNc(6,Wn,1,1,"img",9),t.qZA(),t.TgZ(7,"div",10),t.TgZ(8,"div"),t.TgZ(9,"strong"),t._uU(10),t.qZA(),t.TgZ(11,"div",11),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",11),t.TgZ(15,"strong"),t._uU(16),t.qZA(),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"div",12),t.TgZ(19,"strong"),t._uU(20),t.qZA(),t.TgZ(21,"div",13),t.TgZ(22,"span"),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"div",13),t._uU(25),t.ALo(26,"translate"),t.TgZ(27,"strong"),t._uU(28),t.qZA(),t._uU(29),t.ALo(30,"translate"),t.ALo(31,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q2q("data-bs-target","#",n.modalID,""),t.xp6(2),t.Q6J("ngIf",e.type!=n.operationTypeConstant.NEWINVESTMENT),t.xp6(1),t.Q6J("ngIf",e.type==n.operationTypeConstant.NEWINVESTMENT),t.xp6(1),t.Q6J("ngIf",e.type!=n.operationTypeConstant.TRANSFER),t.xp6(1),t.Q6J("ngIf",e.type==n.operationTypeConstant.TRANSFER),t.xp6(4),t.Oqu(null==e||null==e.wallet?null:e.wallet.name),t.xp6(2),t.HOy(" ",null==e||null==e.asset?null:e.asset.name," ",t.lcZ(13,23,"crypto.asset.details.overview.price")," ",null==e?null:e.exitPrice," ",n.cryptoDashboard.currency," "),t.xp6(4),t.Oqu(null==e?null:e.type),t.xp6(1),t.hij(" #",null==e?null:e.id," "),t.xp6(3),t.AsE("",null==e?null:e.entryQuantity," ",null==e||null==e.asset?null:e.asset.symbol,""),t.xp6(2),t.Gre("badge ","CLOSED"==(null==e?null:e.status)?"badge-danger":"badge-success"," "),t.xp6(1),t.Oqu(null==e?null:e.status),t.xp6(2),t.hij(" ",t.lcZ(26,25,"crypto.asset.details.overview.invest")," "),t.xp6(3),t.AsE("",null==e?null:e.entryPriceValue," ",n.cryptoDashboard.currency,""),t.xp6(1),t.AsE(" ",t.lcZ(30,27,"crypto.asset.details.overview.on")," ",t.xi3(31,29,null==e?null:e.entryDate,"d MMM yy")," ")}}function Gn(i,s){if(1&i&&(t.TgZ(0,"ul",4),t.YNc(1,Vn,32,32,"li",5),t.qZA()),2&i){const e=s.index,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.filterByPage(e))}}function $n(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",16),t.TgZ(1,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToOperations()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"crypto.asset.details.overview.more")))}let W=(()=>{class i{constructor(e,n){this.cryptoService=e,this.router=n,this.walletsAsset=[],this.cryptoDashboard=new M,this.isAssetOperations=!1,this.operationsMapByYear=new Map,this.year="",this.isFullList=!1,this.modalID=P(),this.operations=[]}get operationTypeConstant(){return l.jw}get modalConstant(){return l.Dq}ngOnInit(){}ngOnChanges(e){this.getOperations()}getOperations(){let e=[];return(0,m.p)(this.walletsAsset).forEach(a=>{a.assets&&a.assets.length>0&&a.assets.forEach(o=>{o.operations&&o.operations.length>0&&o.operations.forEach(r=>{r.asset=o,r.wallet=a,r.type!=l.jw.NEWINVESTMENT&&(r.assetSell=(0,m.p)(this.cryptoService.cryptoDashboard.assets.find(c=>c.symbol==r.entryCoin))),e.push(r)})})}),e=e.sort((a,o)=>a.exitDate&&o.exitDate?a.exitDate<o.exitDate?1:-1:a.entryDate<o.entryDate?1:-1),this.operations=e,e}selectOperation(e){this.operationSelect=e}goToOperations(){let e=P();this.cryptoService.operationsMap.set(e,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+e])}filterByPage(e){return!!this.isFullList||e<4}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(A.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-operations-list"]],inputs:{walletsAsset:"walletsAsset",cryptoDashboard:"cryptoDashboard",isAssetOperations:"isAssetOperations",operationsMapByYear:"operationsMapByYear",year:"year",isFullList:"isFullList",modalID:"modalID"},features:[t.TTD],decls:4,vars:5,consts:[[1,"card","cards-op","border_round"],["class","listview flush transparent no-line image-listview detailed-list border_round",4,"ngFor","ngForOf"],["class","card-body pt-0",4,"ngIf"],[3,"modalId","operation","currency"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list","border_round"],[4,"ngIf"],["data-bs-toggle","modal",1,"item",3,"click"],[1,"icon-box-c","me-4"],["class","rounded-pill img1","alt","",3,"src",4,"ngIf"],["class","rounded-pill img2","alt","",3,"src",4,"ngIf"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],[1,"text-small"],["alt","",1,"rounded-pill","img1",3,"src"],["alt","",1,"rounded-pill","img2",3,"src"],[1,"card-body","pt-0"],[1,"btn","btn-block","btn-outline-secondary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Gn,2,1,"ul",1),t.YNc(2,$n,4,3,"div",2),t.qZA(),t._UZ(3,"app-operation-details",3)),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.isFullList?null==n.operationsMapByYear?null:n.operationsMapByYear.get(n.year):n.operations),t.xp6(1),t.Q6J("ngIf",!n.isFullList),t.xp6(1),t.Q6J("modalId",n.modalID)("operation",n.operationSelect)("currency",n.cryptoDashboard.currency))},directives:[u.sg,u.O5,dt],pipes:[_.X$,u.uU],styles:[".img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.rounded-pill[_ngcontent-%COMP%]{background-color:#000!important}@media screen and (max-width: 780px){.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}}"]}),i})();function zn(i,s){1&i&&(t.TgZ(0,"div",39),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function Xn(i,s){if(1&i&&t._UZ(0,"apx-chart",40),2&i){const e=t.oxw();t.Q6J("series",e.chart1Y.series)("chart",e.chart1Y.chart)("title",e.chart1Y.title)("colors",e.chart1Y.colors)("legend",e.chart1Y.legend)("stroke",e.chart1Y.stroke)("labels",e.chart1Y.labels)}}function Kn(i,s){1&i&&(t.TgZ(0,"div",39),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function ti(i,s){if(1&i&&t._UZ(0,"apx-chart",40),2&i){const e=t.oxw();t.Q6J("series",e.chart3Y.series)("chart",e.chart3Y.chart)("title",e.chart3Y.title)("colors",e.chart3Y.colors)("legend",e.chart3Y.legend)("stroke",e.chart3Y.stroke)("labels",e.chart3Y.labels)}}function ei(i,s){1&i&&(t.TgZ(0,"div",39),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function ni(i,s){if(1&i&&t._UZ(0,"apx-chart",41),2&i){const e=t.oxw();t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("title",e.chartOptions.title)("colors",e.chartOptions.colors)("legend",e.chartOptions.legend)("stroke",e.chartOptions.stroke)("labels",e.chartOptions.labels)}}function ii(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().zeroBalanceSwitch()}),t._UZ(1,"ion-icon",43),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"crypto.asset.show"),""))}function ai(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().zeroBalanceSwitch()}),t._UZ(1,"ion-icon",44),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"crypto.asset.hidden"),""))}function oi(i,s){if(1&i&&(t.TgZ(0,"h2",48),t.TgZ(1,"button",49),t._UZ(2,"img",50),t.TgZ(3,"div",51),t._uU(4),t.qZA(),t.TgZ(5,"div",52),t.TgZ(6,"h5",53),t._uU(7),t.TgZ(8,"small"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"p",54),t.TgZ(11,"small"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"div",55),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q2q("data-bs-target","#",e.name.split(".")[0]+e.id,""),t.xp6(1),t.s9C("src",e.img,t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(3),t.hij(" ",n.hidden?n.amount:e.assets[0].value," "),t.xp6(2),t.Oqu(n.cryptoDashboard.currency),t.xp6(3),t.AsE("",n.hidden?n.amount:e.assets[0].balance.toFixed(8)," ",n.asset.symbol,"")}}function si(i,s){1&i&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.asset.details.overview.invested")," "))}function ri(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"strong",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).isEditInvestmentActive=!0}),t.TgZ(1,"p"),t._uU(2),t._UZ(3,"ion-icon",67),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(2),t.AsE(" ",n.hidden?n.amount:e.assets[0].invested," ",n.cryptoDashboard.currency," ")}}function li(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",68,69),t.TgZ(2,"div",70),t.TgZ(3,"div",71),t.TgZ(4,"label",72),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",73,74),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).$implicit.assets[0].invested=a}),t.qZA(),t.TgZ(9,"i",75),t._UZ(10,"ion-icon",76),t.qZA(),t.qZA(),t.TgZ(11,"div",71),t.TgZ(12,"label",72),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"input",77,74),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).$implicit.assets[0].balance=a}),t.qZA(),t.TgZ(17,"i",75),t._UZ(18,"ion-icon",76),t.qZA(),t.qZA(),t.TgZ(19,"div",78),t.TgZ(20,"button",79),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().updateInvestment(a)}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"button",80),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).isEditInvestmentActive=!1}),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(1),n=t.oxw(2).$implicit;t.xp6(5),t.Oqu(t.lcZ(6,7,"crypto.asset.details.overview.editInvested")),t.xp6(2),t.Q6J("ngModel",n.assets[0].invested),t.xp6(6),t.Oqu(t.lcZ(14,9,"crypto.asset.details.overview.editBalance")),t.xp6(2),t.Q6J("ngModel",n.assets[0].balance),t.xp6(5),t.Q6J("disabled",e.invalid),t.xp6(1),t.hij(" ",t.lcZ(22,11,"crypto.asset.details.overview.save")," "),t.xp6(3),t.hij(" ",t.lcZ(25,13,"crypto.asset.details.overview.cancel")," ")}}function ci(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.asset.details.overview.info-trading")," "))}function di(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.asset.details.overview.warning-empty-wallets")," "))}function pi(i,s){if(1&i&&(t.TgZ(0,"div",81),t.YNc(1,ci,3,3,"div",82),t.YNc(2,di,3,3,"div",82),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","Trading"==e.type),t.xp6(1),t.Q6J("ngIf","Trading"!=e.type&&0==(null==e.assets[0].history?null:e.assets[0].history.length))}}function gi(i,s){if(1&i&&(t.TgZ(0,"li"),t.TgZ(1,"div",83),t.TgZ(2,"div"),t._UZ(3,"ion-icon",22),t.qZA(),t.TgZ(4,"div",84),t.TgZ(5,"div"),t.TgZ(6,"strong"),t._uU(7),t.qZA(),t.TgZ(8,"div",85),t._uU(9),t.ALo(10,"date"),t.qZA(),t.qZA(),t.TgZ(11,"div",86),t.TgZ(12,"strong"),t._uU(13),t.qZA(),t.TgZ(14,"div",87),t.TgZ(15,"span"),t._UZ(16,"ion-icon",22),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=s.$implicit,n=t.oxw(2).$implicit,a=t.oxw();t.xp6(2),t.Gre("icon-box ",0==e.trend?"text-warning":e.trend>0?"text-success":"text-danger"," "),t.xp6(1),t.s9C("name",0==e.trend?"trending-down-outline":e.trend>0?"trending-up-outline":"trending-down-outline"),t.xp6(4),t.Oqu(n.assets[0].name),t.xp6(2),t.hij(" ",t.xi3(10,13,e.date,"dd MMM y")," "),t.xp6(4),t.AsE("",a.cryptoDashboard.currency," ",a.hidden?a.amount:e.balance,""),t.xp6(2),t.Gre("badge ",0==e.trend?"text-warning":e.trend>0?"badge-success":"badge-danger"," "),t.xp6(1),t.s9C("name",0==e.trend?"trending-down-outline":e.trend>0?"arrow-up-outline":"arrow-down-outline"),t.xp6(1),t.hij(" ",e.percentage,"% ")}}function ui(i,s){if(1&i&&(t.TgZ(0,"div",56),t.TgZ(1,"div",57),t.TgZ(2,"div",0),t.TgZ(3,"div",58),t.YNc(4,si,3,3,"div",59),t.YNc(5,ri,4,2,"strong",60),t.YNc(6,li,26,15,"form",61),t.qZA(),t.TgZ(7,"div",58),t.TgZ(8,"div",21),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"strong"),t._uU(12),t.TgZ(13,"span"),t._UZ(14,"ion-icon",22),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(16,"hr"),t.YNc(17,pi,3,2,"div",62),t.TgZ(18,"div",63),t.TgZ(19,"ul",64),t.YNc(20,gi,18,16,"li",65),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.s9C("id",e.name.split(".")[0]+e.id),t.xp6(4),t.Q6J("ngIf",!n.isEditInvestmentActive),t.xp6(1),t.Q6J("ngIf",!n.isEditInvestmentActive),t.xp6(1),t.Q6J("ngIf",n.isEditInvestmentActive),t.xp6(3),t.hij(" ",t.lcZ(10,17,"crypto.asset.details.overview.performance")," "),t.xp6(2),t.Tol(e.assets[0].value-e.assets[0].invested==0?"text-warning":e.assets[0].value-e.assets[0].invested>0?"text-success":"text-danger"),t.xp6(1),t.AsE("",n.hidden?n.amount:(e.assets[0].value-e.assets[0].invested).toFixed(2)," ",n.cryptoDashboard.currency," "),t.xp6(1),t.Gre("badge ",(e.assets[0].value-e.assets[0].invested)/e.assets[0].invested*100==0?"badge-warning":(e.assets[0].value-e.assets[0].invested)/e.assets[0].invested*100>0?"badge-success":"badge-danger",""),t.xp6(1),t.s9C("name",(e.assets[0].value-e.assets[0].invested)/e.assets[0].invested*100==0?"arrow-down-outline":(e.assets[0].value-e.assets[0].invested)/e.assets[0].invested*100>0?"arrow-up-outline":"arrow-down-outline"),t.xp6(1),t.hij(" ",n.hidden?n.amount:((e.assets[0].value-e.assets[0].invested)/e.assets[0].invested*100).toFixed(2),"% "),t.xp6(2),t.Q6J("ngIf",n.validateWallet(e)),t.xp6(3),t.Q6J("ngForOf",e.assets[0].history.slice().reverse())}}function hi(i,s){if(1&i&&(t.TgZ(0,"div",45),t.YNc(1,oi,14,7,"h2",46),t.YNc(2,ui,21,19,"div",47),t.qZA()),2&i){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.showZeroBalance?e.assets[0].balance>=0:e.assets[0].balance>0),t.xp6(1),t.Q6J("ngIf",n.showZeroBalance?e.assets[0].balance>=0:e.assets[0].balance>0)}}function mi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",88),t.TgZ(1,"div",89),t.TgZ(2,"div",90),t.TgZ(3,"h2",91),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"a",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToOperations()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t._UZ(9,"app-operations-list",92),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,6,"crypto.asset.details.overview.operations")," "),t.xp6(3),t.Oqu(t.lcZ(8,8,"crypto.asset.details.overview.view")),t.xp6(2),t.Q6J("modalID",e.modalConstant.CRYPTOOPERATIONDETAILS)("cryptoDashboard",e.cryptoDashboard)("walletsAsset",e.walletsAsset)("isAssetOperations",!0)}}let _i=(()=>{class i{constructor(e,n,a,o,r,c){this.cryptoService=e,this.screenService=n,this.charts=a,this.imageColorPicker=o,this.logger=r,this.router=c,this.updateinvestmentSubscribe=new T.w0,this.amount="******",this.hidden=!1,this.asset=new k,this.assetName="",this.cryptoDashboard=new M,this.walletsAsset=[],this.isEditInvestmentActive=!1,this.showZeroBalance=!1,this.thisYear=(new Date).getFullYear()}get modalConstant(){return l.Dq}get operationTypeConstant(){return l.jw}ngOnChanges(e){this.screenService.hideFooter(),this.getAsset()}ngOnInit(){this.getAsset()}ngOnDestroy(){this.updateinvestmentSubscribe.unsubscribe()}setColor(){this.resetColor(),document.querySelectorAll(".active").forEach((n,a)=>{var o;if(null!==(o=n.getAttribute("class"))&&void 0!==o&&o.includes("graph-tab")){let r=this.imageColorPicker.getColor(this.asset.icon,0);n.setAttribute("style","color: "+r+"; border-bottom-color: "+r+" !important")}})}resetColor(){document.querySelectorAll(".graph-tab").forEach(n=>{var a;null!==(a=n.getAttribute("class"))&&void 0!==a&&a.includes("active")||n.removeAttribute("style")})}getAsset(){this.graph1Y(),this.walletsAsset=this.filterWallets(),this.setColor()}graphAll(){if(this.setColor(),!this.chartOptions){let e=N.c.copyObject(this.cryptoDashboard);e.assets=[(0,m.p)(null==this.asset.name?this.cryptoService.asset:this.asset)],e.statsAssetsDays=this.getAllDate(e.assets),setTimeout(()=>{var n;this.cryptoDashboard.wallets&&(this.chartOptions=(null===(n=this.screenService)||void 0===n?void 0:n.screenWidth)<=780?this.charts.renderCryptoDatas(e,[l.Gf.MOBILE_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(e,[l.Gf.DESKTOP_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA]))},500)}}graph1Y(){var e;if(this.setColor(),!this.chart1Y){let n=N.c.copyObject(this.cryptoDashboard);n.assets=[(0,m.p)(null==this.asset.name?this.cryptoService.asset:this.asset)],n.statsAssetsDays=this.getAllDate(n.assets),n.assets[0]&&(n.assets[0].history=null===(e=n.assets[0].history)||void 0===e?void 0:e.filter(a=>a.date.toString().split("-")[0]===(new Date).getFullYear().toString()),n.statsAssetsDays&&(n.statsAssetsDays=n.statsAssetsDays.filter(a=>a.toString().split("-")[0]===(new Date).getFullYear().toString())),setTimeout(()=>{var a;this.chart1Y=(null===(a=this.screenService)||void 0===a?void 0:a.screenWidth)<=780?this.charts.renderCryptoDatas(n,[l.Gf.MOBILE_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(n,[l.Gf.DESKTOP_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA])},500))}}graph3Y(){var e;if(this.setColor(),!this.chart3Y){let n=N.c.copyObject(this.cryptoDashboard);n.assets=[(0,m.p)(null==this.asset.name?this.cryptoService.asset:this.asset)],n.statsAssetsDays=this.getAllDate(n.assets);let a=[(new Date).getFullYear().toString(),((new Date).getFullYear()-1).toString(),((new Date).getFullYear()-2).toString()],o=null===(e=n.assets[0].history)||void 0===e?void 0:e.filter(r=>a.includes(r.date.toString().split("-")[0]));n.assets[0].history=o,n.statsAssetsDays&&(n.statsAssetsDays=n.statsAssetsDays.filter(r=>a.includes(r.toString().split("-")[0]))),setTimeout(()=>{var r;this.chart3Y=(null===(r=this.screenService)||void 0===r?void 0:r.screenWidth)<=780?this.charts.renderCryptoDatas(n,[l.Gf.MOBILE_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA]):this.charts.renderCryptoDatas(n,[l.Gf.DESKTOP_MODE,l.Gf.LIVE_PRICE_AS_LAST_DATA])},500)}}percentageAssetInTotal(){return 100*this.asset.value/this.cryptoDashboard.balance}filterWallets(){var e;let n=null==this.asset.name?null===(e=this.cryptoService.asset)||void 0===e?void 0:e.name:this.asset.name;const a=(0,m.p)(this.cryptoDashboard);let o=a.wallets?a.wallets.filter(r=>null!=r.assets&&0!=r.assets.length?r.assets.slice().find(c=>c.name==n):null):[];return o.forEach(r=>{r.assets=r.assets.slice().filter(c=>c.name==n),null==r.assets[0].history&&(r.assets[0].history=[])}),o}getOperations(){let e=(0,m.p)(this.walletsAsset),n=[];return e.forEach(a=>{a.assets&&a.assets.length>0&&a.assets[0].operations&&a.assets[0].operations.length>0&&a.assets[0].operations.forEach(o=>{o.wallet=a,o.asset=a.assets[0],o.type!=l.jw.NEWINVESTMENT&&(o.assetSell=this.cryptoDashboard.assets.find(r=>r.symbol==o.entryCoin)),n.push(o)})}),n.sort((a,o)=>a.exitDate<o.exitDate?1:-1),n}updateInvestment(e){this.isEditInvestmentActive=!1,this.updateinvestmentSubscribe=this.cryptoService.addOrUpdateCryptoAsset(e).subscribe(r=>{this.logger.LOG(r.message,"DetailsOverviewComponent")});let n=(0,m.p)(this.walletsAsset),a=0,o=0;n.forEach(r=>{a+=r.assets[0].invested,o+=r.assets[0].balance,this.cryptoService.cryptoDashboard.wallets.find(c=>c.name==r.name).assets.find(c=>c.identifier==r.assets[0].identifier).balance=r.assets[0].balance,this.cryptoService.cryptoDashboard.wallets.find(c=>c.name==r.name).assets.find(c=>c.identifier==r.assets[0].identifier).invested=r.assets[0].invested}),this.asset.invested=a,this.asset.balance=o}goToOperations(){let e=P();this.cryptoService.operationsMap.set(e,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+e])}selectOperation(e){this.operationSelect=e}getAllDate(e){let n=[];return e&&e.forEach(a=>{var o;a&&a.history&&(null===(o=a.history)||void 0===o||o.forEach(r=>{n.find(c=>c==r.date.toString())||n.push(r.date.toString())}))}),n.sort(),n}zeroBalanceSwitch(){return this.showZeroBalance=!this.showZeroBalance}validateWallet(e){return null==e.assets[0]||null==e.assets[0].history||0==e.assets[0].history.length}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(E.H),t.Y36(H.C),t.Y36(Cn.C),t.Y36(D.m),t.Y36(A.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-details-overview"]],inputs:{hidden:"hidden",asset:"asset",assetName:"assetName",cryptoDashboard:"cryptoDashboard"},features:[t.TTD],decls:104,vars:77,consts:[[1,"row"],[1,"col-md-7"],[1,"section","mt-2"],[1,"card","border_round"],[1,"card-body","pt-1"],["role","tablist",1,"nav","nav-tabs","lined"],[1,"nav-item"],["data-bs-toggle","tab","href","#tab-1y","role","tab",1,"nav-link","graph-tab","active",3,"click"],["data-bs-toggle","tab","href","#tab-3y","role","tab",1,"nav-link","graph-tab",3,"click"],["data-bs-toggle","tab","href","#tab-all","role","tab",1,"nav-link","graph-tab",3,"click"],[1,"tab-content"],["id","tab-1y","role","tabpanel",1,"tab-pane","fade","show","active"],[1,"inner-round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],["id","tab-3y","role","tabpanel",1,"tab-pane","fade"],["id","tab-all","role","tabpanel",1,"tab-pane","fade"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"col-md-5"],[1,"section","mt-2","mb-4"],[1,"listview","no-line","transparent","flush","simple-listview"],[1,"text-muted"],[3,"name"],[1,"card","border_round","mt-2"],[1,"card-body"],[1,"row","mb-05","fontsize-sub"],[1,"col","text-success"],[1,"col","text-secondary","text-end"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-secondary"],[1,"col-md-12"],[1,"section","inset","mb-0"],[1,"section-heading","mb-1"],[1,"section-title"],["class","link clickable",3,"click",4,"ngIf"],["id","accordionExample2",1,"accordion","border_round"],["class","accordion-item",4,"ngFor","ngForOf"],["class","col-md-12 spaceOp",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",3,"series","chart","title","colors","legend","stroke","labels"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"link","clickable",3,"click"],["name","eye-outline",2,"width","20px","height","20px","vertical-align","-5px"],["name","eye-off-outline",2,"width","20px","height","20px","vertical-align","-5px"],[1,"accordion-item"],["class","accordion-header",4,"ngIf"],["class","accordion-collapse collapse","data-bs-parent","#accordionExample2",3,"id",4,"ngIf"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed"],["alt","avatar",1,"imaged","d-inline","w30","rounded","me-2","ms-1",3,"src"],[1,"accordion-wallet-name"],[1,"title-section","text-end","accordion-right-title"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"space"],["data-bs-parent","#accordionExample2",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"col-6","text-center"],["class","text-muted",4,"ngIf"],["class","clickable",3,"click",4,"ngIf"],["type","submit",4,"ngIf"],["class","alert alert-secondary mb-1 text-center","role","alert",4,"ngIf"],[1,"card","section-3"],[1,"listview","flush","transparent","no-line","image-listview","detailed-list"],[4,"ngFor","ngForOf"],[1,"clickable",3,"click"],["name","create-outline",2,"vertical-align","-1px"],["type","submit"],["f","ngForm"],[1,"form-group","boxed","row"],[1,"input-wrapper","col-md-5","col-12","text-end"],["for","select4",1,"label"],["type","number","id","investment","name","investment","required","",1,"form-control",3,"ngModel","ngModelChange"],["investment1","ngModel"],[1,"clear-input"],["name","close-circle"],["type","number","id","balance","name","balance","required","","min","0.00000000",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-2","col-12","text-start","d-flex","mt-3"],["type","button",1,"btn","btn-outline-primary","rounded","shadowed","me-1","mb-1","d-inline",3,"disabled","click"],["type","button",1,"btn","btn-outline-secondary","rounded","shadowed","me-1","mb-1","d-inline",3,"click"],["role","alert",1,"alert","alert-secondary","mb-1","text-center"],[4,"ngIf"],[1,"item"],[1,"in"],[1,"text-small","text-secondary"],[1,"text-end"],[1,"text-small"],[1,"col-md-12","spaceOp"],[1,"section","mt-4"],[1,"section-heading"],[1,"title"],[3,"modalID","cryptoDashboard","walletsAsset","isAssetOperations"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"ul",5),t.TgZ(6,"li",6),t.TgZ(7,"a",7),t.NdJ("click",function(){return n.graph1Y()}),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"li",6),t.TgZ(10,"a",8),t.NdJ("click",function(){return n.graph3Y()}),t._uU(11," 3Y "),t.qZA(),t.qZA(),t.TgZ(12,"li",6),t.TgZ(13,"a",9),t.NdJ("click",function(){return n.graphAll()}),t._uU(14," All "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",10),t.TgZ(16,"div",11),t.TgZ(17,"div",12),t.YNc(18,zn,5,0,"div",13),t.YNc(19,Xn,1,7,"apx-chart",14),t.qZA(),t.qZA(),t.TgZ(20,"div",15),t.TgZ(21,"div",12),t.YNc(22,Kn,5,0,"div",13),t.YNc(23,ti,1,7,"apx-chart",14),t.qZA(),t.qZA(),t.TgZ(24,"div",16),t.TgZ(25,"div",12),t.YNc(26,ei,5,0,"div",13),t.YNc(27,ni,1,7,"apx-chart",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",18),t.TgZ(29,"div",19),t.TgZ(30,"div",3),t.TgZ(31,"ul",20),t.TgZ(32,"li"),t.TgZ(33,"div",21),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"strong"),t._uU(37),t.qZA(),t.qZA(),t.TgZ(38,"li"),t.TgZ(39,"div",21),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"strong"),t._uU(43),t.qZA(),t.qZA(),t.TgZ(44,"li"),t.TgZ(45,"div",21),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"strong"),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"li"),t.TgZ(51,"div",21),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"strong"),t._uU(55),t.qZA(),t.qZA(),t.TgZ(56,"li"),t.TgZ(57,"div",21),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"strong"),t._uU(61),t.qZA(),t.qZA(),t.TgZ(62,"li"),t.TgZ(63,"div",21),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"strong"),t.TgZ(67,"span"),t._UZ(68,"ion-icon",22),t._uU(69),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"li"),t.TgZ(71,"div",21),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"strong"),t._uU(75),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(76,"div",23),t.TgZ(77,"div",24),t.TgZ(78,"div",25),t.TgZ(79,"div",26),t.TgZ(80,"strong"),t._uU(81),t.ALo(82,"number"),t.qZA(),t.qZA(),t.TgZ(83,"div",27),t.TgZ(84,"strong"),t._uU(85),t.qZA(),t.qZA(),t.qZA(),t.TgZ(86,"div",28),t._UZ(87,"div",29),t.ALo(88,"number"),t.ALo(89,"number"),t._UZ(90,"div",30),t.ALo(91,"number"),t.ALo(92,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(93,"div",31),t.TgZ(94,"div",32),t.TgZ(95,"div",33),t.TgZ(96,"div",34),t._uU(97),t.ALo(98,"translate"),t.qZA(),t.YNc(99,ii,4,3,"a",35),t.YNc(100,ai,4,3,"a",35),t.qZA(),t.TgZ(101,"div",36),t.YNc(102,hi,3,2,"div",37),t.qZA(),t.qZA(),t.qZA(),t.YNc(103,mi,10,10,"div",38),t.qZA()),2&e&&(t.xp6(8),t.hij(" ",n.thisYear," "),t.xp6(10),t.Q6J("ngIf",!n.chart1Y),t.xp6(1),t.Q6J("ngIf",n.chart1Y),t.xp6(3),t.Q6J("ngIf",!n.chart3Y),t.xp6(1),t.Q6J("ngIf",n.chart3Y),t.xp6(3),t.Q6J("ngIf",!n.chartOptions),t.xp6(1),t.Q6J("ngIf",n.chartOptions),t.xp6(7),t.hij(" ",t.lcZ(35,46,"crypto.asset.details.overview.rank")," "),t.xp6(3),t.hij("#",n.asset.rank,""),t.xp6(3),t.hij(" ",t.lcZ(41,48,"crypto.asset.details.overview.identifier")," "),t.xp6(3),t.Oqu(n.asset.identifier),t.xp6(3),t.hij(" ",t.lcZ(47,50,"crypto.asset.details.overview.balance")," "),t.xp6(3),t.AsE("",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol,""),t.xp6(3),t.AsE(" ",t.lcZ(53,52,"crypto.asset.details.overview.value"),"",n.cryptoService.currency," "),t.xp6(3),t.AsE("",n.cryptoService.currency," ",n.hidden?n.amount:n.asset.value,""),t.xp6(3),t.hij(" ",t.lcZ(59,54,"crypto.asset.details.overview.invested")," "),t.xp6(3),t.AsE("",n.cryptoService.currency," ",n.hidden?n.amount:n.asset.invested,""),t.xp6(3),t.hij(" ",t.lcZ(65,56,"crypto.asset.details.overview.performance")," "),t.xp6(3),t.Gre("badge ",(n.asset.value-n.asset.invested)/n.asset.invested*100==0?"badge-warning":(n.asset.value-n.asset.invested)/n.asset.invested*100>0?"badge-success":"badge-danger",""),t.xp6(1),t.s9C("name",(n.asset.value-n.asset.invested)/n.asset.invested*100==0?"arrow-down-outline":(n.asset.value-n.asset.invested)/n.asset.invested*100>0?"arrow-up-outline":"arrow-down-outline"),t.xp6(1),t.hij(" ",((n.asset.value-n.asset.invested)/n.asset.invested*100).toFixed(2),"% "),t.xp6(3),t.hij(" ",t.lcZ(73,58,"crypto.asset.details.overview.trend")," "),t.xp6(2),t.Tol(n.asset.value-n.asset.invested==0?"text-warning":n.asset.value-n.asset.invested>0?"text-success":"text-danger"),t.xp6(1),t.AsE("",n.cryptoDashboard.currency," ",n.hidden?n.amount:(n.asset.value-n.asset.invested).toFixed(2),""),t.xp6(6),t.hij("",t.xi3(82,60,n.percentageAssetInTotal(),"1.0-2"),"% "),t.xp6(4),t.AsE("",n.cryptoService.currency," ",n.hidden?n.amount:n.cryptoDashboard.balance,""),t.xp6(2),t.Q2q("style","width: ",t.xi3(88,63,n.percentageAssetInTotal(),"1.0-2"),"%",t.Ckj),t.uIk("aria-valuenow",t.xi3(89,66,n.percentageAssetInTotal(),"1.0-2")),t.xp6(3),t.Q2q("style","width: ",t.xi3(91,69,100-n.percentageAssetInTotal(),"1.0-2"),"%",t.Ckj),t.uIk("aria-valuenow",t.xi3(92,72,100-n.percentageAssetInTotal(),"1.0-2")),t.xp6(7),t.AsE(" ",t.lcZ(98,75,"crypto.asset.details.overview.wallets"),"",n.asset.name," "),t.xp6(2),t.Q6J("ngIf",!n.showZeroBalance),t.xp6(1),t.Q6J("ngIf",n.showZeroBalance),t.xp6(2),t.Q6J("ngForOf",n.walletsAsset),t.xp6(1),t.Q6J("ngIf",n.asset.operations&&n.asset.operations.length>0))},directives:[u.O5,Y.x,v.gu,u.sg,d._Y,d.JL,d.F,d.wV,d.Fj,d.Q7,d.JJ,d.On,d.qQ,W],pipes:[_.X$,u.JJ,u.uU],styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%], .section-3[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}.accordion-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-4px!important;margin-right:10px!important}.accordion-button[_ngcontent-%COMP%]   .accordion-wallet-name[_ngcontent-%COMP%]{max-width:100px}.accordion-button[_ngcontent-%COMP%]   .accordion-right-title[_ngcontent-%COMP%]{max-width:180px}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}.spaceOp[_ngcontent-%COMP%]{width:95%;margin-left:2.5%}}.w30[_ngcontent-%COMP%]{width:50px;height:50px}.accordion-header[_ngcontent-%COMP%]{margin-top:0}.space[_ngcontent-%COMP%]{padding-bottom:80px}.accordion-right-title[_ngcontent-%COMP%]{position:absolute;right:40px}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),i})();const Zi=["tradingView"],Ai=["tradingViewTechnicalAnalisys"],vi=["tradingViewAssetInfo"],Ti=["tradingViewListCryptos"],yi=["tradingViewMap"];let fi=(()=>{class i{constructor(e,n){this._renderer2=e,this.cryptoService=n,this.assetSymbol="BTC"}ngOnChanges(e){this.ngAfterViewInit()}ngOnInit(){var e;null==this.assetSymbol&&(this.assetSymbol=null===(e=this.cryptoService.asset)||void 0===e?void 0:e.symbol)}ngAfterViewInit(){this.assetSymbol&&(this.appendGraph(),this.appendTradingViewTechnicalAnalisys(),this.appendTradingViewAssetInfo(),this.appendListGraph(),this.appendTradingViewMap())}appendGraph(){var e;let n=this._renderer2.createElement("div");n.style.height="100%";let a=this.assetSymbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js",o.text='\n    {\n      "symbols": [\n        [\n          "$SYMBOL$USDT|7D"\n        ],\n        [\n          "FX:EURUSD|7D"\n        ]\n      ],\n      "chartOnly": false,\n      "width": "100%",\n      "height": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "autosize": true,\n      "showVolume": false,\n      "showMA": false,\n      "hideDateRanges": false,\n      "hideMarketStatus": false,\n      "hideSymbolLogo": false,\n      "scalePosition": "right",\n      "scaleMode": "Normal",\n      "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",\n      "fontSize": "10",\n      "noTimeScale": false,\n      "valuesTracking": "1",\n      "changeMode": "price-and-percent",\n      "chartType": "area",\n      "maLineColor": "#2962FF",\n      "maLineWidth": 1,\n      "maLength": 9,\n      "backgroundColor": "rgba(19, 23, 34, 0)",\n      "lineWidth": 2,\n      "lineType": 0,\n      "dateRanges": [\n        "1d|1",\n        "1w|15",\n        "1m|30",\n        "3m|60",\n        "12m|1D",\n        "60m|1W",\n        "all|1M"\n      ]\n    }'.replace("$SYMBOL$",a),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(e=this.tradingView)||void 0===e?void 0:e.nativeElement,n)}appendTradingViewTechnicalAnalisys(){var e;let n=this._renderer2.createElement("div");n.style.height="100%";let a=this.assetSymbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js",o.text='\n    {\n      "interval": "1D",\n      "width": "100%",\n      "isTransparent": true,\n      "height": "100%",\n      "symbol": "$SYMBOL$USD",\n      "showIntervalTabs": true,\n      "locale": "it",\n      "colorTheme": "dark"\n    }'.replace("$SYMBOL$",a),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(e=this.tradingViewTechnicalAnalisys)||void 0===e?void 0:e.nativeElement,n)}appendTradingViewAssetInfo(){var e;let n=this._renderer2.createElement("div");n.style.height="100%";let a=this.assetSymbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js",o.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "colorTheme": "dark",\n      "isTransparent": true,\n      "symbol": "$SYMBOL$USD",\n      "locale": "it"\n    }'.replace("$SYMBOL$",a),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(e=this.tradingViewAssetInfo)||void 0===e?void 0:e.nativeElement,n)}appendListGraph(){var e;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js",n.text='\n    {\n      "width": "100%",\n      "height": "100%",\n      "defaultColumn": "overview",\n      "screener_type": "crypto_mkt",\n      "displayCurrency": "USD",\n      "colorTheme": "dark",\n      "locale": "it",\n      "isTransparent": true\n    }',null===(e=this.tradingViewListCryptos)||void 0===e||e.nativeElement.appendChild(n)}appendTradingViewMap(){var e;let n=this._renderer2.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://s3.tradingview.com/external-embedding/embed-widget-crypto-coins-heatmap.js",n.innerHTML='\n    {\n      "dataSource": "Crypto",\n      "blockSize": "market_cap_calc",\n      "blockColor": "change",\n      "locale": "it",\n      "symbolUrl": "",\n      "colorTheme": "dark",\n      "hasTopBar": false,\n      "isDataSetEnabled": false,\n      "isZoomEnabled": false,\n      "hasSymbolTooltip": false,\n      "width": "100%",\n      "height": "100%"\n    }',null===(e=this.tradingViewMap)||void 0===e||e.nativeElement.appendChild(n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tradingview-data"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Zi,5),t.Gf(Ai,5),t.Gf(vi,5),t.Gf(Ti,5),t.Gf(yi,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.tradingView=a.first),t.iGM(a=t.CRH())&&(n.tradingViewTechnicalAnalisys=a.first),t.iGM(a=t.CRH())&&(n.tradingViewAssetInfo=a.first),t.iGM(a=t.CRH())&&(n.tradingViewListCryptos=a.first),t.iGM(a=t.CRH())&&(n.tradingViewMap=a.first)}},inputs:{assetSymbol:"assetSymbol"},features:[t.TTD],decls:46,vars:0,consts:[[1,"row"],[1,"col-md-7"],[1,"section","mt-2"],[1,"card"],[1,"card-body"],[1,"tradingview-widget-container"],[1,"tradingview-widget-container__widget"],[2,"height","400px"],["tradingView",""],[1,"col-md-5"],[1,"tradingViewTechnicalAnalisys"],["tradingViewTechnicalAnalisys",""],[1,"col-md-12"],[1,"tradingViewAssetInfo"],["tradingViewAssetInfo",""],[1,"card-body",2,"height","380px"],[2,"height","360px"],["tradingViewListCryptos",""],["hidden","",1,"col-md-12"],["tradingViewMap",""],[1,"tradingview-widget-copyright"],["href","https://it.tradingview.com/","rel","noopener nofollow","target","_blank"],[1,"blue-text"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"div",6),t._UZ(7,"div",7,8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"div",2),t.TgZ(11,"div",3),t.TgZ(12,"div",4),t.TgZ(13,"div",5),t._UZ(14,"div",6),t._UZ(15,"div",10,11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"div",2),t.TgZ(19,"div",3),t.TgZ(20,"div",4),t.TgZ(21,"div",5),t._UZ(22,"div",6),t._UZ(23,"div",13,14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",12),t.TgZ(26,"div",2),t.TgZ(27,"div",3),t.TgZ(28,"div",15),t.TgZ(29,"div",5),t._UZ(30,"div",6),t._UZ(31,"div",16,17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",18),t.TgZ(34,"div",2),t.TgZ(35,"div",3),t.TgZ(36,"div",4),t.TgZ(37,"div",5),t._UZ(38,"div",6),t._UZ(39,"div",null,19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",20),t.TgZ(42,"a",21),t.TgZ(43,"span",22),t._uU(44,"Segui tutti i mercati"),t.qZA(),t.qZA(),t._uU(45," su TradingView "),t.qZA(),t.qZA())},styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}.tradingViewAssetInfo[_ngcontent-%COMP%]{height:300px!important}.tradingViewTechnicalAnalisys[_ngcontent-%COMP%]{height:450px!important}}.tradingViewAssetInfo[_ngcontent-%COMP%]{height:200px}.tradingViewTechnicalAnalisys[_ngcontent-%COMP%]{height:400px}"]}),i})();const xi=["tradingViewAdvanced"],bi=["tradingViewDetails"];let Ci=(()=>{class i{constructor(e){this._renderer2=e,this.symbol=""}ngOnInit(){}ngAfterViewInit(){this.appendTradingViewAdvanced(),this.appendTradingViewDetails()}appendTradingViewAdvanced(){var e;let n=this._renderer2.createElement("script");n.type="text/javascript",n.src="https://s3.tradingview.com/tv.js",n.text='\n    {\n      "autosize": true,\n      "symbol": "BINANCE:BTCUSDT",\n      "interval": "D",\n      "timezone": "Etc/UTC",\n      "theme": "dark",\n      "style": "1",\n      "locale": "it",\n      "toolbar_bg": "#f1f3f6",\n      "enable_publishing": false,\n      "withdateranges": true,\n      "allow_symbol_change": true,\n      "container_id": "tradingview_39b4d"\n    }',null===(e=this.tradingViewAdvanced)||void 0===e||e.nativeElement.appendChild(n)}appendTradingViewDetails(){var e;let n=this._renderer2.createElement("div");n.style.height="100%";let a=this.symbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",o.text='\n    {\n      "symbol": "BINANCE:$SYMBOL$USD",\n      "width": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "isTransparent": true\n    }\n    '.replace("$SYMBOL$",a),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(e=this.tradingViewDetails)||void 0===e?void 0:e.nativeElement,n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-advanced-graph"]],viewQuery:function(e,n){if(1&e&&(t.Gf(xi,5),t.Gf(bi,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.tradingViewAdvanced=a.first),t.iGM(a=t.CRH())&&(n.tradingViewDetails=a.first)}},inputs:{symbol:"symbol"},decls:17,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"section","mt-2"],[1,"card"],[1,"card-body"],[1,"tradingview-widget-container"],["id","tradingview_39b4d"],["tradingViewAdvanced",""],["tradingViewDetails",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"div",6),t._UZ(7,"div",null,7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",0),t.TgZ(10,"div",1),t.TgZ(11,"div",2),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"div",5),t._UZ(15,"div",null,8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},styles:["@media screen and (max-width: 780px){.section[_ngcontent-%COMP%]{margin-left:-20px!important;margin-right:-20px!important}}"]}),i})();const qi=["tradingViewDetails"];let wi=(()=>{class i{constructor(e,n,a,o,r){this.route=e,this.cryptoService=n,this.screenService=a,this.logger=o,this._renderer2=r,this.routeSubscribe=new T.w0,this.detailsSubscribe=new T.w0,this.cryptoDashSubscribe=new T.w0,this.amount="******",this.hidden=!1,this.cryptoDashboard=new M,this.asset=new k,this.assetName=""}ngOnDestroy(){this.routeSubscribe.unsubscribe(),this.detailsSubscribe.unsubscribe(),this.cryptoDashSubscribe.unsubscribe()}ngOnInit(){this.screenService.hideFooter();let e=[...this.cryptoService.assets];this.routeSubscribe=this.route.params.subscribe(n=>{this.assetName=n.identifier,0!=e.length?this.asset=e.find(a=>a.identifier==n.identifier):this.getCryptoDetails(n.identifier),0!=this.cryptoService.cryptoDashboard.balance&&0!=e.length?this.cryptoDashboard=(0,m.p)(this.cryptoService.cryptoDashboard):this.getCryptoDashboard()}),this.isWalletBalanceHidden()}ngAfterViewInit(){this.asset.symbol&&this.appendTradingViewDetails()}getCryptoDetails(e){this.detailsSubscribe=this.cryptoService.getCryptoDetails(e).subscribe(n=>{this.logger.LOG(n.message,"CryptoDetailsComponent"),this.asset=n.data,this.cryptoService.asset=n.data,this.ngAfterViewInit()})}getCryptoDashboard(){this.cryptoDashSubscribe=this.cryptoService.getCryptoDashboardData().subscribe(e=>{this.cryptoService.cache.cacheCryptoDashboardData(e),this.logger.LOG(e.message,"CryptoDetailsComponent"),this.cryptoDashboard=e.data})}isWalletBalanceHidden(){let e=JSON.parse(localStorage.getItem(l.Vs.HIDDENAMOUNT));null!=e&&(this.hidden=e)}appendTradingViewDetails(){var e;let n=this._renderer2.createElement("div");n.style.height="100%",n.id="trading-details";let a=this.asset.symbol,o=this._renderer2.createElement("script");o.type="text/javascript",o.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js",o.text='\n    {\n      "symbol": "$SYMBOL$USD",\n      "width": "100%",\n      "locale": "it",\n      "colorTheme": "dark",\n      "isTransparent": true\n    }\n    '.replace("$SYMBOL$",a),this._renderer2.appendChild(n,o),this._renderer2.appendChild(null===(e=this.tradingViewDetails)||void 0===e?void 0:e.nativeElement,n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.gz),t.Y36(q),t.Y36(E.H),t.Y36(D.m),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crypto-details"]],viewQuery:function(e,n){if(1&e&&t.Gf(qi,5),2&e){let a;t.iGM(a=t.CRH())&&(n.tradingViewDetails=a.first)}},outputs:{asset:"asset",assetName:"assetName"},decls:48,vars:35,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule",1,"mx-auto"],[1,"row"],[1,"tradingview-widget-container"],["tradingViewDetails",""],[1,"details_mobile"],[1,"text-center","hidden_desktop","datas"],[1,"card-text","fs-3","d-inline"],[2,"vertical-align","3px"],[3,"name"],[1,"d-inline",2,"margin-top","-15px"],[1,"title-section","col-6","text-end","hidden_mobile","inside"],[1,"card-text","fs-3"],[2,"margin-top","-15px"],[1,"section"],[1,"card","transparent"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","capsuled"],[1,"nav-item"],["data-bs-toggle","tab","href","#overview","role","tab",1,"nav-link","active"],["data-bs-toggle","tab","href","#card","role","tab",1,"nav-link"],["hidden","",1,"nav-item"],["data-bs-toggle","tab","href","#settings","role","tab",1,"nav-link"],[1,"tab-content","mt-1","margin-bottom-size"],["id","overview","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"hidden","asset","cryptoDashboard","assetName"],["id","card","role","tabpanel",1,"tab-pane","fade"],[3,"assetSymbol"],["id","settings","role","tabpanel",1,"tab-pane","fade"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-crypto-header",1),t.ALo(2,"translate"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t._UZ(6,"div",null,5),t._UZ(8,"div",6),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"h5",8),t.TgZ(11,"span",9),t._UZ(12,"ion-icon",10),t._uU(13),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"p",11),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"h5",13),t.TgZ(19,"span",9),t._UZ(20,"ion-icon",10),t._uU(21),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"p",14),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"div",15),t.TgZ(26,"div",16),t.TgZ(27,"div",17),t.TgZ(28,"ul",18),t.TgZ(29,"li",19),t.TgZ(30,"a",20),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.TgZ(33,"li",19),t.TgZ(34,"a",21),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.qZA(),t.TgZ(37,"li",22),t.TgZ(38,"a",23),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",24),t.TgZ(42,"div",25),t._UZ(43,"app-details-overview",26),t.qZA(),t.TgZ(44,"div",27),t._UZ(45,"app-tradingview-data",28),t.qZA(),t.TgZ(46,"div",29),t._UZ(47,"app-advanced-graph"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.s9C("title",t.lcZ(2,27,"crypto.asset.title")),t.xp6(10),t.Gre("badge ",0==n.asset.performance?"badge-warning":n.asset.performance>0?"badge-success":"badge-danger",""),t.xp6(1),t.s9C("name",0==n.asset.performance?"arrow-down-outline":n.asset.performance>0?"arrow-up-outline":"arrow-down-outline"),t.xp6(1),t.hij(" ",n.asset.performance,"% "),t.xp6(1),t.AsE(" ",n.hidden?n.amount:n.asset.value," ",n.cryptoDashboard.currency," "),t.xp6(2),t.AsE(" ",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol," "),t.xp6(3),t.Gre("badge ",0==n.asset.performance?"badge-warning":n.asset.performance>0?"badge-success":"badge-danger",""),t.xp6(1),t.s9C("name",0==n.asset.performance?"arrow-down-outline":n.asset.performance>0?"arrow-up-outline":"arrow-down-outline"),t.xp6(1),t.hij(" ",n.asset.performance,"% "),t.xp6(1),t.AsE(" ",n.hidden?n.amount:n.asset.value," ",n.cryptoDashboard.currency," "),t.xp6(2),t.AsE(" ",n.hidden?n.amount:n.asset.balance," ",n.asset.symbol," "),t.xp6(7),t.hij(" ",t.lcZ(32,29,"crypto.asset.tab1")," "),t.xp6(4),t.hij(" ",t.lcZ(36,31,"crypto.asset.tab2")," "),t.xp6(4),t.hij(" ",t.lcZ(40,33,"crypto.asset.tab3")," "),t.xp6(4),t.Q6J("hidden",n.hidden)("asset",n.asset)("cryptoDashboard",n.cryptoDashboard)("assetName",n.assetName),t.xp6(2),t.Q6J("assetSymbol",n.asset.symbol))},directives:[L,v.gu,_i,fi,Ci],pipes:[_.X$],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -40px 30px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden!important}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-40px!important}.details_mobile[_ngcontent-%COMP%]{position:absolute;top:235px;height:70px;width:95%;background-color:#121212}.datas[_ngcontent-%COMP%]{position:absolute;top:240px}.tradingview-widget-container[_ngcontent-%COMP%]{height:210px;width:95%}}.w30[_ngcontent-%COMP%]{width:40px;height:40px}.transparent[_ngcontent-%COMP%]{background-color:transparent!important;margin-left:-10px!important;margin-right:-10px!important}.inside[_ngcontent-%COMP%]{position:absolute;right:110px;top:60px}.tradingview-widget-container[_ngcontent-%COMP%]{margin:5px 5px 0}"]}),i})();function Oi(i,s){if(1&i&&(t.TgZ(0,"span"),t._UZ(1,"i"),t._uU(2),t.qZA()),2&i){const e=t.oxw().$implicit;t.Gre("",null!=e.history?0==e.history[e.history.length-1].percentage?"text-warning":e.history[e.history.length-1].percentage>0?"text-success":"text-danger":"text-warning"," mr-2"),t.xp6(1),t.Gre("fa ",null!=e.history&&e.history[e.history.length-1].percentage>0?"fa-arrow-up":"fa-arrow-down",""),t.xp6(1),t.AsE("",null!=e.history&&e.history[e.history.length-1].percentage>=1e3?"+":""," ",null!=e.history?e.history[e.history.length-1].percentage:0,"%")}}function Mi(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"stats.data.deleted")))}function Di(i,s){if(1&i&&(t.TgZ(0,"div",24),t.TgZ(1,"div",25),t.TgZ(2,"div",26),t.TgZ(3,"div",27),t.TgZ(4,"div",28),t.TgZ(5,"h5",29),t._uU(6),t.qZA(),t.TgZ(7,"span",30),t.TgZ(8,"small"),t._uU(9),t.qZA(),t._uU(10),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"span",31),t.TgZ(13,"small"),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",32),t._UZ(16,"img",33),t.qZA(),t.qZA(),t.TgZ(17,"p",34),t.TgZ(18,"span",35),t.YNc(19,Oi,3,8,"span",36),t.YNc(20,Mi,3,3,"span",37),t.qZA(),t.TgZ(21,"span",38),t._uU(22),t.ALo(23,"translate"),t.ALo(24,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(6),t.AsE(" ",e.name," (",e.symbol,") "),t.xp6(3),t.Oqu(n.resumeData.currency),t.xp6(1),t.hij(" ",n.isPast&&e.history&&e.history[e.history.length-1].balance?n.hidden?n.amount:e.history[e.history.length-1].balance:n.hidden?n.amount:e.value,""),t.xp6(4),t.AsE("",n.hidden?n.amount:e.balance," ",e.symbol,""),t.xp6(2),t.s9C("src",null==e?null:e.icon,t.LSH),t.xp6(3),t.Q6J("ngIf",!e.deletedDate),t.xp6(1),t.Q6J("ngIf",e.deletedDate),t.xp6(2),t.AsE("",t.lcZ(23,11,"stats.since")," ",null!=e.history?e.history[e.history.length-1].date:t.xi3(24,13,"","dd MMM y"),"")}}function Si(i,s){1&i&&(t.TgZ(0,"div",40),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function Ui(i,s){if(1&i&&t._UZ(0,"apx-chart",41),2&i){const e=t.oxw(2);t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("title",e.chartOptions.title)("colors",e.chartOptions.colors)("legend",e.chartOptions.legend)("stroke",e.chartOptions.stroke)("labels",e.chartOptions.labels)}}function Ei(i,s){if(1&i&&(t.TgZ(0,"th",50),t._UZ(1,"img",51),t._uU(2),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.s9C("src",e.icon,t.LSH),t.xp6(1),t.hij(" ",e.name," ")}}function Li(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.percentage>=1e3?"+1000":e.percentage,"%)")}}function Ii(i,s){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.YNc(2,Li,2,1,"span",54),t.qZA()),2&i){const e=s.$implicit,n=s.index,a=t.oxw().$implicit,o=t.oxw(3);t.IyS("",a.index!=n?0===e.percentage?"text-warning":e.percentage>0?"text-success":"text-danger":""," ",a.index-1===n||a.index===n?"text-end":"text-center","\n      ",a.index===n?0===e.balance?"text-warning":e.balance>0?"text-success":"text-danger":"",""),t.xp6(1),t.AsE(" ",o.resumeData.currency," ",o.hidden?o.amount:e.balance," "),t.xp6(1),t.Q6J("ngIf",a.index!=n)}}function ki(i,s){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",52),t._uU(2),t.ALo(3,"date"),t.qZA(),t.YNc(4,Ii,3,8,"td",53),t.qZA()),2&i){const e=s.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,e[e.length-2].date,"d MMM y")," "),t.xp6(2),t.Q6J("ngForOf",e)}}function Ni(i,s){1&i&&(t.TgZ(0,"div",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.resume.warning")," "))}function Ji(i,s){if(1&i&&(t.TgZ(0,"div",42),t.TgZ(1,"div",43),t.TgZ(2,"table",44),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th",45),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,Ei,3,2,"th",46),t.TgZ(9,"th",47),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th",47),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.YNc(16,ki,5,5,"tr",48),t.qZA(),t.qZA(),t.YNc(17,Ni,3,3,"div",49),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(6),t.hij(" ",t.lcZ(7,6,"stats.data.table_date")," "),t.xp6(2),t.Q6J("ngForOf",e.resumeData.assets),t.xp6(2),t.hij(" ",t.lcZ(11,8,"stats.data.table_balance")," "),t.xp6(3),t.hij(" ",t.lcZ(14,10,"stats.data.table_trend")," "),t.xp6(3),t.Q6J("ngForOf",e.tableBalance.slice().reverse()),t.xp6(1),t.Q6J("ngIf",0==e.tableBalance.length)}}function Pi(i,s){if(1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"a",3),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._UZ(6,"i",7),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"strong"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p",8),t._uU(12),t.ALo(13,"translate"),t.ALo(14,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",9),t.TgZ(16,"div",10),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",2),t.TgZ(19,"a",3),t.TgZ(20,"div",4),t.TgZ(21,"div",5),t.TgZ(22,"div",11),t._UZ(23,"i",12),t.qZA(),t.qZA(),t.TgZ(24,"div"),t.TgZ(25,"strong"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"p",8),t._uU(29),t.ALo(30,"translate"),t.ALo(31,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",9),t.TgZ(33,"div",13),t._uU(34),t.qZA(),t.TgZ(35,"div",14),t.TgZ(36,"span"),t._UZ(37,"i"),t._uU(38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",15),t.TgZ(40,"div",16),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"div",1),t.YNc(44,Di,25,16,"div",17),t.qZA(),t.qZA(),t.TgZ(45,"div",18),t.TgZ(46,"div",16),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div",19),t.YNc(50,Si,5,0,"div",20),t.YNc(51,Ui,1,7,"apx-chart",21),t.qZA(),t.qZA(),t.TgZ(52,"div",22),t.TgZ(53,"div",16),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.YNc(56,Ji,18,12,"div",23),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,27,"stats.total")),t.xp6(3),t.AsE(" ",t.lcZ(13,29,"stats.since")," ",t.xi3(14,31,e.resumeData.lastUpdate,"dd MMM y")," "),t.xp6(5),t.AsE(" ",e.resumeData.currency," ",e.hidden?e.amount:e.resumeData.balance," "),t.xp6(9),t.Oqu(t.lcZ(27,34,"stats.performance")),t.xp6(3),t.AsE(" ",t.lcZ(30,36,"stats.since")," ",t.xi3(31,38,e.resumeData.holdingLong.lastUpdate,"dd MMM y")," "),t.xp6(4),t.Gre("price ",0==e.resumeData.holdingLong.performance?"text-warning":e.resumeData.holdingLong.performance>0?"text-success":"text-danger",""),t.xp6(1),t.AsE(" ",e.resumeData.currency," ",e.hidden?e.amount:e.resumeData.holdingLong.balance," "),t.xp6(2),t.Gre("",0==e.resumeData.holdingLong.performance?"text-warning":e.resumeData.holdingLong.performance>0?"text-success":"text-danger"," mr-2"),t.xp6(1),t.Gre("fa ",e.resumeData.holdingLong.performance>0?"fa-arrow-up":"fa-arrow-down",""),t.xp6(1),t.hij(" ",e.resumeData.holdingLong.performance,"%"),t.xp6(3),t.Oqu(t.lcZ(42,41,"crypto.resume.assetList")),t.xp6(3),t.Q6J("ngForOf",e.resumeDataFilterOnDate.assets),t.xp6(3),t.hij(" ",t.lcZ(48,43,"crypto.resume.graphAsset")," "),t.xp6(3),t.Q6J("ngIf",!e.chartOptions),t.xp6(1),t.Q6J("ngIf",e.chartOptions),t.xp6(3),t.hij(" ",t.lcZ(55,45,"crypto.resume.tableAsset")," "),t.xp6(2),t.Q6J("ngIf",e.resumeData.assets)}}let Yi=(()=>{class i{constructor(e,n){this.screenService=e,this.charts=n,this.amount="******",this.hidden=!1,this.resumeData=new M,this.isPast=!1,this.balances=[],this.filterDateHistory=[],this.resumeDataFilterOnDate=new M,this.tableBalance=[]}ngOnChanges(e){this.getDatas()}ngOnInit(){}getDatas(){this.resumeData.holdingLong.trend=this.resumeData.holdingLong.balance/(1+this.resumeData.holdingLong.performance/100),setTimeout(()=>{var e;this.resumeData.assets&&(this.resumeDataFilterOnDate=(0,m.p)(this.resumeData),this.isPast||(this.resumeDataFilterOnDate.assets=this.resumeDataFilterOnDate.assets.filter(n=>0!=n.balance)),this.chartOptions=(null===(e=this.screenService)||void 0===e?void 0:e.screenWidth)<=780?this.charts.renderCryptoDatas(this.resumeData,[200,this.isPast]):this.charts.renderCryptoDatas(this.resumeData,[350,this.isPast]))},100),this.renderTable()}renderTable(){this.tableBalance=[],this.balances=[],this.resumeData.statsAssetsDays&&this.resumeData.statsAssetsDays.forEach((e,n)=>{e.split("-"),e.split("-"),this.tableBalance.push(this.tableColumsCreateRefactor(e,n))})}tableColumsCreateRefactor(e,n){let a=[];this.resumeData.assets.forEach((h,Z)=>{var f;let O=null===(f=h.history)||void 0===f?void 0:f.find(x=>x.date.toString()===e);O?Z===this.resumeData.assets.length-1&&this.filterDateHistory.push(O.date.toString()):(O=new S.jk,O.balance=0,O.date=new Date(e),O.percentage=0,O.trend=0),a.push(O)});let o=new S.jk;o.balance=0,o.date=new Date(e),a.forEach(h=>{h&&null!=h.balance&&h.balance&&(o.balance=parseFloat((o.balance+h.balance).toFixed(2)))});let r=((o.balance-this.balances[this.balances.length-1])/this.balances[this.balances.length-1]*100).toFixed(2);o.percentage=parseFloat(r),(o.percentage===1/0||Number.isNaN(o.percentage)||0==n)&&(o.percentage=0);let c=new S.jk,p=(o.balance-this.balances[this.balances.length-1]).toFixed(2);return c.balance=parseFloat(p),Number.isNaN(c.balance)&&(c.balance=0),a.push(o),a.push(c),this.balances.push(o.balance),a.index=a.length-1,a}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(E.H),t.Y36(H.C))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-resume-assets"]],inputs:{hidden:"hidden",resumeData:"resumeData",isPast:"isPast"},features:[t.TTD],decls:1,vars:1,consts:[["class","transactions row",4,"ngIf"],[1,"transactions","row"],[1,"col-md-6","mt-2"],["routerLink","/crypto/asset",1,"item"],[1,"detail"],[1,"col-auto",2,"padding-right","20px"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"sincetot"],[1,"right","float-end"],["id","totale",1,"price"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-poll"],["id","pil"],[1,"price","float-end","performancetot"],[1,"mt-2","sec1"],[1,"section-title"],["class","col-xl-3 col-sm-6 mobile-size",4,"ngFor","ngForOf"],[1,"section","col-xl-12"],[1,"card","inner-round","border_round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"section","mt-2","mb-4","col-xl-12"],["class","card",4,"ngIf"],[1,"col-xl-3","col-sm-6","mobile-size"],[1,"card","border_round","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[1,"row"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],["id","tot1",1,"h2","font-weight-bold","mb-0"],[2,"margin-left","1px"],[1,"col-auto"],["alt","img",1,"image-block","imaged","w48","round-img",3,"src"],[1,"mt-3","mb-0","text-muted","text-sm"],[1,"performancesingle0","float-end"],[3,"class",4,"ngIf"],["class","badge badge-danger","style","width: 70px",4,"ngIf"],[1,"text-nowrap","sincetot"],[1,"badge","badge-danger",2,"width","70px"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col","class","text-center",4,"ngFor","ngForOf"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],["class","mx-auto text-center alert alert-danger mb-1","role","alert",4,"ngIf"],["scope","col",1,"text-center"],["alt","",1,"table-logo",3,"src"],["scope","row"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],["role","alert",1,"mx-auto","text-center","alert","alert-danger","mb-1"]],template:function(e,n){1&e&&t.YNc(0,Pi,57,47,"div",0),2&e&&t.Q6J("ngIf",n.resumeData.assets)},directives:[u.O5,A.yS,v.Fo,u.sg,Y.x],pipes:[_.X$,u.uU],styles:["@media screen and (max-width: 780px){.transactions[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}.mobile-size[_ngcontent-%COMP%]{margin-bottom:-15px}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}}.icon-shape[_ngcontent-%COMP%]{display:inline-flex;padding:12px;text-align:center;border-radius:50%;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{width:3rem;height:3rem}.round-img[_ngcontent-%COMP%]{border-radius:50%}.transactions[_ngcontent-%COMP%]{margin:0}.item[_ngcontent-%COMP%]{border-radius:20px}.table-logo[_ngcontent-%COMP%]{border-radius:50%;width:25px;height:25px;align-items:center;justify-content:center;margin-right:5px;margin-left:-10px}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),i})();function Fi(i,s){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function Qi(i,s){if(1&i&&t._UZ(0,"apx-chart",15),2&i){const e=t.oxw(2);t.Q6J("series",e.trading.series)("chart",e.trading.chart)("title",e.trading.title)("colors",e.trading.colors)("legend",e.trading.legend)("stroke",e.trading.stroke)("labels",e.trading.labels)}}function ji(i,s){if(1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"div",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",11),t.YNc(5,Fi,5,0,"div",12),t.YNc(6,Qi,1,7,"apx-chart",13),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"crypto.resume.graphAsset")," "),t.xp6(3),t.Q6J("ngIf",!e.trading),t.xp6(1),t.Q6J("ngIf",e.trading)}}function Ri(i,s){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",25),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td",26),t._uU(5),t.qZA(),t.TgZ(6,"td",26),t._uU(7),t.qZA(),t.TgZ(8,"td",26),t._uU(9),t.qZA(),t.TgZ(10,"td",26),t._uU(11),t.qZA(),t.TgZ(12,"th",27),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"td",26),t._uU(16),t.qZA(),t.TgZ(17,"td",26),t._uU(18),t.qZA(),t.TgZ(19,"td",26),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.qZA()),2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(2),t.hij(" ",t.xi3(3,32,e.entryDate,"d MMM y")," "),t.xp6(3),t.AsE(" ",null==e.assetSell?null:e.assetSell.symbol,"/",null==e.asset?null:e.asset.symbol," "),t.xp6(2),t.AsE(" ",e.entryQuantity," ",null==e.asset?null:e.asset.symbol," "),t.xp6(2),t.AsE(" ",e.entryPrice," ",n.cryptoDashboard.currency," "),t.xp6(2),t.AsE(" ",e.entryPriceValue," ",n.cryptoDashboard.currency," "),t.xp6(2),t.hij(" ",t.xi3(14,35,e.exitDate,"d MMM y")," "),t.xp6(3),t.AsE(" ",e.exitQuantity," ",null==e.assetSell?null:e.assetSell.symbol," "),t.xp6(2),t.AsE(" ",e.exitPrice," ",n.cryptoDashboard.currency," "),t.xp6(2),t.AsE(" ",e.exitPriceValue," ",n.cryptoDashboard.currency," "),t.xp6(1),t.Gre("text-center ",0==e.trend?"text-warning":e.trend>0?"text-success":"text-danger",""),t.xp6(1),t.lnq(" ",e.trend," ",n.cryptoDashboard.currency," (",e.performance,"%) "),t.xp6(1),t.Gre("text-center ",0==e.trend?"text-warning":e.trend>0?"text-success":"text-danger",""),t.xp6(1),t.AsE(" ",e.trendSum," ",n.cryptoDashboard.currency," "),t.xp6(1),t.Gre("text-end ",0==e.trend?"text-warning":e.trend>0?"text-success":"text-danger",""),t.xp6(1),t.AsE(" ",e.balance," ",n.cryptoDashboard.currency," ")}}function Hi(i,s){1&i&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.resume.warning")," "))}function Bi(i,s){if(1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"div",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",17),t.TgZ(5,"div",18),t.TgZ(6,"table",19),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th",20),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th",21),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",21),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th",21),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th",21),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th",21),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",21),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th",21),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th",21),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th",21),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"th",21),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"th",22),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"tbody"),t.YNc(46,Ri,27,38,"tr",23),t.qZA(),t.qZA(),t.YNc(47,Hi,3,3,"div",24),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.lnq(" ",t.lcZ(3,17,"crypto.resume.trading.table.title")," ",e.invested," ",e.cryptoDashboard.currency," "),t.xp6(8),t.hij(" ",t.lcZ(11,19,"crypto.resume.trading.table.tab1")," "),t.xp6(3),t.hij(" ",t.lcZ(14,21,"crypto.resume.trading.table.tab2")," "),t.xp6(3),t.hij(" ",t.lcZ(17,23,"crypto.resume.trading.table.tab3")," "),t.xp6(3),t.hij(" ",t.lcZ(20,25,"crypto.resume.trading.table.tab4")," "),t.xp6(3),t.hij(" ",t.lcZ(23,27,"crypto.resume.trading.table.tab5")," "),t.xp6(3),t.hij(" ",t.lcZ(26,29,"crypto.resume.trading.table.tab6")," "),t.xp6(3),t.hij(" ",t.lcZ(29,31,"crypto.resume.trading.table.tab7")," "),t.xp6(3),t.hij(" ",t.lcZ(32,33,"crypto.resume.trading.table.tab8")," "),t.xp6(3),t.hij(" ",t.lcZ(35,35,"crypto.resume.trading.table.tab9")," "),t.xp6(3),t.hij(" ",t.lcZ(38,37,"crypto.resume.trading.table.tab10")," "),t.xp6(3),t.hij(" ",t.lcZ(41,39,"crypto.resume.trading.table.tab11")," "),t.xp6(3),t.hij(" ",t.lcZ(44,41,"crypto.resume.trading.table.tab12")," "),t.xp6(3),t.Q6J("ngForOf",e.operations),t.xp6(1),t.Q6J("ngIf",e.operations&&0==e.operations.length)}}let Wi=(()=>{class i{constructor(e,n,a,o){this.cryptoService=e,this.router=n,this.screenService=a,this.charts=o,this.cryptoDashboard=new M,this.wallets=[],this.operations=[],this.walletsFilter=[],this.invested=0}get modalConstant(){return l.Dq}ngOnChanges(e){this.filterWallet(),this.getOperations()}ngOnInit(){this.filterWallet()}filterWallet(){let e=(0,m.p)(this.wallets);e&&(this.walletsFilter=e.filter(n=>n.type==l.jw.TRADING),this.walletsFilter.forEach(n=>{n.assets&&n.assets.length>0&&n.assets.forEach(a=>{a.operations&&a.operations.length>0&&(a.operations=a.operations.filter(o=>o.type==l.jw.TRADING))})}))}getOperations(){var e;let n=0,a=[],o=(0,m.p)(this.wallets);return o&&o.forEach(r=>{r.assets&&r.assets.length>0&&r.assets.forEach(c=>{r.type==l.jw.TRADING&&(n+=c.invested),c.operations&&c.operations.length>0&&(c.operations=c.operations.filter(p=>p.type==l.jw.TRADING),c.operations.forEach(p=>{p.asset=c,p.wallet=r,p.type!=l.jw.NEWINVESTMENT&&(p.assetSell=(0,m.p)(this.cryptoService.cryptoDashboard.assets.find(h=>h.symbol==p.entryCoin))),a.push(p)}))})}),a=a.filter(r=>r.type==l.jw.TRADING),a.sort((r,c)=>r.entryDate<c.entryDate?1:-1),this.trading=(null===(e=this.screenService)||void 0===e?void 0:e.screenWidth)<=780?this.charts.renderTradingOperations(a,[200]):this.charts.renderTradingOperations(a,[350]),this.getOperationTable(a,n),a}goToOperations(){let e=P();this.cryptoService.operationsMap.set(e,this.getOperations()),this.router.navigate(["/crypto/operations/"+this.cryptoDashboard.currency+"/"+e])}getOperationTable(e,n){let a=n,o=0;this.operations=(0,m.p)(e).filter(r=>"CLOSED"==r.status),this.operations.reverse().forEach(r=>{r.trendSum=parseFloat((o+=r.trend).toFixed(2)),r.balance=parseFloat((a+=r.trend).toFixed(2))}),this.operations.reverse(),this.invested=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(A.F0),t.Y36(E.H),t.Y36(H.C))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-trading-resume"]],inputs:{cryptoDashboard:"cryptoDashboard",wallets:"wallets"},features:[t.TTD],decls:13,vars:12,consts:[[1,"transactions","row"],["class","section col-xl-12",4,"ngIf"],["class","section mt-2 mb-4 col-xl-12",4,"ngIf"],[1,"col-md-12"],[1,"section","cards-op","mt-2"],[1,"section-heading"],[1,"title"],[1,"link","clickable",3,"click"],[3,"modalID","cryptoDashboard","walletsAsset","isAssetOperations"],[1,"section","col-xl-12"],[1,"section-title"],[1,"card","inner-round","border_round"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["type","area","class","border_round",3,"series","chart","title","colors","legend","stroke","labels",4,"ngIf"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],["type","area",1,"border_round",3,"series","chart","title","colors","legend","stroke","labels"],[1,"section","mt-2","mb-4","col-xl-12"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],["class","mx-auto text-center alert alert-danger mb-1","role","alert",4,"ngIf"],["scope","row"],[1,"text-center"],["scope","row",1,"text-center"],["role","alert",1,"mx-auto","text-center","alert","alert-danger","mb-1"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ji,7,5,"div",1),t.YNc(2,Bi,48,43,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h2",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"a",7),t.NdJ("click",function(){return n.goToOperations()}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.qZA(),t._UZ(12,"app-operations-list",8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.trading&&1!=(null==n.trading||null==n.trading.labels?null:n.trading.labels.length)),t.xp6(1),t.Q6J("ngIf",n.operations&&n.operations.length>0),t.xp6(5),t.hij(" ",t.lcZ(8,8,"crypto.asset.details.overview.operations")," "),t.xp6(3),t.Oqu(t.lcZ(11,10,"crypto.asset.details.overview.view")),t.xp6(2),t.Q6J("modalID",n.modalConstant.CRYPTOTRADINGRESUME)("cryptoDashboard",n.cryptoDashboard)("walletsAsset",n.walletsFilter)("isAssetOperations",!0))},directives:[u.O5,Y.x,u.sg,W],pipes:[_.X$,u.uU],styles:[".transactions[_ngcontent-%COMP%]{margin:0}@media screen and (max-width: 780px){.transactions[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important}.inner-round[_ngcontent-%COMP%]{min-height:200px!important}.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important;margin-bottom:15px}}.round-img[_ngcontent-%COMP%]{border-radius:50%}.inner-round[_ngcontent-%COMP%]{min-height:350px}"]}),i})();var Vi=g(5830),Gi=g(3223),pt=g(4155);function $i(i,s){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",15),t._UZ(2,"img",16),t._uU(3),t.qZA(),t.TgZ(4,"td",17),t._uU(5),t.qZA(),t.TgZ(6,"td",17),t._uU(7),t.qZA(),t.TgZ(8,"td",18),t._uU(9),t.qZA(),t.TgZ(10,"td",17),t._uU(11),t.qZA(),t.TgZ(12,"td",19),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.qZA()),2&i){const e=s.$implicit,n=t.oxw();t.xp6(2),t.s9C("src",e.icon,t.LSH),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.AsE(" ",n.hidden?n.amount:e.balance," ",e.symbol," "),t.xp6(2),t.AsE(" ",n.hidden?n.amount:e.invested," ",n.cryptoCurrency," "),t.xp6(2),t.AsE(" ",n.hidden?n.amount:(e.invested/e.balance).toFixed(2)," ",n.cryptoCurrency," "),t.xp6(2),t.AsE(" ",e.current_price," ",n.cryptoCurrency," "),t.xp6(2),t.AsE(" ",n.hidden?n.amount:e.value," ",n.cryptoCurrency," "),t.xp6(1),t.Gre("text-end ",e.value-e.invested==0?"text-warning":e.value-e.invested>0?"text-success":"text-danger",""),t.xp6(1),t.AsE(" ",n.hidden?n.amount:(e.value-e.invested).toFixed(2)," ",n.cryptoCurrency," "),t.xp6(1),t.Gre("text-end ",(e.value-e.invested)/e.invested*100==0?"text-warning":(e.value-e.invested)/e.invested*100>0?"text-success":"text-danger",""),t.xp6(1),t.hij(" ",((e.value-e.invested)/e.invested*100).toFixed(2),"% ")}}function zi(i,s){if(1&i&&(t.TgZ(0,"tr",21),t.TgZ(1,"th",15),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.qZA()),2&i){const e=s.$implicit,n=s.index,a=t.oxw().$implicit,o=t.oxw();t.xp6(2),t.hij(" ",a[a.length-1].date," "),t.xp6(1),t.MT6("",0===e.percentage?"text-warning":e.percentage>0?"text-success":"text-danger"," ",e.index===n?"text-end":"",""),t.xp6(1),t.AsE(" ",o.cryptoCurrency," ",o.hidden?o.amount:e.balance," "),t.xp6(1),t.Gre("",0===e.percentage?"text-warning":e.percentage>0?"text-success":"text-danger"," text-end"),t.xp6(1),t.hij(" ",e.percentage,"% "),t.xp6(1),t.Gre("",0===e.trend?"text-warning":e.trend>0?"text-success":"text-danger"," text-end"),t.xp6(1),t.AsE(" ",o.cryptoCurrency," ",o.hidden?o.amount:e.trend," ")}}function Xi(i,s){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,zi,9,16,"tr",20),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function Ki(i,s){1&i&&(t.TgZ(0,"div",26),t._UZ(1,"div"),t._UZ(2,"div"),t._UZ(3,"div"),t._UZ(4,"div"),t.qZA())}function ta(i,s){if(1&i&&(t.TgZ(0,"div",22),t.TgZ(1,"div",23),t.YNc(2,Ki,5,0,"div",24),t._UZ(3,"canvas",25),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.lineChartJS),t.xp6(1),t.Q6J("type","line")("data",e.lineChartJS.lineChartData)("options",e.lineChartJS.lineChartOptions)("legend",e.lineChartJS.lineChartLegend)}}function ea(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"div",28),t.TgZ(2,"div",11),t.TgZ(3,"h2",29),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"a",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToOperations()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t._UZ(9,"app-operations-list",31),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,5,"crypto.asset.details.overview.operations")," "),t.xp6(3),t.Oqu(t.lcZ(8,7,"crypto.asset.details.overview.view")),t.xp6(2),t.Q6J("modalID",e.modalConstant.CRYPTOHISTORY)("cryptoDashboard",e.cryptoService.cryptoDashboard)("walletsAsset",e.cryptoService.cryptoDashboard.wallets)}}let na=(()=>{class i{constructor(e,n,a,o){this.cryptoService=e,this.router=n,this.logger=a,this.chartsJS=o,this.amount="******",this.hidden=!1,this.cryptoCurrency="",this.assets=[],this.totalList=[],this.totalMap=new Map,this.balances=[],this.tableBalance=[],this.isOperationPresent=!1,this.operations=[],this.lineChartJS=new Vi.U}get modalConstant(){return l.Dq}get operationTypeConstant(){return l.jw}ngOnChanges(e){this.getResume(),this.getOperations()}ngOnInit(){this.getOperations()}getResume(){this.tableBalance=[],this.cryptoResume||(this.cryptoResume=(0,m.p)(this.cryptoService.cryptoResume)),this.cryptoResume.forEach((e,n)=>{this.tableBalance.push(this.tableCreate(n,e))}),this.totalMap.set("History",this.totalList),this.renderChart()}renderChart(){setTimeout(()=>{this.lineChartJS=this.chartsJS.renderChartLine(this.totalMap)},500)}tableCreate(e,n){let a=[],o=new S.jk;o.balance=n.balance,o.date=e;let r=((o.balance-this.balances[this.balances.length-1])/this.balances[this.balances.length-1]*100).toFixed(2),c=parseFloat((o.balance-this.balances[this.balances.length-1]).toFixed(2));return(Number.isNaN(o.balance)||null==o.balance)&&(o.balance=0),o.percentage=parseFloat(r),Number.isNaN(o.percentage)&&(o.percentage=0),o.trend=c,Number.isNaN(o.trend)&&(o.trend=0),a.push(o),this.totalList.push(o),this.balances.push(o.balance),a.index=a.length-1,a}getOperations(){let e=(0,m.p)(this.cryptoService.cryptoDashboard.assets);this.assets=e.filter(a=>a.balance>0),this.operations=[],(0,m.p)(this.cryptoService.cryptoDashboard.wallets).forEach(a=>{a.assets&&a.assets.length>0&&a.assets.forEach(o=>{o.operations&&o.operations.length>0&&o.operations.forEach(r=>{r.asset=o,r.wallet=a,r.type!=l.jw.NEWINVESTMENT&&(r.assetSell=(0,m.p)(this.cryptoService.cryptoDashboard.assets.find(c=>c.symbol==r.entryCoin))),this.operations.push(r)})})}),this.operations.sort((a,o)=>a.exitDate<o.exitDate?1:-1),this.operations.length>0&&(this.isOperationPresent=!0)}goToOperations(){let e=P();this.cryptoService.operationsMap.set(e,this.operations),this.router.navigate(["/crypto/operations/"+this.cryptoCurrency+"/"+e])}selectOperation(e){this.operationSelect=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(A.F0),t.Y36(D.m),t.Y36(Gi.Q))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-investments-history"]],inputs:{hidden:"hidden",cryptoResume:"cryptoResume",cryptoCurrency:"cryptoCurrency"},features:[t.TTD],decls:65,vars:49,consts:[[1,"row"],[1,"section","mt-2","col-xl-8","col-md-7"],[1,"section-title"],[1,"card"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"section","mt-2","col-xl-4","col-md-5"],["hidden","",1,"section","mt-4","col-xl-8","col-md-7"],[1,"section-heading"],["id","year",1,"title"],["class","card border_round",4,"ngIf"],["class","section mb-3 col-md-12",4,"ngIf"],["scope","row"],["width","30","height","30","alt","","srcset","",1,"me-1",3,"src"],[1,"text-end"],[1,"text-end","text-primary"],[1,"text-end","text-secondary"],["class","topics",4,"ngFor","ngForOf"],[1,"topics"],[1,"card","border_round"],[1,"card-body",2,"min-height","380px"],["class","lds-ellipsis position-absolute top-50 start-50 translate-middle",4,"ngIf"],["baseChart","","height","400",3,"type","data","options","legend"],[1,"lds-ellipsis","position-absolute","top-50","start-50","translate-middle"],[1,"section","mb-3","col-md-12"],[1,"section","cards-op","mt-4"],[1,"title"],[1,"link","clickable",3,"click"],[3,"modalID","cryptoDashboard","walletsAsset"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"table",5),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th",6),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",7),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",7),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",7),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",7),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",7),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",7),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",7),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"tbody"),t.YNc(35,$i,18,21,"tr",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",9),t.TgZ(37,"div",2),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",3),t.TgZ(41,"div",4),t.TgZ(42,"table",5),t.TgZ(43,"thead"),t.TgZ(44,"tr"),t.TgZ(45,"th",6),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"th",6),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"th",7),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"th",7),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(57,Xi,2,1,"tbody",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"div",10),t.TgZ(59,"div",11),t.TgZ(60,"h2",12),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.qZA(),t.YNc(63,ta,4,5,"div",13),t.qZA(),t.YNc(64,ea,10,9,"div",14),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,19,"crypto.resume.investments.price.title")," "),t.xp6(8),t.hij(" ",t.lcZ(12,21,"crypto.resume.investments.price.table.tab1")," "),t.xp6(3),t.hij(" ",t.lcZ(15,23,"crypto.resume.investments.price.table.tab2")," "),t.xp6(3),t.hij(" ",t.lcZ(18,25,"crypto.resume.investments.price.table.tab3")," "),t.xp6(3),t.hij(" ",t.lcZ(21,27,"crypto.resume.investments.price.table.tab4")," "),t.xp6(3),t.hij(" ",t.lcZ(24,29,"crypto.resume.investments.price.table.tab5")," "),t.xp6(3),t.hij(" ",t.lcZ(27,31,"crypto.resume.investments.price.table.tab6")," "),t.xp6(3),t.hij(" ",t.lcZ(30,33,"crypto.resume.investments.price.table.tab7")," "),t.xp6(3),t.hij(" ",t.lcZ(33,35,"crypto.resume.investments.price.table.tab8")," "),t.xp6(3),t.Q6J("ngForOf",n.assets),t.xp6(3),t.hij(" ",t.lcZ(39,37,"stats.data.history")," "),t.xp6(8),t.hij(" ",t.lcZ(47,39,"stats.data.table_date")," "),t.xp6(3),t.hij(" ",t.lcZ(50,41,"stats.data.table_balance")," "),t.xp6(3),t.hij(" ",t.lcZ(53,43,"stats.data.table_performance")," "),t.xp6(3),t.hij(" ",t.lcZ(56,45,"stats.data.table_value")," "),t.xp6(2),t.Q6J("ngForOf",n.tableBalance.slice().reverse()),t.xp6(4),t.hij(" ",t.lcZ(62,47,"stats.data.graphHistory")," "),t.xp6(2),t.Q6J("ngIf",n.cryptoResume),t.xp6(1),t.Q6J("ngIf",n.isOperationPresent))},directives:[u.sg,u.O5,pt.jh,W],pipes:[_.X$],styles:[".icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}.rounded-pill[_ngcontent-%COMP%]{background-color:#000!important}@media screen and (max-width: 780px){.cards-op[_ngcontent-%COMP%]{margin-left:-10px!important;margin-right:-10px!important;margin-bottom:-5px}}"]}),i})();function ia(i,s){if(1&i&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",e," ")}}function aa(i,s){1&i&&(t.TgZ(0,"li",15),t.TgZ(1,"a",33),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"crypto.resume.tab.tab2")," "))}function oa(i,s){if(1&i&&t._UZ(0,"app-resume-assets",34),2&i){const e=t.oxw();t.Q6J("hidden",e.hidden)("resumeData",e.resumeData)("isPast",e.isPast)}}let sa=(()=>{class i{constructor(e,n,a){this.cryptoService=e,this.screenService=n,this.logger=a,this.getResumeSub=new T.w0,this.amount="******",this.hidden=!1,this.assets=[],this.resumeData=new M,this.resume=new Map,this.years=[],this.isPast=!1}get modalConstant(){return l.Dq}ngOnInit(){this.screenService.hideFooter(),this.getResume()}getResume(){this.getResumeSub=this.cryptoService.getCryptoResumeData().subscribe(e=>{this.cryptoService.cache.cacheCryptoResumeData(e),this.logger.LOG(e.message,"CryptoResumeComponent"),this.resume=new Map(Object.entries(e.data)),this.years=Array.from(this.resume.keys()),this.updateData(this.years[this.years.length-1]),this.cryptoService.cryptoResume=this.resume}),this.isWalletBalanceHidden()}onChange(e){this.updateData(e.target.value)}updateData(e){this.isPast=this.years[this.years.length-1]!=e,this.resumeData=this.resume.get(e),this.assets=this.resumeData.assets}isOperationPresent(){let e=0;return this.resumeData.wallets&&this.resumeData.wallets.forEach(n=>{n.assets&&n.assets.length>0&&n.assets.forEach(a=>{null!=a.operations&&a.operations.length>0&&(e+=1)})}),e}isWalletBalanceHidden(){let e=JSON.parse(localStorage.getItem(l.Vs.HIDDENAMOUNT));null!=e&&(this.hidden=e)}ngOnDestroy(){this.getResumeSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(E.H),t.Y36(D.m))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crypto-resume"]],decls:43,vars:25,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule"],[1,"row",2,"margin-top","10px","margin-bottom","-60px"],[1,"col-md-6"],[1,"title-section"],[1,"title"],[1,"addWallet","col-md-6"],[1,"form-group","boxed"],[1,"input-wrapper",2,"max-width","150px","margin-left","80%"],["id","select4b",1,"form-control","custom-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"card","transparent"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","capsuled"],[1,"nav-item"],["data-bs-toggle","tab","href","#overview","role","tab",1,"nav-link","active"],["class","nav-item",4,"ngIf"],["data-bs-toggle","tab","href","#resume","role","tab",1,"nav-link"],[1,"tab-content","mt-1","margin-bottom-size"],["id","overview","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"hidden","resumeData","isPast",4,"ngIf"],["id","card","role","tabpanel",1,"tab-pane","fade"],["hidden","",1,"section","mt-2"],[1,"card"],[1,"card-body","text-center","mt-5","mb-5"],[1,"mx-auto"],["src","https://www.colibriensemble.it/wp-content/uploads/2018/07/Work-in-Progress.png","alt","","srcset",""],[3,"cryptoDashboard","wallets"],["id","resume","role","tabpanel",1,"tab-pane","fade"],[3,"hidden","cryptoResume","cryptoCurrency"],[3,"modalId","wallets","assets","currency","statsAssetsDays","emitAddStats"],[3,"value"],["data-bs-toggle","tab","href","#card","role","tab",1,"nav-link"],[3,"hidden","resumeData","isPast"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-crypto-header",1),t.ALo(2,"translate"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"h2",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"select",10),t.NdJ("change",function(o){return n.onChange(o)}),t.YNc(14,ia,2,2,"option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",12),t.TgZ(16,"div",13),t.TgZ(17,"ul",14),t.TgZ(18,"li",15),t.TgZ(19,"a",16),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.YNc(22,aa,4,3,"li",17),t.TgZ(23,"li",15),t.TgZ(24,"a",18),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",19),t.TgZ(28,"div",20),t.YNc(29,oa,1,3,"app-resume-assets",21),t.qZA(),t.TgZ(30,"div",22),t.TgZ(31,"div",23),t.TgZ(32,"div",24),t.TgZ(33,"div",25),t.TgZ(34,"div",26),t._UZ(35,"img",27),t.qZA(),t._UZ(36,"hr"),t.TgZ(37,"h1"),t._uU(38,"Work in Progress"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(39,"app-trading-resume",28),t.qZA(),t.TgZ(40,"div",29),t._UZ(41,"app-investments-history",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"app-operations-modal",31),t.NdJ("emitAddStats",function(){return n.getResume()}),t.qZA()),2&e&&(t.xp6(1),t.s9C("title",t.lcZ(2,17,"crypto.resume.title")),t.xp6(7),t.Oqu(t.lcZ(9,19,"crypto.resume.title")),t.xp6(6),t.Q6J("ngForOf",n.years.slice().reverse()),t.xp6(6),t.hij(" ",t.lcZ(21,21,"crypto.resume.tab.tab1")," "),t.xp6(2),t.Q6J("ngIf",n.isOperationPresent()>0),t.xp6(3),t.hij(" ",t.lcZ(26,23,"crypto.resume.tab.tab3")," "),t.xp6(4),t.Q6J("ngIf",n.assets&&n.assets.length),t.xp6(10),t.Q6J("cryptoDashboard",n.resumeData)("wallets",n.resumeData.wallets),t.xp6(2),t.Q6J("hidden",n.hidden)("cryptoResume",n.resume)("cryptoCurrency",n.resumeData.currency),t.xp6(1),t.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoService.cryptoDashboard.wallets)("assets",n.cryptoService.cryptoDashboard.assets)("currency",n.cryptoService.cryptoDashboard.currency)("statsAssetsDays",n.cryptoService.cryptoDashboard.statsAssetsDays))},directives:[L,u.sg,d.YN,d.Kr,u.O5,Yi,Wi,na,R],pipes:[_.X$],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -60px 30px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:10px!important;margin-bottom:20px!important}.input-wrapper[_ngcontent-%COMP%]{max-width:90%!important;margin-left:8%!important}.transactions[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}}.transparent[_ngcontent-%COMP%]{background-color:transparent!important;margin-left:0!important;margin-right:0!important}.addWallet[_ngcontent-%COMP%]{padding-right:30px}"]}),i})();function ra(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"input",33),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).selectTransferWallet(o)}),t.qZA(),t.TgZ(2,"label",34),t.TgZ(3,"div",35),t.TgZ(4,"div",36),t.TgZ(5,"p"),t._uU(6),t._UZ(7,"br"),t.TgZ(8,"small"),t._uU(9),t.qZA(),t.qZA(),t._UZ(10,"img",37),t.TgZ(11,"small"),t.TgZ(12,"p"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",38),t.TgZ(16,"div",39),t._UZ(17,"i",40),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit;t.xp6(1),t.s9C("id",e.id),t.xp6(1),t.s9C("for",e.id),t.xp6(4),t.hij(" ",e.name," "),t.xp6(3),t.hij("(",e.type,")"),t.xp6(1),t.s9C("src",e.img,t.LSH),t.xp6(3),t.AsE(" ",t.lcZ(14,7,"crypto.operationExchange.balance"),"",e.balance," ")}}function la(i,s){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",27),t.TgZ(2,"h2",28),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",29),t.TgZ(6,"div",30),t.YNc(7,ra,18,9,"div",31),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,2,"crypto.operationExchange.select")," "),t.xp6(4),t.Q6J("ngForOf",e.wallets)}}function ca(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditFees=!0}),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,3,"crypto.operationExchange.fees"),": "),t.xp6(3),t.AsE(" ",e.fees," ",e.assetInWallet.symbol,"")}}function da(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",57),t.TgZ(1,"div",58),t.TgZ(2,"div",59),t.TgZ(3,"div",60),t.TgZ(4,"label",61),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",62,63),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).fees=a}),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"i",64),t._UZ(11,"ion-icon",65),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",66),t.TgZ(13,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).makeNewBalance()}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(26);t.xp6(5),t.AsE("",t.lcZ(6,7,"crypto.operationExchange.editFees")," ",e.marketDataSelected.symbol,""),t.xp6(2),t.s9C("value",e.fees),t.s9C("placeholder",t.lcZ(9,9,"crypto.operationExchange.updateFees")),t.Q6J("ngModel",e.fees),t.xp6(6),t.Q6J("disabled",n.invalid),t.xp6(1),t.hij(" ",t.lcZ(15,11,"crypto.operationExchange.save")," ")}}function pa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"div",42),t.TgZ(2,"div",36),t.TgZ(3,"div",43),t.TgZ(4,"div",44),t.TgZ(5,"label",45),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",46),t.YNc(9,ca,5,5,"div",47),t.YNc(10,da,16,13,"div",48),t.qZA(),t.qZA(),t.TgZ(11,"div",49),t.TgZ(12,"div",50),t.TgZ(13,"input",51,52),t.NdJ("keyup",function(){return t.CHM(e),t.oxw().makeNewBalance()})("ngModelChange",function(a){return t.CHM(e),t.oxw().investedMoney=a}),t.qZA(),t.qZA(),t.TgZ(15,"div",53),t.TgZ(16,"select",54),t.TgZ(17,"option",55),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,7,"crypto.operationExchange.from")),t.xp6(3),t.Q6J("ngIf",!e.isEditFees),t.xp6(1),t.Q6J("ngIf",e.isEditFees),t.xp6(3),t.s9C("value",e.investedMoney),t.Q6J("ngModel",e.investedMoney),t.xp6(4),t.s9C("value",e.fiat),t.xp6(1),t.hij(" ",e.fiat," ")}}function ga(i,s){1&i&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.operationExchange.warning")," "))}function ua(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditFees=!0}),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t._uU(5),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,3,"crypto.operationExchange.fees"),": "),t.xp6(3),t.hij(" ",e.fees," "),t.xp6(1),t.hij(" ",e.assetToSell.symbol,"")}}function ha(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",57),t.TgZ(1,"div",58),t.TgZ(2,"div",59),t.TgZ(3,"div",60),t.TgZ(4,"label",61),t._uU(5),t.ALo(6,"translate"),t._uU(7),t.qZA(),t.TgZ(8,"input",62,63),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).fees=a}),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"i",64),t._UZ(12,"ion-icon",65),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",66),t.TgZ(14,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).makeNewBalance()}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(26);t.xp6(5),t.hij("",t.lcZ(6,7,"crypto.operationExchange.editFees")," "),t.xp6(2),t.hij(" ",e.assetToSell.symbol,""),t.xp6(1),t.s9C("value",e.fees),t.s9C("placeholder",t.lcZ(10,9,"crypto.operationExchange.updateFees")),t.Q6J("ngModel",e.fees),t.xp6(6),t.Q6J("disabled",n.invalid),t.xp6(1),t.hij(" ",t.lcZ(16,11,"crypto.operationExchange.save")," ")}}function ma(i,s){1&i&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.operationExchange.warningBalance")," "))}function _a(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"div",42),t.TgZ(2,"div",36),t.TgZ(3,"div",43),t.TgZ(4,"div",44),t.TgZ(5,"label",69),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",46),t.YNc(9,ua,6,5,"div",47),t.YNc(10,ha,17,13,"div",48),t.qZA(),t.TgZ(11,"div",70),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"strong"),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",30),t.TgZ(17,"div",71),t.TgZ(18,"div",49),t.TgZ(19,"div",50),t.TgZ(20,"input",72,73),t.NdJ("keyup",function(){return t.CHM(e),t.oxw().makeNewBalance()})("ngModelChange",function(a){return t.CHM(e),t.oxw().investedBalance=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",74),t.TgZ(23,"app-asset-select",75),t.NdJ("emitSelectAsset",function(a){return t.CHM(e),t.oxw().emitOperationSelectAsset(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,ma,3,3,"div",19),t.qZA()}if(2&i){const e=t.MAs(21),n=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,14,"crypto.operationExchange.from")),t.xp6(3),t.Q6J("ngIf",!n.isEditFees),t.xp6(1),t.Q6J("ngIf",n.isEditFees),t.xp6(2),t.hij(" ",t.lcZ(13,16,"crypto.operationExchange.balance")," "),t.xp6(3),t.AsE(" ",n.assetToSell.balance?n.assetToSell.balance:0," ",n.assetToSell.symbol,""),t.xp6(5),t.s9C("value",n.investedBalance),t.s9C("max",n.assetToSell.balance),t.Q6J("ngModel",n.investedBalance),t.xp6(3),t.Q6J("wrapperID",n.assetConstant.HOLDING)("fiat",n.fiat)("isOperation",!0)("cryptoPrices",n.wallet.assets),t.xp6(1),t.Q6J("ngIf",e.invalid)}}function Za(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditFees=!0}),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t._uU(5),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,3,"crypto.operationExchange.fees"),": "),t.xp6(3),t.hij(" ",e.fees," "),t.xp6(1),t.hij(" ",e.assetToSell.symbol,"")}}function Aa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",57),t.TgZ(1,"div",58),t.TgZ(2,"div",59),t.TgZ(3,"div",60),t.TgZ(4,"label",61),t._uU(5),t.ALo(6,"translate"),t._uU(7),t.qZA(),t.TgZ(8,"input",62,63),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).fees=a}),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"i",64),t._UZ(12,"ion-icon",65),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",66),t.TgZ(14,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).makeNewBalance()}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(26);t.xp6(5),t.hij("",t.lcZ(6,7,"crypto.operationExchange.editFees")," "),t.xp6(2),t.hij(" ",e.assetToSell.symbol,""),t.xp6(1),t.s9C("value",e.fees),t.s9C("placeholder",t.lcZ(10,9,"crypto.operationExchange.updateFees")),t.Q6J("ngModel",e.fees),t.xp6(6),t.Q6J("disabled",n.invalid),t.xp6(1),t.hij(" ",t.lcZ(16,11,"crypto.operationExchange.save")," ")}}function va(i,s){1&i&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.operationExchange.warningBalance")," "))}function Ta(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"div",42),t.TgZ(2,"div",36),t.TgZ(3,"div",43),t.TgZ(4,"div",44),t.TgZ(5,"label",69),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",46),t.YNc(9,Za,6,5,"div",47),t.YNc(10,Aa,17,13,"div",48),t.qZA(),t.TgZ(11,"div",70),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"strong"),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",30),t.TgZ(17,"div",71),t.TgZ(18,"div",49),t.TgZ(19,"div",50),t.TgZ(20,"input",76,77),t.NdJ("keyup",function(){return t.CHM(e),t.oxw().makeNewBalance()})("ngModelChange",function(a){return t.CHM(e),t.oxw().investedBalance=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",74),t.TgZ(23,"app-asset-select",75),t.NdJ("emitSelectAsset",function(a){return t.CHM(e),t.oxw().emitOperationSelectAsset(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,va,3,3,"div",19),t.qZA()}if(2&i){const e=t.MAs(21),n=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,14,"crypto.operationExchange.from")),t.xp6(3),t.Q6J("ngIf",!n.isEditFees),t.xp6(1),t.Q6J("ngIf",n.isEditFees),t.xp6(2),t.hij(" ",t.lcZ(13,16,"crypto.operationExchange.balance")," "),t.xp6(3),t.AsE(" ",n.assetToSell.balance?n.assetToSell.balance:0," ",n.assetToSell.symbol,""),t.xp6(5),t.s9C("value",n.investedBalance),t.s9C("max",n.assetToSell.balance),t.Q6J("ngModel",n.investedBalance),t.xp6(3),t.Q6J("wrapperID",n.assetConstant.TRADING)("fiat",n.fiat)("isOperation",!0)("cryptoPrices",n.stablecoin),t.xp6(1),t.Q6J("ngIf",e.invalid)}}function ya(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditFees=!0}),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,3,"crypto.operationExchange.fees"),": "),t.xp6(3),t.AsE(" ",e.fees," ",e.assetToSell.symbol,"")}}function fa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",57),t.TgZ(1,"div",58),t.TgZ(2,"div",59),t.TgZ(3,"div",60),t.TgZ(4,"label",61),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",62,63),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).fees=a}),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"i",64),t._UZ(11,"ion-icon",65),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",66),t.TgZ(13,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditFees=!1}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(26);t.xp6(5),t.AsE("",t.lcZ(6,7,"crypto.operationExchange.editFees")," ",e.marketDataSelected.symbol,""),t.xp6(2),t.s9C("value",e.fees),t.s9C("placeholder",t.lcZ(9,9,"crypto.operationExchange.updateFees")),t.Q6J("ngModel",e.fees),t.xp6(6),t.Q6J("disabled",n.invalid),t.xp6(1),t.hij(" ",t.lcZ(15,11,"crypto.operationExchange.save")," ")}}function xa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"div",42),t.TgZ(2,"div",36),t.TgZ(3,"div",43),t.TgZ(4,"div",44),t.TgZ(5,"label",69),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",46),t.YNc(9,ya,5,5,"div",47),t.YNc(10,fa,16,13,"div",48),t.qZA(),t.qZA(),t.TgZ(11,"div",30),t.TgZ(12,"div",78),t.TgZ(13,"div",49),t.TgZ(14,"div",50),t.TgZ(15,"input",79,80),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().balanceToTransfer=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",81),t.TgZ(18,"app-asset-select",75),t.NdJ("emitSelectAsset",function(a){return t.CHM(e),t.oxw().emitOperationSelectAsset(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,9,"crypto.operationExchange.to")),t.xp6(3),t.Q6J("ngIf",!e.isEditFees),t.xp6(1),t.Q6J("ngIf",e.isEditFees),t.xp6(5),t.s9C("value",e.balanceToTransfer),t.Q6J("ngModel",e.balanceToTransfer),t.xp6(3),t.Q6J("wrapperID",e.assetConstant.TRANSFER)("fiat",e.fiat)("isOperation",!0)("cryptoPrices",e.wallet.assets)}}function ba(i,s){1&i&&(t.TgZ(0,"div",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"crypto.operationExchange.warning")," "))}function Ca(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"div",42),t.TgZ(2,"div",36),t.TgZ(3,"div",43),t.TgZ(4,"div",44),t.TgZ(5,"label",69),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",46),t._uU(9),t.ALo(10,"translate"),t.TgZ(11,"strong"),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",30),t.TgZ(14,"div",78),t.TgZ(15,"div",49),t.TgZ(16,"div",50),t.TgZ(17,"input",82,83),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().assetNewBalance=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",81),t.TgZ(20,"app-asset-select",75),t.NdJ("emitSelectAsset",function(a){return t.CHM(e),t.oxw().emitSelectAsset(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,10,"crypto.operationExchange.to")),t.xp6(3),t.hij(" ",t.lcZ(10,12,"crypto.operationExchange.balance")," "),t.xp6(3),t.AsE(" ",e.assetInWallet.balance?e.assetInWallet.balance:0," ",e.assetInWallet.symbol,""),t.xp6(5),t.s9C("value",e.assetNewBalance),t.Q6J("ngModel",e.assetNewBalance),t.xp6(3),t.Q6J("wrapperID",e.assetConstant.NEWINVESTMENT)("fiat",e.fiat)("isOperation",!0)("cryptoPrices",e.marketData)}}function qa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditBalance=!0}),t.TgZ(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(e.marketDataSelected.symbol),t.xp6(1),t.AsE(" = ",e.marketDataSelected.current_price," ",e.fiat," ")}}function wa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",91),t.TgZ(1,"div",92),t.TgZ(2,"div",59),t.TgZ(3,"div",60),t.TgZ(4,"label",61),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",62,63),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).marketDataSelected.current_price=a}),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"i",64),t._UZ(11,"ion-icon",65),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",93),t.TgZ(13,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editBalance()}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(26);t.xp6(5),t.AsE("",t.lcZ(6,7,"crypto.operationExchange.price")," ",e.marketDataSelected.symbol,""),t.xp6(2),t.s9C("value",e.marketDataSelected.current_price),t.s9C("placeholder",t.lcZ(9,9,"crypto.operationExchange.newPrice")),t.Q6J("ngModel",e.marketDataSelected.current_price),t.xp6(6),t.Q6J("disabled",n.invalid),t.xp6(1),t.hij(" ",t.lcZ(15,11,"crypto.operationExchange.save")," ")}}function Oa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditDate=!0}),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,2,"crypto.operationExchange.last")," "),t.xp6(3),t.Oqu(e.operationDate?t.xi3(5,4,e.operationDate,"d MMM y"):"NEVER")}}function Ma(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",91),t.TgZ(1,"div",94),t.TgZ(2,"div",59),t.TgZ(3,"div",60),t.TgZ(4,"label",95),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",96,97),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).operationDate=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",93),t.TgZ(10,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isEditDate=!1}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2),n=t.MAs(26);t.xp6(5),t.hij("",t.lcZ(6,5,"crypto.operationExchange.date")," "),t.xp6(2),t.s9C("value",e.operationDate),t.Q6J("ngModel",e.operationDate),t.xp6(3),t.Q6J("disabled",n.invalid),t.xp6(1),t.hij(" ",t.lcZ(12,7,"crypto.operationExchange.save")," ")}}function Da(i,s){if(1&i&&(t.TgZ(0,"div",41),t.TgZ(1,"div",84),t.TgZ(2,"div",85),t.TgZ(3,"div",86),t.YNc(4,qa,4,3,"div",47),t.TgZ(5,"div",87),t.YNc(6,wa,16,13,"div",88),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",85),t.TgZ(8,"div",89),t.YNc(9,Oa,6,7,"div",47),t.TgZ(10,"div",90),t.YNc(11,Ma,13,9,"div",88),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.isEditBalance),t.xp6(2),t.Q6J("ngIf",e.isEditBalance),t.xp6(3),t.Q6J("ngIf",!e.isEditDate),t.xp6(2),t.Q6J("ngIf",e.isEditDate)}}function Sa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",98),t.TgZ(1,"button",99),t.NdJ("click",function(){return t.CHM(e),t.oxw().exchangeInvestments()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(),n=t.MAs(26);t.xp6(1),t.Q6J("disabled",e.operationsValidation(n)),t.xp6(1),t.hij(" ",t.lcZ(3,2,"crypto.operationExchange.exchange")," ")}}let Ua=(()=>{class i{constructor(e,n,a,o,r,c,p,h){this.cryptoService=e,this.route=n,this.screenService=a,this.logger=o,this.swal=r,this.router=c,this.cdref=p,this.translate=h,this.saveWalletSubscribe=new T.w0,this.routeSubscribe=new T.w0,this.saveWalletsSubscribe=new T.w0,this.getPriceSubscribe=new T.w0,this.fiat="",this.operationType="",this.walletSelect="",this.wallet=new S.w5,this.isEditBalance=!1,this.isEditDate=!1,this.marketData=[],this.marketDataSelected=new k,this.assetInWallet=new k,this.investedMoney=100,this.assetNewBalance=0,this.investedBalance=0,this.stablecoin=[],this.walletToTansfer=new S.w5,this.wallets=[],this.isWalletSelected=!1,this.balanceToTransfer=0,this.isEditFees=!1,this.fees=0,this.operationDate=new Date,this.assetToSell=new k,this.screenService.hideFooter()}ngOnDestroy(){this.saveWalletSubscribe.unsubscribe(),this.saveWalletsSubscribe.unsubscribe(),this.routeSubscribe.unsubscribe(),this.getPriceSubscribe.unsubscribe()}get modalConstant(){return l.Dq}get assetConstant(){return l.KT}get operations(){return l.jw}ngOnInit(){this.getOperationExchange()}ngAfterContentChecked(){this.cdref.detectChanges()}getOperationExchange(){this.operationDate=new Date,this.routeSubscribe=this.route.params.subscribe(e=>{this.operationType=e.operationType,this.walletSelect=e.wallet,this.fiat=e.fiat;let n=(0,m.p)(this.cryptoService.cryptoDashboard.wallets.slice());if(this.filterWalletsTransfer(n),this.wallet=n.find(a=>a.name==this.walletSelect),this.getCryptoPrices(e.fiat),this.operationType==this.operations.TRADING){let a=(0,m.p)(this.wallet.assets);this.stablecoin=a.filter(o=>o.category==l.A_.STABLECOIN)}})}filterWalletsTransfer(e){this.wallets=(0,m.p)(e).filter(n=>n.name!=this.walletSelect)}getCryptoPrices(e){this.getPriceSubscribe=this.cryptoService.getCryptoPriceData(e).subscribe(n=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(n),this.logger.LOG(n.message,"OperationExchangeComponent"),this.marketData=n.data})}emitOperationSelectAsset(e){switch(this.assetToSell=e,this.operationType){case l.jw.HOLDING:case l.jw.TRADING:this.investedBalance=this.assetToSell.balance,this.makeNewBalance();break;case l.jw.TRANSFER:this.balanceToTransfer=this.assetToSell.balance,this.marketDataSelected=e}}emitSelectAsset(e){e.id=void 0,e.lastUpdate=new Date,e.performance=0,e.trend=0,this.marketDataSelected=e;let n=(0,m.p)(this.wallet.assets);this.assetInWallet=n&&n.find(a=>a.identifier==e.identifier)?n.find(a=>a.identifier==e.identifier):e,this.makeNewBalance()}makeNewBalance(){switch(this.operationType){case l.jw.HOLDING:case l.jw.TRADING:this.investedMoney=this.assetToSell.current_price*this.investedBalance,this.assetNewBalance=parseFloat((this.assetToSell.current_price*(this.investedBalance-this.fees)/this.marketDataSelected.current_price).toFixed(8));break;case l.jw.NEWINVESTMENT:this.assetNewBalance=parseFloat((this.investedMoney/this.marketDataSelected.current_price-this.fees).toFixed(8))}this.isEditFees=!1}selectTransferWallet(e){this.walletToTansfer=e,this.isWalletSelected=!0}isEmpty(e){return Number.isNaN(e)||null==e}exchangeInvestments(){let e=(0,m.p)(this.operationType==l.jw.NEWINVESTMENT?this.assetInWallet:this.assetToSell);e.lastUpdate=new Date;let n=new j,a=new k,o=0,r=new k;switch(this.operationType){case l.jw.NEWINVESTMENT:this.isEmpty(e.invested)?e.invested=this.investedMoney:e.invested+=this.investedMoney,this.isEmpty(e.balance)?e.balance=this.assetNewBalance:e.balance+=this.assetNewBalance,n.entryCoin=this.fiat,n.entryPrice=e.current_price,n.exitCoin=e.symbol,n.exitPrice=e.current_price;break;case l.jw.HOLDING:case l.jw.TRADING:o=e.invested*(this.investedMoney/e.value),e.balance-=this.investedBalance,0==e.balance&&(o=e.invested),e.invested-=o;const c=JSON.stringify(this.assetInWallet),p=JSON.parse(c);a=(0,m.p)(p),this.isEmpty(a.invested)?a.invested=o:a.invested+=o,this.isEmpty(a.balance)?a.balance=this.assetNewBalance:a.balance+=this.assetNewBalance;break;case l.jw.TRANSFER:o=e.invested*(this.balanceToTransfer/e.value),e.balance-=this.balanceToTransfer,0==e.balance&&(o=e.invested),e.invested-=o,r=this.walletToTansfer.assets?(0,m.p)(this.walletToTansfer.assets).find(h=>h.identifier==e.identifier):void 0,null==r&&(r=(0,m.p)(this.marketDataSelected),r.balance=0,r.id=void 0,r.invested=0,r.performance=0,r.trend=0,r.lastUpdate=e.lastUpdate,r.history=[]),r.balance+=this.balanceToTransfer-this.fees,r.invested+=o,n.entryPriceValue=parseFloat((this.balanceToTransfer*this.marketDataSelected.current_price).toFixed(2)),n.entryQuantity=this.balanceToTransfer,n.exitPriceValue=parseFloat(((this.balanceToTransfer-this.fees)*this.marketDataSelected.current_price).toFixed(2)),n.exitQuantity=this.balanceToTransfer-this.fees,n.performance=0,n.trend=0}if(n.identifier=P(),n.type=this.operationType,n.status=this.operationType!=l.jw.TRADING?"CLOSED":"OPEN",n.entryDate=new Date(this.operationDate),n.fees=this.fees,this.operationType!=l.jw.NEWINVESTMENT&&(n.entryCoin=e.symbol,n.entryPrice=this.marketDataSelected.current_price,n.exitCoin=a.symbol,this.operationType!=l.jw.TRADING&&(n.exitPrice=this.marketDataSelected.current_price)),this.operationType!=l.jw.TRANSFER&&(n.entryPriceValue=parseFloat(this.investedMoney.toFixed(2)),n.entryQuantity=this.assetNewBalance),this.operationType!=l.jw.TRADING&&(n.exitDate=new Date(this.operationDate),this.operationType!=l.jw.TRANSFER&&(n.exitPriceValue=parseFloat(this.investedMoney.toFixed(2)),n.exitQuantity=this.investedMoney)),this.operationType!=l.jw.TRANSFER){this.operationType==l.jw.NEWINVESTMENT?e.operations=[n]:a.operations=[n];let c=(0,m.p)(this.wallet);c.assets=this.operationType!=l.jw.NEWINVESTMENT?[a,e]:[e],this.saveWallet(c)}else{r.operations=[n];let c=(0,m.p)(this.wallet),p=(0,m.p)(this.walletToTansfer);c.assets=[e],p.assets=[r],this.saveWallets([c,p])}}saveWallet(e){this.saveWalletSubscribe=this.cryptoService.addOrUpdateCryptoAsset(e).subscribe(n=>{this.logger.LOG(n.message,"OperationExchangeComponent");let a=e.assets.length>1?this.translate.instant("response.operation").replace("$OP1$",e.assets[1].symbol).replace("$OP2$",e.assets[0].symbol):this.translate.instant("response.operation").replace("$OP1$","USD").replace("$OP2$",e.assets[0].symbol);this.swal.toastMessage($.u.SUCCESS,a),this.router.navigate(["/crypto/dashboard"])})}saveWallets(e){this.saveWalletsSubscribe=this.cryptoService.addOrUpdateCryptoAssets(e).subscribe(n=>{this.logger.LOG(n.message,"OperationExchangeComponent"),this.swal.toastMessage($.u.SUCCESS,this.translate.instant("response.operation").replace("$OP1$",e[0].name).replace("$OP2$",e[1].name)),this.router.navigate(["/crypto/dashboard"])})}editBalance(){this.isEditBalance=!1,this.makeNewBalance()}operationsValidation(e){switch(this.operationType){case l.jw.NEWINVESTMENT:return e.invalid||!this.disableOnEdit();case l.jw.HOLDING:case l.jw.TRADING:return e.invalid||!this.validateSelect()||!this.disableOnEdit();case l.jw.TRANSFER:return e.invalid||!this.validateSelect()||!this.disableOnEdit()||!this.isWalletSelected;default:return!1}}disableOnEdit(){return!this.isEditBalance&&!this.isEditDate}validateSelect(){return!(!this.wallet.assets&&this.operationType!=l.jw.NEWINVESTMENT)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(A.gz),t.Y36(E.H),t.Y36(D.m),t.Y36(V.J),t.Y36(A.F0),t.Y36(t.sBO),t.Y36(_.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-operation-exchange"]],decls:43,vars:28,consts:[[1,"mx-auto","section-width"],[3,"routerLinks","title","isMenuActive","isInfoActive","emitInfo"],["type","hidden","data-bs-toggle","modal"],["openInfo",""],["id","appCapsule"],[1,"row","margin"],[1,"col-12","col-md-6"],[1,"title-section","row"],[1,"col-2","col-md-2","col-xl-1",2,"display","flex","align-items","center"],["alt","",1,"walletLogo",3,"src"],[1,"col-10","col-md-10","col-xl-11"],[1,"title"],[1,"col-6","hidden_mobile","text-end"],[1,"title-section"],["action",""],["f","ngForm"],[4,"ngIf"],[1,"mx-auto",2,"max-width","1500px"],["class","section mt-2",4,"ngIf"],["class","alert alert-danger mb-1","role","alert",4,"ngIf"],["class","section",4,"ngIf"],[1,"section"],[1,"exchange-line"],[1,"exchange-icon"],["name","swap-vertical-outline"],["class","form-button-group transparent",4,"ngIf"],[3,"operationType","modalId"],[1,"title-section","text-center","mb-3"],[1,"title",2,"margin-top","0px !important"],[1,"container","parent"],[1,"row"],["class","col text-center",4,"ngFor","ngForOf"],[1,"col","text-center"],["type","radio","name","imgbackground","required","",1,"d-none","imgbgchk",3,"id","click"],[3,"for"],[1,"card"],[1,"card-body"],["width","48","height","48","alt","Image 2",1,"border_round","mb-1",3,"src"],[1,"tick_container"],[1,"tick"],[1,"fa","fa-check"],[1,"section","mt-2"],[1,"card","border"],[1,"form-group","basic","p-0"],[1,"exchange-heading"],["for","fromAmount",1,"group-label"],[1,"exchange-wallet-info"],["class","clickable",3,"click",4,"ngIf"],["class","row editFees",4,"ngIf"],[1,"exchange-group"],[1,"input-col"],["type","number","id","fromAmount","placeholder","0","id","investedMoney","name","investedMoney","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","keyup","ngModelChange"],["investedMoney1","ngModel"],[1,"select-col"],[1,"form-select","form-select-lg","currency"],["selected","",3,"value"],[1,"clickable",3,"click"],[1,"row","editFees"],[1,"col-7","col-md-8"],[1,"form-group","basic"],[1,"input-wrapper"],["for","price",1,"label"],["type","number","id","price","name","price","required","",1,"form-control",3,"ngModel","value","placeholder","ngModelChange"],["price1","ngModel"],[1,"clear-input"],["name","close-circle"],[1,"col-1"],["type","button",1,"btn","btn-primary","rounded","me-1",2,"vertical-align","-25px",3,"disabled","click"],["role","alert",1,"alert","alert-danger","mb-1"],["for","toAmount",1,"group-label"],[1,"exchange-wallet-info",2,"position","absolute","bottom","9px","right","13px"],[1,"col-md-8","col-7","mt-1"],["type","number","id","toAmount","placeholder","0","id","assetHoldingBalance","name","assetHoldingBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","max","keyup","ngModelChange"],["assetHoldingBalance1","ngModel"],[1,"col-md-4","col-5","mb-2",2,"max-height","55px"],[3,"wrapperID","fiat","isOperation","cryptoPrices","emitSelectAsset"],["type","number","id","toTradingAmount","placeholder","0","id","assetTradingBalance","name","assetTradingBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","max","keyup","ngModelChange"],["assetTradingBalance1","ngModel"],[1,"col-md-8","col-7"],["type","number","id","toNewBalanceAmount","placeholder","0","id","balanceToTransfer","name","balanceToTransfer","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","ngModelChange"],["balanceToTransfer1","ngModel"],[1,"col-md-4","col-5",2,"max-height","55px"],["type","number","id","toNewBalanceAmount","placeholder","0","id","assetNewBalance","name","assetNewBalance","required","","maxlength","10",1,"form-control","form-control-lg","pe-0","border-0",3,"ngModel","value","ngModelChange"],["assetNewBalance1","ngModel"],[1,"row","fontsize-caption"],[1,"col-6"],[1,"row","text-start"],[1,"d-flex","justify-content-start"],["class","row","style","max-width: 300px",4,"ngIf"],[1,"row","text-end"],[1,"d-flex","justify-content-end"],[1,"row",2,"max-width","300px"],[1,"col-md","col-sm-12"],[1,"col",2,"max-width","80px"],[1,"col"],["for","date",1,"label"],["type","date","id","date","name","date","required","",1,"form-control",3,"ngModel","value","ngModelChange"],["date1","ngModel"],[1,"form-button-group","transparent"],["type","button",1,"btn","btn-primary","btn-block","btn-lg",3,"disabled","click"]],template:function(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"app-crypto-header",1),t.NdJ("emitInfo",function(){return t.CHM(a),t.MAs(3).click()}),t.qZA(),t._UZ(2,"input",2,3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t._UZ(9,"img",9),t.qZA(),t.TgZ(10,"div",10),t.TgZ(11,"h2",11),t._uU(12),t.qZA(),t.TgZ(13,"small"),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"div",13),t.TgZ(19,"h2",11),t._uU(20),t.qZA(),t.TgZ(21,"small"),t.TgZ(22,"p"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"form",14,15),t.YNc(27,la,8,4,"div",16),t.TgZ(28,"section",17),t.YNc(29,pa,19,9,"div",18),t.YNc(30,ga,3,3,"div",19),t.YNc(31,_a,25,18,"div",20),t.YNc(32,Ta,25,18,"div",20),t.TgZ(33,"div",21),t.TgZ(34,"div",22),t.TgZ(35,"div",23),t._UZ(36,"ion-icon",24),t.qZA(),t.qZA(),t.qZA(),t.YNc(37,xa,19,11,"div",20),t.YNc(38,ba,3,3,"div",19),t.YNc(39,Ca,21,14,"div",20),t.YNc(40,Da,12,4,"div",18),t.qZA(),t.YNc(41,Sa,4,4,"div",25),t.qZA(),t.qZA(),t.qZA(),t._UZ(42,"app-info-modal",26)}2&e&&(t.xp6(1),t.Q6J("routerLinks","/crypto/dashboard")("title",n.operationType)("isMenuActive",!1)("isInfoActive",!0),t.xp6(1),t.Q2q("data-bs-target","#",n.modalConstant.INFO,""),t.xp6(7),t.s9C("src",n.wallet.img,t.LSH),t.xp6(3),t.Oqu(n.wallet.name),t.xp6(3),t.lnq(" ",t.lcZ(16,24,"crypto.operationExchange.balance")," ",n.wallet.balance," ",n.fiat," "),t.xp6(5),t.Oqu(n.operationType),t.xp6(3),t.Oqu(t.lcZ(24,26,"crypto.operationExchange.type")),t.xp6(4),t.Q6J("ngIf",n.operationType==n.operations.TRANSFER),t.xp6(2),t.Q6J("ngIf",n.operationType==n.operations.NEWINVESTMENT),t.xp6(1),t.Q6J("ngIf",!n.validateSelect()&&n.operationType!=n.operations.TRANSFER),t.xp6(1),t.Q6J("ngIf",n.operationType==n.operations.HOLDING&&n.validateSelect()),t.xp6(1),t.Q6J("ngIf",n.operationType==n.operations.TRADING),t.xp6(5),t.Q6J("ngIf",n.operationType==n.operations.TRANSFER&&n.validateSelect()),t.xp6(1),t.Q6J("ngIf",!n.validateSelect()&&n.operationType==n.operations.TRANSFER),t.xp6(1),t.Q6J("ngIf",n.operationType!=n.operations.TRANSFER),t.xp6(1),t.Q6J("ngIf",n.validateSelect()),t.xp6(1),t.Q6J("ngIf",n.operationType),t.xp6(1),t.Q6J("operationType",n.operationType)("modalId",n.modalConstant.INFO))},directives:[L,d._Y,d.JL,d.F,u.O5,u.sg,d.wV,d.Fj,d.Q7,d.JJ,d.On,v.gu,d.nD,d.YN,d.Kr,d.Fd,ot,G],pipes:[_.X$,u.uU],styles:["@media screen and (max-width: 780px){.title[_ngcontent-%COMP%]{font-size:larger}.margin[_ngcontent-%COMP%]{margin-top:10px!important;margin-left:20px!important;margin-right:20px!important}.walletLogo[_ngcontent-%COMP%]{vertical-align:-60px!important}.editFees[_ngcontent-%COMP%]{max-width:210px}}.margin[_ngcontent-%COMP%]{margin:20px}.walletLogo[_ngcontent-%COMP%]{border-radius:50%;vertical-align:-65px;width:80px}.border[_ngcontent-%COMP%]{border-color:#372648!important}.col[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer;transition:transform 1s;object-fit:cover}.col[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{overflow:hidden;position:relative}.imgbgchk[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > .tick_container[_ngcontent-%COMP%]{opacity:1}.imgbgchk[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{transform:scale(1.25);transition:.8s ease;opacity:.3}.tick_container[_ngcontent-%COMP%]{transition:.8s ease;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);cursor:pointer;text-align:center}.tick[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-size:16px;padding:6px 12px;height:40px;width:40px;border-radius:100%}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#fff!important;opacity:1;display:block;background-color:#f0f8ff77;border-radius:20px;width:25px;height:25px;margin-right:-25px;border-width:thin}"]}),i})();function Ea(i,s){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"h2",7),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"a",8),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t._UZ(8,"app-operations-list",9),t.qZA()),2&i){const e=s.$implicit,n=t.oxw();t.xp6(3),t.AsE(" ",t.lcZ(4,9,"crypto.asset.details.overview.operations")," for ",e," "),t.xp6(3),t.Oqu(t.lcZ(7,11,"crypto.asset.details.overview.view")),t.xp6(2),t.Q6J("modalID",n.modalConstant.CRYPTOOPERATION)("cryptoDashboard",n.cryptoService.cryptoDashboard)("walletsAsset",n.cryptoService.cryptoDashboard.wallets)("isFullList",!0)("operationsMapByYear",n.operationsMapByYear)("year",e)}}let La=(()=>{class i{constructor(e,n){this.cryptoService=e,this.route=n,this.routeSubscribe=new T.w0,this.operations=[],this.cryptoCurrency="",this.operationsMapByYear=new Map}get modalConstant(){return l.Dq}ngOnDestroy(){this.routeSubscribe.unsubscribe()}ngOnInit(){this.routeSubscribe=this.route.params.subscribe(e=>{this.cryptoCurrency=e.currency;let n=this.cryptoService.operationsMap.get(e.uuid);this.mapOperationsByYear(n)})}mapOperationsByYear(e){let n=[];e.forEach(a=>{n.push(a.entryDate.toString().split("-")[0])}),this.uniqueYears=[...new Set(n)],this.uniqueYears.forEach(a=>{var o;null===(o=this.operationsMapByYear)||void 0===o||o.set(a,e.filter(r=>r.entryDate.toString().includes(a)))})}selectOperation(e){this.operationSelect=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(A.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-operations"]],decls:6,vars:8,consts:[[1,"mx-auto","section-width"],[3,"title","isMenuActive"],["id","appCapsule"],["class","section mt-4",4,"ngFor","ngForOf"],[3,"modalId","operation","currency"],[1,"section","mt-4"],[1,"section-heading"],[1,"title"],["hidden","","href","#",1,"link"],[3,"modalID","cryptoDashboard","walletsAsset","isFullList","operationsMapByYear","year"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-crypto-header",1),t.ALo(2,"translate"),t.TgZ(3,"div",2),t.YNc(4,Ea,9,13,"div",3),t.qZA(),t.qZA(),t._UZ(5,"app-operation-details",4)),2&e&&(t.xp6(1),t.Q6J("title",t.lcZ(2,6,"crypto.operationExchange.history"))("isMenuActive",!1),t.xp6(3),t.Q6J("ngForOf",null==n.uniqueYears?null:n.uniqueYears.slice()),t.xp6(1),t.Q6J("modalId",n.modalConstant.CRYPTOOPERATIONDETAILS)("operation",n.operationSelect)("currency",n.cryptoCurrency))},directives:[L,u.sg,W,dt],pipes:[_.X$],styles:[".icon-box-c[_ngcontent-%COMP%]{width:45px!important;height:45px!important;position:relative}.img1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.img2[_ngcontent-%COMP%]{position:absolute;left:20px}"]}),i})(),Ia=(()=>{class i{constructor(e,n,a){this.cryptoService=e,this.route=n,this.screenService=a,this.marketDataSubscribe=new T.w0,this.marketData=[],this.search="",this.filterMarketData=[],this.cryptoDashboard=new M}get modalConstant(){return l.Dq}ngOnDestroy(){this.marketDataSubscribe.unsubscribe()}ngOnInit(){this.screenService.hideFooter(),this.getMarketData()}getMarketData(){this.cryptoDashboard=this.cryptoService.cryptoDashboard,this.route.params.subscribe(e=>{this.cryptoCurrency=e.currency,this.marketDataSubscribe=this.cryptoService.getCryptoPriceData(e.currency).subscribe(n=>{this.cryptoService.cache.cacheMarketDataByCurrencyData(n),this.marketData=n.data,this.updateDate=this.marketData[0].updateDate,this.filterMarketData=n.data})})}onKeySearch(e){setTimeout(()=>{this.filterMarketDatas(this.search)},10)}filterMarketDatas(e){this.filterMarketData=this.marketData.filter(n=>{var a,o;return(null===(a=n.name)||void 0===a?void 0:a.toLocaleLowerCase().includes(e.toLocaleLowerCase()))||(null===(o=n.symbol)||void 0===o?void 0:o.toLocaleLowerCase().includes(e.toLocaleLowerCase()))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q),t.Y36(A.gz),t.Y36(E.H))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-market-data"]],decls:30,vars:27,consts:[[1,"mx-auto","section-width"],[3,"title"],["id","appCapsule"],[1,"section","mt-2"],[1,"row"],[1,"col-12","col-md-8"],[1,"title-section",2,"margin-bottom","0px"],[1,"title"],[2,"margin-top","-10px"],[2,"margin-top","-25px"],[1,"col-12","col-md-4"],[1,"form-group","basic","margin"],[1,"input-wrapper"],["spellcheck","false","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup"],["name","ngModel"],[1,"clear-input"],["name","close-circle"],[3,"filterMarketData"],[3,"modalId","wallets","assets","currency","statsAssetsDays"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-crypto-header",1),t.ALo(2,"translate"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"h2",7),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p",8),t.TgZ(12,"small"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.TgZ(15,"p",9),t.TgZ(16,"small"),t._uU(17),t.ALo(18,"translate"),t.ALo(19,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"input",13,14),t.NdJ("ngModelChange",function(o){return n.search=o})("keyup",function(o){return n.onKeySearch(o)}),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"i",15),t._UZ(27,"ion-icon",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(28,"app-market-data-table",17),t.qZA(),t.qZA(),t.qZA(),t._UZ(29,"app-operations-modal",18)),2&e&&(t.xp6(1),t.s9C("title",t.lcZ(2,14,"crypto.marketData.title")),t.xp6(8),t.Oqu(t.lcZ(10,16,"crypto.marketData.title")),t.xp6(4),t.AsE("",t.lcZ(14,18,"crypto.marketData.currency")," ",n.cryptoCurrency,""),t.xp6(4),t.AsE("",t.lcZ(18,20,"crypto.marketData.updated")," ",t.xi3(19,22,n.updateDate,"d MMM y, HH:mm"),""),t.xp6(6),t.s9C("placeholder",t.lcZ(25,25,"crypto.marketData.search")),t.Q6J("ngModel",n.search),t.xp6(5),t.Q6J("filterMarketData",n.filterMarketData),t.xp6(1),t.Q6J("modalId",n.modalConstant.ADDOPERATIONS)("wallets",n.cryptoDashboard.wallets)("assets",n.cryptoDashboard.assets)("currency",n.cryptoDashboard.currency)("statsAssetsDays",n.cryptoDashboard.statsAssetsDays))},directives:[L,d.Fj,d.JJ,d.On,v.gu,nt,R],pipes:[_.X$,u.uU],styles:[".title-section[_ngcontent-%COMP%]{margin:10px -85px -60px 30px}#appCapsule[_ngcontent-%COMP%]{overflow-x:hidden}.margin[_ngcontent-%COMP%]{margin-top:40px}@media screen and (max-width: 780px){.title-section[_ngcontent-%COMP%]{margin-left:20px;margin-top:15px!important;margin-bottom:15px!important}.margin[_ngcontent-%COMP%]{margin-top:0!important}}.section[_ngcontent-%COMP%]{margin-bottom:-40px}"]}),i})();const Na=[{path:"",component:yt,children:[{path:"dashboard",component:ze,canActivate:[g(142).G]},{path:"requirements",component:cn,data:{animation:I.g8}},{path:"asset",component:yn,data:{animation:I.g8}},{path:"asset/details/:identifier",component:wi},{path:"resume",component:sa,data:{animation:I.g8}},{path:"operation/:operationType/:wallet/:fiat",component:Ua,data:{animation:I.g8}},{path:"operations/:currency/:uuid",component:La,data:{animation:I.g8}},{path:"market-data/:currency",component:Ia,data:{animation:I.g8}}]}];let Ja=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[A.Bz.forChild(Na)],A.Bz]}),i})();var Pa=g(6396);let Ya=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Ja,u.ez,Zt.I,mt.V,Y.X,pt.vQ,Pa.$,_t.m,v.Pc.forRoot(),d.u5,ht.d,_.aw.forChild({loader:{provide:_.Zw,useFactory:ut.g,deps:[U.eN]}}),gt.Wr.register("ngsw-worker.js",{enabled:y.N.production,registrationStrategy:"registerWhenStable:30000"})]]}),i})()}}]);